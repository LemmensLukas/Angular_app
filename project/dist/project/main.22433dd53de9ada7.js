"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[179],{2313:(_n,lt,Y)=>{Y.d(lt,{nm:()=>Rr});var w=Y(3530),xe=(Y(8256),Y(3692),Y(259),Y(5861)),le=Y(6881),_e=Y(4859),ut=Y(2090),Ge=Y(1877);const fe=new Map,ge={activated:!1,tokenObservers:[]},Ke={initialized:!1,enabled:!1};function at(se){return fe.get(se)||Object.assign({},ge)}function wt(){return Ke}const ke="https://content-firebaseappcheck.googleapis.com/v1",vn="exchangeDebugToken",Ct={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class _t{constructor(me,be,We,yt,Bt){if(this.operation=me,this.retryPolicy=be,this.getWaitDuration=We,this.lowerBound=yt,this.upperBound=Bt,this.pending=null,this.nextErrorWaitInterval=yt,yt>Bt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(me){var be=this;return(0,xe.Z)(function*(){be.stop();try{be.pending=new ut.BH,yield function et(se){return new Promise(me=>{setTimeout(me,se)})}(be.getNextRun(me)),be.pending.resolve(),yield be.pending.promise,be.pending=new ut.BH,yield be.operation(),be.pending.resolve(),yield be.pending.promise,be.process(!0).catch(()=>{})}catch(We){be.retryPolicy(We)?be.process(!1).catch(()=>{}):be.stop()}})()}getNextRun(me){if(me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const be=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),be}}}const Ze=new ut.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dt(se){if(!at(se).activated)throw Ze.create("use-before-activation",{appName:se.name})}function wn(se,me){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,xe.Z)(function*({url:se,body:me},be){const We={"Content-Type":"application/json"},yt=be.getImmediate({optional:!0});if(yt){const Qr=yield yt.getHeartbeatsHeader();Qr&&(We["X-Firebase-Client"]=Qr)}const Bt={method:"POST",body:JSON.stringify(me),headers:We};let Fn,nn;try{Fn=yield fetch(se,Bt)}catch(Qr){throw Ze.create("fetch-network-error",{originalErrorMessage:Qr?.message})}if(200!==Fn.status)throw Ze.create("fetch-status-error",{httpStatus:Fn.status});try{nn=yield Fn.json()}catch(Qr){throw Ze.create("fetch-parse-error",{originalErrorMessage:Qr?.message})}const Pn=nn.ttl.match(/^([\d.]+)(s)$/);if(!Pn||!Pn[2]||isNaN(Number(Pn[1])))throw Ze.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${nn.ttl}`});const si=1e3*Number(Pn[1]),yn=Date.now();return{token:nn.token,expireTimeMillis:yn+si,issuedAtTimeMillis:yn}})).apply(this,arguments)}function qn(se,me){const{projectId:be,appId:We,apiKey:yt}=se.options;return{url:`${ke}/projects/${be}/apps/${We}:${vn}?key=${yt}`,body:{debug_token:me}}}const tn="firebase-app-check-database",Ne=1,Me="firebase-app-check-store";let $e=null;function xt(se,me){return ln.apply(this,arguments)}function ln(){return(ln=(0,xe.Z)(function*(se,me){const We=(yield function mt(){return $e||($e=new Promise((se,me)=>{try{const be=indexedDB.open(tn,Ne);be.onsuccess=We=>{se(We.target.result)},be.onerror=We=>{var yt;me(Ze.create("storage-open",{originalErrorMessage:null===(yt=We.target.error)||void 0===yt?void 0:yt.message}))},be.onupgradeneeded=We=>{0===We.oldVersion&&We.target.result.createObjectStore(Me,{keyPath:"compositeKey"})}}catch(be){me(Ze.create("storage-open",{originalErrorMessage:be?.message}))}}),$e)}()).transaction(Me,"readwrite"),Bt=We.objectStore(Me).put({compositeKey:se,value:me});return new Promise((Fn,nn)=>{Bt.onsuccess=Pn=>{Fn()},We.onerror=Pn=>{var si;nn(Ze.create("storage-set",{originalErrorMessage:null===(si=Pn.target.error)||void 0===si?void 0:si.message}))}})})).apply(this,arguments)}const Hn=new Ge.Yd("@firebase/app-check");function or(se,me){return(0,ut.hl)()?function Ot(se,me){return xt(function zn(se){return`${se.options.appId}-${se.name}`}(se),me)}(se,me).catch(be=>{Hn.warn(`Failed to write token to IndexedDB. Error: ${be}`)}):Promise.resolve()}function ar(){return wt().enabled}function vr(){return ri.apply(this,arguments)}function ri(){return(ri=(0,xe.Z)(function*(){const se=wt();if(se.enabled&&se.token)return se.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hr={error:"UNKNOWN_ERROR"};function Zr(se){return ut.US.encodeString(JSON.stringify(se),!1)}function Cn(se){return st.apply(this,arguments)}function st(){return(st=(0,xe.Z)(function*(se,me=!1){const be=se.app;dt(be);const We=at(be);let Bt,yt=We.token;if(yt&&!Yn(yt)&&(We.token=void 0,yt=void 0),!yt){const Pn=yield We.cachedTokenPromise;Pn&&(Yn(Pn)?yt=Pn:yield or(be,void 0))}if(!me&&yt&&Yn(yt))return{token:yt.token};let nn,Fn=!1;if(ar()){We.exchangeTokenPromise||(We.exchangeTokenPromise=wn(qn(be,yield vr()),se.heartbeatServiceProvider).finally(()=>{We.exchangeTokenPromise=void 0}),Fn=!0);const Pn=yield We.exchangeTokenPromise;return yield or(be,Pn),We.token=Pn,{token:Pn.token}}try{We.exchangeTokenPromise||(We.exchangeTokenPromise=We.provider.getToken().finally(()=>{We.exchangeTokenPromise=void 0}),Fn=!0),yt=yield at(be).exchangeTokenPromise}catch(Pn){"appCheck/throttled"===Pn.code?Hn.warn(Pn.message):Hn.error(Pn),Bt=Pn}return yt?Bt?nn=Yn(yt)?{token:yt.token,internalError:Bt}:pi(Bt):(nn={token:yt.token},We.token=yt,yield or(be,yt)):nn=pi(Bt),Fn&&function zr(se,me){const be=at(se).tokenObservers;for(const We of be)try{"EXTERNAL"===We.type&&null!=me.error?We.error(me.error):We.next(me)}catch{}}(be,nn),nn})).apply(this,arguments)}function Zt(se){return In.apply(this,arguments)}function In(){return(In=(0,xe.Z)(function*(se){const me=se.app;dt(me);const{provider:be}=at(me);if(ar()){const We=yield vr(),{token:yt}=yield wn(qn(me,We),se.heartbeatServiceProvider);return{token:yt}}{const{token:We}=yield be.getToken();return{token:We}}})).apply(this,arguments)}function Gn(se,me){const be=at(se),We=be.tokenObservers.filter(yt=>yt.next!==me);0===We.length&&be.tokenRefresher&&be.tokenRefresher.isRunning()&&be.tokenRefresher.stop(),be.tokenObservers=We}function Gr(se){const{app:me}=se,be=at(me);let We=be.tokenRefresher;We||(We=function Sn(se){const{app:me}=se;return new _t((0,xe.Z)(function*(){let We;if(We=at(me).token?yield Cn(se,!0):yield Cn(se),We.error)throw We.error;if(We.internalError)throw We.internalError}),()=>!0,()=>{const be=at(me);if(be.token){let We=be.token.issuedAtTimeMillis+.5*(be.token.expireTimeMillis-be.token.issuedAtTimeMillis)+3e5;return We=Math.min(We,be.token.expireTimeMillis-3e5),Math.max(0,We-Date.now())}return 0},Ct.RETRIAL_MIN_WAIT,Ct.RETRIAL_MAX_WAIT)}(se),be.tokenRefresher=We),!We.isRunning()&&be.isTokenAutoRefreshEnabled&&We.start()}function Yn(se){return se.expireTimeMillis-Date.now()>0}function pi(se){return{token:Zr(hr),error:se}}class Nn{constructor(me,be){this.app=me,this.heartbeatServiceProvider=be}_delete(){const{tokenObservers:me}=at(this.app);for(const be of me)Gn(this.app,be.next);return Promise.resolve()}}const Wt="app-check-internal";!function fn(){(0,le.Xd)(new _e.wA("app-check",se=>function Yr(se,me){return new Nn(se,me)}(se.getProvider("app").getImmediate(),se.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((se,me,be)=>{se.getProvider(Wt).initialize()})),(0,le.Xd)(new _e.wA(Wt,se=>function cr(se){return{getToken:me=>Cn(se,me),getLimitedUseToken:()=>Zt(se),addTokenListener:me=>function Tn(se,me,be,We){const{app:yt}=se,Bt=at(yt);if(Bt.tokenObservers=[...Bt.tokenObservers,{next:be,error:We,type:me}],Bt.token&&Yn(Bt.token)){const nn=Bt.token;Promise.resolve().then(()=>{be({token:nn.token}),Gr(se)}).catch(()=>{})}Bt.cachedTokenPromise.then(()=>Gr(se))}(se,"INTERNAL",me),removeTokenListener:me=>Gn(se.app,me)}}(se.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,le.KN)("@firebase/app-check","0.8.0")}();class Rr{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window},3692:(_n,lt,Y)=>{Y.d(lt,{Ot:()=>ne,ZF:()=>It,hX:()=>at,z6:()=>xe});var w=Y(259),g=Y(8256),we=Y(3530);class ne{constructor(_t){return _t}}class xe{constructor(){return(0,w.C6)()}}const ut=new g.OlP("angularfire2._apps"),Ge={provide:ne,useFactory:function _e(ft){return ft&&1===ft.length?ft[0]:new ne((0,w.Mq)())},deps:[[new g.FiY,ut]]},fe={provide:xe,deps:[[new g.FiY,ut]]};function ge(ft){return(_t,et)=>{const Et=_t.runOutsideAngular(()=>ft(et));return new ne(Et)}}let Ke=(()=>{class ft{constructor(et){(0,w.KN)("angularfire",we.q4.full,"core"),(0,w.KN)("angularfire",we.q4.full,"app"),(0,w.KN)("angular",g.q4F.full,et.toString())}}return ft.\u0275fac=function(et){return new(et||ft)(g.LFG(g.Lbi))},ft.\u0275mod=g.oAB({type:ft}),ft.\u0275inj=g.cJS({providers:[Ge,fe]}),ft})();function at(ft,..._t){return{ngModule:Ke,providers:[{provide:ut,useFactory:ge(ft),multi:!0,deps:[g.R0b,g.zs3,we.HU,..._t]}]}}const It=(0,we.u3)(w.ZF,!0)},2309:(_n,lt,Y)=>{Y.d(lt,{gx:()=>Bu,dh:()=>Ml,Xb:()=>jc,v0:()=>Th,AR:()=>$c,e5:()=>kl});var w=Y(3530),g=Y(8256),we=Y(3692),ne=Y(259),xe=Y(2313),le=Y(5861),_e=Y(2090),ut=Y(6881),Ge=Y(7582),fe=Y(1877),ge=Y(4859);const Ct=function Tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new _e.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new fe.Yd("@firebase/auth");function Ze(I,...d){et.logLevel<=fe.in.ERROR&&et.error(`Auth (${ut.Jn}): ${I}`,...d)}function gt(I,...d){throw wn(I,...d)}function dt(I,...d){return wn(I,...d)}function wn(I,...d){if("string"!=typeof I){const p=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=I.name),I._errorFactory.create(p,...C)}return ft.create(I,...d)}function Ve(I,d,...p){if(!I)throw wn(d,...p)}function mn(I){const d="INTERNAL ASSERTION FAILED: "+I;throw Ze(d),new Error(d)}function Vt(I,d){I||mn(d)}function qn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Ne(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class $e{constructor(d,p){this.shortDelay=d,this.longDelay=p,Vt(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,_e.uI)()||(0,_e.b$)()}get(){return function Me(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tn(){return"http:"===Ne()||"https:"===Ne()}()||(0,_e.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mt(I,d){Vt(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class vt{static initialize(d,p,C){this.fetchImpl=d,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},an=new $e(3e4,6e4);function Gt(I,d){return I.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:I.tenantId}):d}function xt(I,d,p,C){return ln.apply(this,arguments)}function ln(){return(ln=(0,le.Z)(function*(I,d,p,C,G={}){return Yt(I,G,(0,le.Z)(function*(){let X={},Te={};C&&("GET"===d?Te=C:X={body:JSON.stringify(C)});const Ye=(0,_e.xO)(Object.assign({key:I.config.apiKey},Te)).slice(1),kt=yield I._getAdditionalHeaders();return kt["Content-Type"]="application/json",I.languageCode&&(kt["X-Firebase-Locale"]=I.languageCode),vt.fetch()(Mn(I,I.config.apiHost,p,Ye),Object.assign({method:d,headers:kt,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function Yt(I,d,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,le.Z)(function*(I,d,p){I._canInitEmulator=!1;const C=Object.assign(Object.assign({},Ot),d);try{const G=new nr(I),X=yield Promise.race([p(),G.promise]);G.clearNetworkTimeout();const Te=yield X.json();if("needConfirmation"in Te)throw or(I,"account-exists-with-different-credential",Te);if(X.ok&&!("errorMessage"in Te))return Te;{const Ye=X.ok?Te.errorMessage:Te.error.message,[kt,Kt]=Ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kt)throw or(I,"credential-already-in-use",Te);if("EMAIL_EXISTS"===kt)throw or(I,"email-already-in-use",Te);if("USER_DISABLED"===kt)throw or(I,"user-disabled",Te);const cn=C[kt]||kt.toLowerCase().replace(/[_\s]+/g,"-");if(Kt)throw function Ht(I,d,p){const C=Object.assign(Object.assign({},Ct()),{[d]:p});return new _e.LL("auth","Firebase",C).create(d,{appName:I.name})}(I,cn,Kt);gt(I,cn)}}catch(G){if(G instanceof _e.ZR)throw G;gt(I,"network-request-failed",{message:String(G)})}})).apply(this,arguments)}function zn(I,d,p,C){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,le.Z)(function*(I,d,p,C,G={}){const X=yield xt(I,d,p,C,G);return"mfaPendingCredential"in X&&gt(I,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function Mn(I,d,p,C){const G=`${d}${p}?${C}`;return I.config.emulator?mt(I.config,G):`${I.config.apiScheme}://${G}`}class nr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(dt(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function or(I,d,p){const C={appName:I.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const G=dt(I,d,C);return G.customData._tokenResponse=p,G}function Jn(){return(Jn=(0,le.Z)(function*(I,d){return xt(I,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function kr(){return(kr=(0,le.Z)(function*(I,d){return xt(I,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function hr(I){if(I)try{const d=new Date(Number(I));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function st(){return(st=(0,le.Z)(function*(I,d=!1){const p=(0,_e.m9)(I),C=yield p.getIdToken(d),G=In(C);Ve(G&&G.exp&&G.auth_time&&G.iat,p.auth,"internal-error");const X="object"==typeof G.firebase?G.firebase:void 0,Te=X?.sign_in_provider;return{claims:G,token:C,authTime:hr(Zt(G.auth_time)),issuedAtTime:hr(Zt(G.iat)),expirationTime:hr(Zt(G.exp)),signInProvider:Te||null,signInSecondFactor:X?.sign_in_second_factor||null}})).apply(this,arguments)}function Zt(I){return 1e3*Number(I)}function In(I){const[d,p,C]=I.split(".");if(void 0===d||void 0===p||void 0===C)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,_e.tV)(p);return G?JSON.parse(G):(Ze("Failed to decode base64 JWT payload"),null)}catch(G){return Ze("Caught error parsing JWT payload as JSON",G?.toString()),null}}function Gn(I,d){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,le.Z)(function*(I,d,p=!1){if(p)return d;try{return yield d}catch(C){throw C instanceof _e.ZR&&function Sn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(C)&&I.auth.currentUser===I&&(yield I.auth.signOut()),C}})).apply(this,arguments)}class zr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const G=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,le.Z)(function*(){yield p.iteration()}),C)}iteration(){var d=this;return(0,le.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class Yn{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pi(I){return Nn.apply(this,arguments)}function Nn(){return Nn=(0,le.Z)(function*(I){var d;const p=I.auth,C=yield I.getIdToken(),G=yield Gn(I,function ri(I,d){return kr.apply(this,arguments)}(p,{idToken:C}));Ve(G?.users.length,p,"internal-error");const X=G.users[0];I._notifyReloadListener(X);const Te=null!==(d=X.providerUserInfo)&&void 0!==d&&d.length?function _r(I){return I.map(d=>{var{providerId:p}=d,C=(0,Ge._T)(d,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(X.providerUserInfo):[],Ye=function ii(I,d){return[...I.filter(C=>!d.some(G=>G.providerId===C.providerId)),...d]}(I.providerData,Te),cn=!!I.isAnonymous&&!(I.email&&X.passwordHash||Ye?.length),er={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:Ye,metadata:new Yn(X.createdAt,X.lastLoginAt),isAnonymous:cn};Object.assign(I,er)}),Nn.apply(this,arguments)}function cr(){return(cr=(0,le.Z)(function*(I){const d=(0,_e.m9)(I);yield pi(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Vr(){return(Vr=(0,le.Z)(function*(I,d){const p=yield Yt(I,{},(0,le.Z)(function*(){const C=(0,_e.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:G,apiKey:X}=I.config,Te=Mn(I,G,"/v1/token",`key=${X}`),Ye=yield I._getAdditionalHeaders();return Ye["Content-Type"]="application/x-www-form-urlencoded",vt.fetch()(Te,{method:"POST",headers:Ye,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Bn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Ve(d.idToken,"internal-error"),Ve(typeof d.idToken<"u","internal-error"),Ve(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Tn(I){const d=In(I);return Ve(d,"internal-error"),Ve(typeof d.exp<"u","internal-error"),Ve(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var C=this;return(0,le.Z)(function*(){return Ve(!C.accessToken||C.refreshToken,d,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(d,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var C=this;return(0,le.Z)(function*(){const{accessToken:G,refreshToken:X,expiresIn:Te}=yield function hn(I,d){return Vr.apply(this,arguments)}(d,p);C.updateTokensAndExpiration(G,X,Number(Te))})()}updateTokensAndExpiration(d,p,C){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,p){const{refreshToken:C,accessToken:G,expirationTime:X}=p,Te=new Bn;return C&&(Ve("string"==typeof C,"internal-error",{appName:d}),Te.refreshToken=C),G&&(Ve("string"==typeof G,"internal-error",{appName:d}),Te.accessToken=G),X&&(Ve("number"==typeof X,"internal-error",{appName:d}),Te.expirationTime=X),Te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Bn,this.toJSON())}_performRefresh(){return mn("not implemented")}}function zt(I,d){Ve("string"==typeof I||typeof I>"u","internal-error",{appName:d})}class rr{constructor(d){var{uid:p,auth:C,stsTokenManager:G}=d,X=(0,Ge._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new Yn(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,le.Z)(function*(){const C=yield Gn(p,p.stsTokenManager.getToken(p.auth,d));return Ve(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(d){return function Cn(I){return st.apply(this,arguments)}(this,d)}reload(){return function Yr(I){return cr.apply(this,arguments)}(this)}_assign(d){this!==d&&(Ve(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new rr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var C=this;return(0,le.Z)(function*(){let G=!1;d.idToken&&d.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(d),G=!0),p&&(yield pi(C)),yield C.auth._persistUserIfCurrent(C),G&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var d=this;return(0,le.Z)(function*(){const p=yield d.getIdToken();return yield Gn(d,function qt(I,d){return Jn.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var C,G,X,Te,Ye,kt,Kt,cn;const er=null!==(C=p.displayName)&&void 0!==C?C:void 0,xs=null!==(G=p.email)&&void 0!==G?G:void 0,Go=null!==(X=p.phoneNumber)&&void 0!==X?X:void 0,iu=null!==(Te=p.photoURL)&&void 0!==Te?Te:void 0,Nl=null!==(Ye=p.tenantId)&&void 0!==Ye?Ye:void 0,Td=null!==(kt=p._redirectEventId)&&void 0!==kt?kt:void 0,Oh=null!==(Kt=p.createdAt)&&void 0!==Kt?Kt:void 0,Zc=null!==(cn=p.lastLoginAt)&&void 0!==cn?cn:void 0,{uid:Yc,emailVerified:Fh,isAnonymous:Lh,providerData:Ol,stsTokenManager:Vh}=p;Ve(Yc&&Vh,d,"internal-error");const op=Bn.fromJSON(this.name,Vh);Ve("string"==typeof Yc,d,"internal-error"),zt(er,d.name),zt(xs,d.name),Ve("boolean"==typeof Fh,d,"internal-error"),Ve("boolean"==typeof Lh,d,"internal-error"),zt(Go,d.name),zt(iu,d.name),zt(Nl,d.name),zt(Td,d.name),zt(Oh,d.name),zt(Zc,d.name);const Sd=new rr({uid:Yc,auth:d,email:xs,emailVerified:Fh,displayName:er,isAnonymous:Lh,photoURL:iu,phoneNumber:Go,tenantId:Nl,stsTokenManager:op,createdAt:Oh,lastLoginAt:Zc});return Ol&&Array.isArray(Ol)&&(Sd.providerData=Ol.map(Ad=>Object.assign({},Ad))),Td&&(Sd._redirectEventId=Td),Sd}static _fromIdTokenResponse(d,p,C=!1){return(0,le.Z)(function*(){const G=new Bn;G.updateFromServerResponse(p);const X=new rr({uid:p.localId,auth:d,stsTokenManager:G,isAnonymous:C});return yield pi(X),X})()}}const ce=new Map;function L(I){Vt(I instanceof Function,"Expected a class definition");let d=ce.get(I);return d?(Vt(d instanceof I,"Instance stored in cache mismatched with class"),d):(d=new I,ce.set(I,d),d)}const H=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,le.Z)(function*(){return!0})()}_set(p,C){var G=this;return(0,le.Z)(function*(){G.storage[p]=C})()}_get(p){var C=this;return(0,le.Z)(function*(){const G=C.storage[p];return void 0===G?null:G})()}_remove(p){var C=this;return(0,le.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return I.type="NONE",I})();function ee(I,d,p){return`firebase:${I}:${d}:${p}`}class Ie{constructor(d,p,C){this.persistence=d,this.auth=p,this.userKey=C;const{config:G,name:X}=this.auth;this.fullUserKey=ee(this.userKey,G.apiKey,X),this.fullPersistenceKey=ee("persistence",G.apiKey,X),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,le.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?rr._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,le.Z)(function*(){if(p.persistence===d)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,C="authUser"){return(0,le.Z)(function*(){if(!p.length)return new Ie(L(H),d,C);const G=(yield Promise.all(p.map(function(){var Kt=(0,le.Z)(function*(cn){if(yield cn._isAvailable())return cn});return function(cn){return Kt.apply(this,arguments)}}()))).filter(Kt=>Kt);let X=G[0]||L(H);const Te=ee(C,d.config.apiKey,d.name);let Ye=null;for(const Kt of p)try{const cn=yield Kt._get(Te);if(cn){const er=rr._fromJSON(d,cn);Kt!==X&&(Ye=er),X=Kt;break}}catch{}const kt=G.filter(Kt=>Kt._shouldAllowMigration);return X._shouldAllowMigration&&kt.length?(X=kt[0],Ye&&(yield X._set(Te,Ye.toJSON())),yield Promise.all(p.map(function(){var Kt=(0,le.Z)(function*(cn){if(cn!==X)try{yield cn._remove(Te)}catch{}});return function(cn){return Kt.apply(this,arguments)}}())),new Ie(X,d,C)):new Ie(X,d,C)})()}}function oe(I){const d=I.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Be(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ue(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Rt(d))return"Blackberry";if(Ut(d))return"Webos";if(te(d))return"Safari";if((d.includes("chrome/")||Ee(d))&&!d.includes("edge/"))return"Chrome";if(nt(d))return"Android";{const C=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function ue(I=(0,_e.z$)()){return/firefox\//i.test(I)}function te(I=(0,_e.z$)()){const d=I.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ee(I=(0,_e.z$)()){return/crios\//i.test(I)}function Be(I=(0,_e.z$)()){return/iemobile/i.test(I)}function nt(I=(0,_e.z$)()){return/android/i.test(I)}function Rt(I=(0,_e.z$)()){return/blackberry/i.test(I)}function Ut(I=(0,_e.z$)()){return/webos/i.test(I)}function Un(I=(0,_e.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function ot(I=(0,_e.z$)()){return Un(I)||nt(I)||Ut(I)||Rt(I)||/windows phone/i.test(I)||Be(I)}function fn(I,d=[]){let p;switch(I){case"Browser":p=oe((0,_e.z$)());break;case"Worker":p=`${oe((0,_e.z$)())}-${I}`;break;default:p=I}const C=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${ut.Jn}/${C}`}function Rr(I,d){return lr.apply(this,arguments)}function lr(){return(lr=(0,le.Z)(function*(I,d){return xt(I,"GET","/v2/recaptchaConfig",Gt(I,d))})).apply(this,arguments)}function ys(I){return void 0!==I&&void 0!==I.enterprise}class ts{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function _s(I){return new Promise((d,p)=>{const C=document.createElement("script");C.setAttribute("src",I),C.onload=d,C.onerror=G=>{const X=dt("internal-error");X.customData=G,p(X)},C.type="text/javascript",C.charset="UTF-8",function Wi(){var I,d;return null!==(d=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==d?d:document}().appendChild(C)})}function On(I){return`__${I}${Math.floor(1e6*Math.random())}`}const as="NO_RECAPTCHA";class xn{constructor(d){this.type="recaptcha-enterprise",this.auth=se(d)}verify(d="verify",p=!1){var C=this;return(0,le.Z)(function*(){function X(){return X=(0,le.Z)(function*(Ye){if(!p){if(null==Ye.tenantId&&null!=Ye._agentRecaptchaConfig)return Ye._agentRecaptchaConfig.siteKey;if(null!=Ye.tenantId&&void 0!==Ye._tenantRecaptchaConfigs[Ye.tenantId])return Ye._tenantRecaptchaConfigs[Ye.tenantId].siteKey}return new Promise(function(){var kt=(0,le.Z)(function*(Kt,cn){Rr(Ye,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(er=>{if(void 0!==er.recaptchaKey){const xs=new ts(er);return null==Ye.tenantId?Ye._agentRecaptchaConfig=xs:Ye._tenantRecaptchaConfigs[Ye.tenantId]=xs,Kt(xs.siteKey)}cn(new Error("recaptcha Enterprise site key undefined"))}).catch(er=>{cn(er)})});return function(Kt,cn){return kt.apply(this,arguments)}}())}),X.apply(this,arguments)}function Te(Ye,kt,Kt){const cn=window.grecaptcha;ys(cn)?cn.enterprise.ready(()=>{cn.enterprise.execute(Ye,{action:d}).then(er=>{kt(er)}).catch(()=>{kt(as)})}):Kt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ye,kt)=>{(function G(Ye){return X.apply(this,arguments)})(C.auth).then(Kt=>{if(!p&&ys(window.grecaptcha))Te(Kt,Ye,kt);else{if(typeof window>"u")return void kt(new Error("RecaptchaVerifier is only supported in browser"));_s("https://www.google.com/recaptcha/enterprise.js?render="+Kt).then(()=>{Te(Kt,Ye,kt)}).catch(cn=>{kt(cn)})}}).catch(Kt=>{kt(Kt)})})})()}}function gi(I,d,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,le.Z)(function*(I,d,p,C=!1){const G=new xn(I);let X;try{X=yield G.verify(p)}catch{X=yield G.verify(p,!0)}const Te=Object.assign({},d);return Object.assign(Te,C?{captchaResp:X}:{captchaResponse:X}),Object.assign(Te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Te})).apply(this,arguments)}class Di{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const C=X=>new Promise((Te,Ye)=>{try{Te(d(X))}catch(kt){Ye(kt)}});C.onAbort=p,this.queue.push(C);const G=this.queue.length-1;return()=>{this.queue[G]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,le.Z)(function*(){if(p.auth.currentUser===d)return;const C=[];try{for(const G of p.queue)yield G(d),G.onAbort&&C.push(G.onAbort)}catch(G){C.reverse();for(const X of C)try{X()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:G?.message})}})()}}class bi{constructor(d,p,C,G){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=G,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new me(this),this.idTokenSubscription=new me(this),this.beforeStateQueue=new Di(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=G.sdkClientVersion}_initializeWithPersistence(d,p){var C=this;return p&&(this._popupRedirectResolver=L(p)),this._initializationPromise=this.queue((0,le.Z)(function*(){var G,X;if(!C._deleted&&(C.persistenceManager=yield Ie.create(C,d),!C._deleted)){if(null!==(G=C._popupRedirectResolver)&&void 0!==G&&G._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(X=C.currentUser)||void 0===X?void 0:X.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,le.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,le.Z)(function*(){var C;const G=yield p.assertedPersistence.getCurrentUser();let X=G,Te=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ye=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,kt=X?._redirectEventId,Kt=yield p.tryRedirectSignIn(d);(!Ye||Ye===kt)&&Kt?.user&&(X=Kt.user,Te=!0)}if(!X)return p.directlySetCurrentUser(null);if(!X._redirectEventId){if(Te)try{yield p.beforeStateQueue.runMiddleware(X)}catch(Ye){X=G,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ye))}return X?p.reloadAndSetCurrentUserOrClear(X):p.directlySetCurrentUser(null)}return Ve(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===X._redirectEventId?p.directlySetCurrentUser(X):p.reloadAndSetCurrentUserOrClear(X)})()}tryRedirectSignIn(d){var p=this;return(0,le.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,le.Z)(function*(){try{yield pi(d)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var d=this;return(0,le.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,le.Z)(function*(){const C=d?(0,_e.m9)(d):null;return C&&Ve(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(d,p=!1){var C=this;return(0,le.Z)(function*(){if(!C._deleted)return d&&Ve(C.tenantId===d.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(d)),C.queue((0,le.Z)(function*(){yield C.directlySetCurrentUser(d),C.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,le.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,le.Z)(function*(){yield p.assertedPersistence.setPersistence(L(d))}))}initializeRecaptchaConfig(){var d=this;return(0,le.Z)(function*(){const p=yield Rr(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new ts(p);null==d.tenantId?d._agentRecaptchaConfig=C:d._tenantRecaptchaConfigs[d.tenantId]=C,C.emailPasswordEnabled&&new xn(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new _e.LL("auth","Firebase",d())}onAuthStateChanged(d,p,C){return this.registerStateListener(this.authStateSubscription,d,p,C)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,C){return this.registerStateListener(this.idTokenSubscription,d,p,C)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var C=this;return(0,le.Z)(function*(){const G=yield C.getOrInitRedirectPersistenceManager(p);return null===d?G.removeCurrentUser():G.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,le.Z)(function*(){if(!p.redirectPersistenceManager){const C=d&&L(d)||p._popupRedirectResolver;Ve(C,p,"argument-error"),p.redirectPersistenceManager=yield Ie.create(p,[L(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,le.Z)(function*(){var C,G;return p._isInitialized&&(yield p.queue((0,le.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===d?p._currentUser:(null===(G=p.redirectUser)||void 0===G?void 0:G._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,le.Z)(function*(){if(d===p.currentUser)return p.queue((0,le.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,C,G){if(this._deleted)return()=>{};const X="function"==typeof p?p:p.next.bind(p),Te=this._isInitialized?Promise.resolve():this._initializationPromise;return Ve(Te,this,"internal-error"),Te.then(()=>X(this.currentUser)),"function"==typeof p?d.addObserver(p,C,G):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,le.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=fn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,le.Z)(function*(){var p;const C={"X-Client-Version":d.clientVersion};d.app.options.appId&&(C["X-Firebase-gmpid"]=d.app.options.appId);const G=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();G&&(C["X-Firebase-Client"]=G);const X=yield d._getAppCheckToken();return X&&(C["X-Firebase-AppCheck"]=X),C})()}_getAppCheckToken(){var d=this;return(0,le.Z)(function*(){var p;const C=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function Et(I,...d){et.logLevel<=fe.in.WARN&&et.warn(`Auth (${ut.Jn}): ${I}`,...d)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function se(I){return(0,_e.m9)(I)}class me{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,_e.ne)(p=>this.observer=p)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bt(I){const d=I.indexOf(":");return d<0?"":I.substr(0,d+1)}function nn(I){if(!I)return null;const d=Number(I);return isNaN(d)?null:d}class si{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return mn("not implemented")}_getIdTokenResponse(d){return mn("not implemented")}_linkToIdToken(d,p){return mn("not implemented")}_getReauthenticationResolver(d){return mn("not implemented")}}function Er(I,d){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,le.Z)(function*(I,d){return xt(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ki(I,d){return vs.apply(this,arguments)}function vs(){return(vs=(0,le.Z)(function*(I,d){return zn(I,"POST","/v1/accounts:signInWithPassword",Gt(I,d))})).apply(this,arguments)}function Ti(){return(Ti=(0,le.Z)(function*(I,d){return zn(I,"POST","/v1/accounts:signInWithEmailLink",Gt(I,d))})).apply(this,arguments)}function oi(){return(oi=(0,le.Z)(function*(I,d){return zn(I,"POST","/v1/accounts:signInWithEmailLink",Gt(I,d))})).apply(this,arguments)}class Zi extends si{constructor(d,p,C,G=null){super("password",C),this._email=d,this._password=p,this._tenantId=G}static _fromEmailAndPassword(d,p){return new Zi(d,p,"password")}static _fromEmailAndCode(d,p,C=null){return new Zi(d,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,le.Z)(function*(){var C;switch(p.signInMethod){case"password":const G={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=d._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const X=yield gi(d,G,"signInWithPassword");return Ki(d,X)}return Ki(d,G).catch(function(){var X=(0,le.Z)(function*(Te){if("auth/missing-recaptcha-token"===Te.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ye=yield gi(d,G,"signInWithPassword");return Ki(d,Ye)}return Promise.reject(Te)});return function(Te){return X.apply(this,arguments)}}());case"emailLink":return function Ci(I,d){return Ti.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:gt(d,"internal-error")}})()}_linkToIdToken(d,p){var C=this;return(0,le.Z)(function*(){switch(C.signInMethod){case"password":return Er(d,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Pr(I,d){return oi.apply(this,arguments)}(d,{idToken:p,email:C._email,oobCode:C._password});default:gt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Si(I,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,le.Z)(function*(I,d){return zn(I,"POST","/v1/accounts:signInWithIdp",Gt(I,d))})).apply(this,arguments)}class Is{constructor(d){var p,C,G,X,Te,Ye;const kt=(0,_e.zd)((0,_e.pd)(d)),Kt=null!==(p=kt.apiKey)&&void 0!==p?p:null,cn=null!==(C=kt.oobCode)&&void 0!==C?C:null,er=function Aa(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=kt.mode)&&void 0!==G?G:null);Ve(Kt&&cn&&er,"argument-error"),this.apiKey=Kt,this.operation=er,this.code=cn,this.continueUrl=null!==(X=kt.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(Te=kt.languageCode)&&void 0!==Te?Te:null,this.tenantId=null!==(Ye=kt.tenantId)&&void 0!==Ye?Ye:null}static parseLink(d){const p=function Wo(I){const d=(0,_e.zd)((0,_e.pd)(I)).link,p=d?(0,_e.zd)((0,_e.pd)(d)).deep_link_id:null,C=(0,_e.zd)((0,_e.pd)(I)).deep_link_id;return(C?(0,_e.zd)((0,_e.pd)(C)).link:null)||C||p||d||I}(d);try{return new Is(p)}catch{return null}}}let Es=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,C){return Zi._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const G=Is.parseLink(C);return Ve(G,"argument-error"),Zi._fromEmailAndCode(p,G.code,G.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ui{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Oo extends Ui{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function go(I,d){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,le.Z)(function*(I,d){return zn(I,"POST","/v1/accounts:signUp",Gt(I,d))})).apply(this,arguments)}class Wr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,C,G=!1){return(0,le.Z)(function*(){const X=yield rr._fromIdTokenResponse(d,C,G),Te=ls(C);return new Wr({user:X,providerId:Te,_tokenResponse:C,operationType:p})})()}static _forOperation(d,p,C){return(0,le.Z)(function*(){yield d._updateTokensIfNecessary(C,!0);const G=ls(C);return new Wr({user:d,providerId:G,_tokenResponse:C,operationType:p})})()}}function ls(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class wi extends _e.ZR{constructor(d,p,C,G){var X;super(p.code,p.message),this.operationType=C,this.user=G,Object.setPrototypeOf(this,wi.prototype),this.customData={appName:d.name,tenantId:null!==(X=d.tenantId)&&void 0!==X?X:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,p,C,G){return new wi(d,p,C,G)}}function Fs(I,d,p,C){return("reauthenticate"===d?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?wi._fromErrorAndOperation(I,X,d,C):X})}function Bi(I,d){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,le.Z)(function*(I,d,p=!1){const C=yield Gn(I,d._linkToIdToken(I.auth,yield I.getIdToken()),p);return Wr._forOperation(I,"link",C)})).apply(this,arguments)}function ei(I,d){return j.apply(this,arguments)}function j(){return(j=(0,le.Z)(function*(I,d,p=!1){const{auth:C}=I,G="reauthenticate";try{const X=yield Gn(I,Fs(C,G,d,I),p);Ve(X.idToken,C,"internal-error");const Te=In(X.idToken);Ve(Te,C,"internal-error");const{sub:Ye}=Te;return Ve(I.uid===Ye,C,"user-mismatch"),Wr._forOperation(I,G,X)}catch(X){throw"auth/user-not-found"===X?.code&&gt(C,"user-mismatch"),X}})).apply(this,arguments)}function $(I,d){return ae.apply(this,arguments)}function ae(){return(ae=(0,le.Z)(function*(I,d,p=!1){const C="signIn",G=yield Fs(I,C,d),X=yield Wr._fromIdTokenResponse(I,C,G);return p||(yield I._updateCurrentUser(X.user)),X})).apply(this,arguments)}function he(I,d){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,le.Z)(function*(I,d){return $(se(I),d)})).apply(this,arguments)}function xa(I,d,p){return $i.apply(this,arguments)}function $i(){return $i=(0,le.Z)(function*(I,d,p){var C;const G=se(I),X={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let Te;if(null!==(C=G._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Kt=yield gi(G,X,"signUpPassword");Te=go(G,Kt)}else Te=go(G,X).catch(function(){var Kt=(0,le.Z)(function*(cn){if("auth/missing-recaptcha-token"===cn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const er=yield gi(G,X,"signUpPassword");return go(G,er)}return Promise.reject(cn)});return function(cn){return Kt.apply(this,arguments)}}());const Ye=yield Te.catch(Kt=>Promise.reject(Kt)),kt=yield Wr._fromIdTokenResponse(G,"signIn",Ye);return yield G._updateCurrentUser(kt.user),kt}),$i.apply(this,arguments)}function Or(I,d,p){return he((0,_e.m9)(I),Es.credential(d,p))}const Pt="__sak";class qe{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Pt,"1"),this.storage.removeItem(Pt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const pa=(()=>{class I extends qe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pt(){const I=(0,_e.z$)();return te(I)||Un(I)}()&&function Wt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ot(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const G=this.storage.getItem(C),X=this.localCache[C];G!==X&&p(C,X,G)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((Ye,kt,Kt)=>{this.notifyListeners(Ye,Kt)});const G=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ye=this.storage.getItem(G);if(p.newValue!==Ye)null!==p.newValue?this.storage.setItem(G,p.newValue):this.storage.removeItem(G);else if(this.localCache[G]===p.newValue&&!C)return}const X=()=>{const Ye=this.storage.getItem(G);!C&&this.localCache[G]===Ye||this.notifyListeners(G,Ye)},Te=this.storage.getItem(G);!function Pe(){return(0,_e.w1)()&&10===document.documentMode}()||Te===p.newValue||p.newValue===p.oldValue?X():setTimeout(X,10)}notifyListeners(p,C){this.localCache[p]=C;const G=this.listeners[p];if(G)for(const X of Array.from(G))X(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var G=()=>super._set,X=this;return(0,le.Z)(function*(){yield G().call(X,p,C),X.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,G=this;return(0,le.Z)(function*(){const X=yield C().call(G,p);return G.localCache[p]=JSON.stringify(X),X})()}_remove(p){var C=()=>super._remove,G=this;return(0,le.Z)(function*(){yield C().call(G,p),delete G.localCache[p]})()}}return I.type="LOCAL",I})(),nc=(()=>{class I extends qe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return I.type="SESSION",I})();let rc=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(X=>X.isListeningto(p));if(C)return C;const G=new I(p);return this.receivers.push(G),G}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,le.Z)(function*(){const G=p,{eventId:X,eventType:Te,data:Ye}=G.data,kt=C.handlersMap[Te];if(!kt?.size)return;G.ports[0].postMessage({status:"ack",eventId:X,eventType:Te});const Kt=Array.from(kt).map(function(){var er=(0,le.Z)(function*(xs){return xs(G.origin,Ye)});return function(xs){return er.apply(this,arguments)}}()),cn=yield function Wa(I){return Promise.all(I.map(function(){var d=(0,le.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return d.apply(this,arguments)}}()))}(Kt);G.ports[0].postMessage({status:"done",eventId:X,eventType:Te,response:cn})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function ao(I="",d=10){let p="";for(let C=0;C<d;C++)p+=Math.floor(10*Math.random());return I+p}class Ru{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,C=50){var G=this;return(0,le.Z)(function*(){const X=typeof MessageChannel<"u"?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let Te,Ye;return new Promise((kt,Kt)=>{const cn=ao("",20);X.port1.start();const er=setTimeout(()=>{Kt(new Error("unsupported_event"))},C);Ye={messageChannel:X,onMessage(xs){const Go=xs;if(Go.data.eventId===cn)switch(Go.data.status){case"ack":clearTimeout(er),Te=setTimeout(()=>{Kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Te),kt(Go.data.response);break;default:clearTimeout(er),clearTimeout(Te),Kt(new Error("invalid_response"))}}},G.handlers.add(Ye),X.port1.addEventListener("message",Ye.onMessage),G.target.postMessage({eventType:d,eventId:cn,data:p},[X.port2])}).finally(()=>{Ye&&G.removeMessageHandler(Ye)})})()}}function li(){return window}function sn(){return typeof li().WorkerGlobalScope<"u"&&"function"==typeof li().importScripts}function ki(){return(ki=(0,le.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ni="firebaseLocalStorageDb",pr=1,Jo="firebaseLocalStorage",hi="fbase_key";class Mt{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Vs(I,d){return I.transaction([Jo],d?"readwrite":"readonly").objectStore(Jo)}function Bo(){const I=indexedDB.open(Ni,pr);return new Promise((d,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const C=I.result;try{C.createObjectStore(Jo,{keyPath:hi})}catch(G){p(G)}}),I.addEventListener("success",(0,le.Z)(function*(){const C=I.result;C.objectStoreNames.contains(Jo)?d(C):(C.close(),yield function du(){const I=indexedDB.deleteDatabase(Ni);return new Mt(I).toPromise()}(),d(yield Bo()))}))})}function Pu(I,d,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,le.Z)(function*(I,d,p){const C=Vs(I,!0).put({[hi]:d,value:p});return new Mt(C).toPromise()})).apply(this,arguments)}function Oi(){return(Oi=(0,le.Z)(function*(I,d){const p=Vs(I,!1).get(d),C=yield new Mt(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ka(I,d){const p=Vs(I,!0).delete(d);return new Mt(p).toPromise()}const ds=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,le.Z)(function*(){return p.db||(p.db=yield Bo()),p.db})()}_withRetries(p){var C=this;return(0,le.Z)(function*(){let G=0;for(;;)try{const X=yield C._openDb();return yield p(X)}catch(X){if(G++>3)throw X;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,le.Z)(function*(){return sn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,le.Z)(function*(){p.receiver=rc._getInstance(function gn(){return sn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,le.Z)(function*(G,X){return{keyProcessed:(yield p._poll()).includes(X.key)}});return function(G,X){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,le.Z)(function*(G,X){return["keyChanged"]});return function(G,X){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,le.Z)(function*(){var C,G;if(p.activeServiceWorker=yield function Qo(){return ki.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ru(p.activeServiceWorker);const X=yield p.sender._send("ping",{},800);X&&null!==(C=X[0])&&void 0!==C&&C.fulfilled&&null!==(G=X[0])&&void 0!==G&&G.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,le.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function di(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,le.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Bo();return yield Pu(p,Pt,"1"),yield Ka(p,Pt),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,le.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var G=this;return(0,le.Z)(function*(){return G._withPendingWrite((0,le.Z)(function*(){return yield G._withRetries(X=>Pu(X,p,C)),G.localCache[p]=C,G.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,le.Z)(function*(){const G=yield C._withRetries(X=>function ic(I,d){return Oi.apply(this,arguments)}(X,p));return C.localCache[p]=G,G})()}_remove(p){var C=this;return(0,le.Z)(function*(){return C._withPendingWrite((0,le.Z)(function*(){return yield C._withRetries(G=>Ka(G,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,le.Z)(function*(){const C=yield p._withRetries(Te=>{const Ye=Vs(Te,!1).getAll();return new Mt(Ye).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const G=[],X=new Set;for(const{fbase_key:Te,value:Ye}of C)X.add(Te),JSON.stringify(p.localCache[Te])!==JSON.stringify(Ye)&&(p.notifyListeners(Te,Ye),G.push(Te));for(const Te of Object.keys(p.localCache))p.localCache[Te]&&!X.has(Te)&&(p.notifyListeners(Te,null),G.push(Te));return G})()}notifyListeners(p,C){this.localCache[p]=C;const G=this.listeners[p];if(G)for(const X of Array.from(G))X(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,le.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();On("rcb"),new $e(3e4,6e4);class T extends si{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Si(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Si(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Si(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function N(I){return $(I.auth,new T(I),I.bypassAuthState)}function z(I){const{auth:d,user:p}=I;return Ve(p,d,"internal-error"),ei(p,new T(I),I.bypassAuthState)}function Q(I){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,le.Z)(function*(I){const{auth:d,user:p}=I;return Ve(p,d,"internal-error"),Bi(p,new T(I),I.bypassAuthState)})).apply(this,arguments)}class tt{constructor(d,p,C,G,X=!1){this.auth=d,this.resolver=C,this.user=G,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,le.Z)(function*(C,G){d.pendingPromise={resolve:C,reject:G};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(X){d.reject(X)}});return function(C,G){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,le.Z)(function*(){const{urlResponse:C,sessionId:G,postBody:X,tenantId:Te,error:Ye,type:kt}=d;if(Ye)return void p.reject(Ye);const Kt={auth:p.auth,requestUri:C,sessionId:G,tenantId:Te||void 0,postBody:X||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(kt)(Kt))}catch(cn){p.reject(cn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return N;case"linkViaPopup":case"linkViaRedirect":return Q;case"reauthViaPopup":case"reauthViaRedirect":return z;default:gt(this.auth,"internal-error")}}resolve(d){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new $e(2e3,1e4);const sc="pendingRedirect",Hr=new Map;class Oc extends tt{constructor(d,p,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,le.Z)(function*(){let C=Hr.get(p.auth._key());if(!C){try{const X=(yield function Na(I,d){return Oa.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;C=()=>Promise.resolve(X)}catch(G){C=()=>Promise.reject(G)}Hr.set(p.auth._key(),C)}return p.bypassAuthState||Hr.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,C=this;return(0,le.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(C,d);if("unknown"!==d.type){if(d.eventId){const G=yield C.auth._redirectUserForId(d.eventId);if(G)return C.user=G,p().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,le.Z)(function*(){})()}cleanUp(){}}function Oa(){return(Oa=(0,le.Z)(function*(I,d){const p=function $o(I){return ee(sc,I.config.apiKey,I.name)}(d),C=function La(I){return L(I._redirectPersistence)}(I);if(!(yield C._isAvailable()))return!1;const G="true"===(yield C._get(p));return yield C._remove(p),G})).apply(this,arguments)}function fi(I,d){Hr.set(I._key(),d)}function El(I,d){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,le.Z)(function*(I,d,p=!1){const C=se(I),G=function m(I,d){return d?L(d):(Ve(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}(C,d),Te=yield new Oc(C,G,p).execute();return Te&&!p&&(delete Te.user._redirectEventId,yield C._persistUserIfCurrent(Te.user),yield C._setRedirectUser(null,d)),Te})).apply(this,arguments)}class na{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(p=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Lc(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ia(I);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var C;if(d.error&&!ia(d)){const G=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(dt(this.auth,G))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const C=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ra(d))}saveEventToCache(d){this.cachedEventUids.add(ra(d)),this.lastProcessedEventTime=Date.now()}}function ra(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(d=>d).join("-")}function ia({type:I,error:d}){return"unknown"===I&&"auth/no-auth-event"===d?.code}function gu(){return(gu=(0,le.Z)(function*(I,d={}){return xt(I,"GET","/v1/projects",d)})).apply(this,arguments)}const Lu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Va=/^https?/;function Vu(){return Vu=(0,le.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:d}=yield function sa(I){return gu.apply(this,arguments)}(I);for(const p of d)try{if(md(p))return}catch{}gt(I,"unauthorized-domain")}),Vu.apply(this,arguments)}function md(I){const d=qn(),{protocol:p,hostname:C}=new URL(d);if(I.startsWith("chrome-extension://")){const Te=new URL(I);return""===Te.hostname&&""===C?"chrome-extension:"===p&&I.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Te.hostname===C}if(!Va.test(p))return!1;if(Lu.test(I))return C===I;const G=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(C)}const Vc=new $e(3e4,6e4);function Ja(){const I=li().___jsl;if(I?.H)for(const d of Object.keys(I.H))if(I.H[d].r=I.H[d].r||[],I.H[d].L=I.H[d].L||[],I.H[d].r=[...I.H[d].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let Xa=null;const oa=new $e(5e3,15e3),Ua="__/auth/iframe",bl="emulator/auth/iframe",Ei={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ni(I){const d=I.config;Ve(d.authDomain,I,"auth-domain-config-required");const p=d.emulator?mt(d,bl):`https://${I.config.authDomain}/${Ua}`,C={apiKey:d.apiKey,appName:I.name,v:ut.Jn},G=Cl.get(I.config.apiHost);G&&(C.eid=G);const X=I._getFrameworks();return X.length&&(C.fw=X.join(",")),`${p}?${(0,_e.xO)(C).slice(1)}`}function ac(){return ac=(0,le.Z)(function*(I){const d=yield function Dl(I){return Xa=Xa||function jo(I){return new Promise((d,p)=>{var C,G,X;function Te(){Ja(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Ja(),p(dt(I,"network-request-failed"))},timeout:Vc.get()})}if(null!==(G=null===(C=li().gapi)||void 0===C?void 0:C.iframes)&&void 0!==G&&G.Iframe)d(gapi.iframes.getContext());else{if(null===(X=li().gapi)||void 0===X||!X.load){const Ye=On("iframefcb");return li()[Ye]=()=>{gapi.load?Te():p(dt(I,"network-request-failed"))},_s(`https://apis.google.com/js/api.js?onload=${Ye}`).catch(kt=>p(kt))}Te()}}).catch(d=>{throw Xa=null,d})}(I),Xa}(I),p=li().gapi;return Ve(p,I,"internal-error"),d.open({where:document.body,url:ni(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ei,dontclear:!0},C=>new Promise(function(){var G=(0,le.Z)(function*(X,Te){yield C.restyle({setHideOnLeave:!1});const Ye=dt(I,"network-request-failed"),kt=li().setTimeout(()=>{Te(Ye)},oa.get());function Kt(){li().clearTimeout(kt),X(C)}C.ping(Kt).then(Kt,()=>{Te(Ye)})});return function(X,Te){return G.apply(this,arguments)}}()))}),ac.apply(this,arguments)}const Tl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eu=500,E=600,A="_blank",F="http://localhost";class J{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const He="__/auth/handler",Ft="emulator/auth/handler",Nt=encodeURIComponent("fac");function dn(I,d,p,C,G,X){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,le.Z)(function*(I,d,p,C,G,X){Ve(I.config.authDomain,I,"auth-domain-config-required"),Ve(I.config.apiKey,I,"invalid-api-key");const Te={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:C,v:ut.Jn,eventId:G};if(d instanceof Ui){d.setDefaultLanguage(I.languageCode),Te.providerId=d.providerId||"",(0,_e.xb)(d.getCustomParameters())||(Te.customParameters=JSON.stringify(d.getCustomParameters()));for(const[cn,er]of Object.entries(X||{}))Te[cn]=er}if(d instanceof Oo){const cn=d.getScopes().filter(er=>""!==er);cn.length>0&&(Te.scopes=cn.join(","))}I.tenantId&&(Te.tid=I.tenantId);const Ye=Te;for(const cn of Object.keys(Ye))void 0===Ye[cn]&&delete Ye[cn];const kt=yield I._getAppCheckToken(),Kt=kt?`#${Nt}=${encodeURIComponent(kt)}`:"";return`${function $n({config:I}){return I.emulator?mt(I,Ft):`https://${I.authDomain}/${He}`}(I)}?${(0,_e.xO)(Ye).slice(1)}${Kt}`})).apply(this,arguments)}const co="webStorageSupport",uc=class fs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nc,this._completeRedirectFn=El,this._overrideRedirectResult=fi}_openPopup(d,p,C,G){var X=this;return(0,le.Z)(function*(){var Te;Vt(null===(Te=X.eventManagers[d._key()])||void 0===Te?void 0:Te.manager,"_initialize() not called before _openPopup()");const Ye=yield dn(d,p,C,qn(),G);return function ve(I,d,p,C=eu,G=E){const X=Math.max((window.screen.availHeight-G)/2,0).toString(),Te=Math.max((window.screen.availWidth-C)/2,0).toString();let Ye="";const kt=Object.assign(Object.assign({},Tl),{width:C.toString(),height:G.toString(),top:X,left:Te}),Kt=(0,_e.z$)().toLowerCase();p&&(Ye=Ee(Kt)?A:p),ue(Kt)&&(d=d||F,kt.scrollbars="yes");const cn=Object.entries(kt).reduce((xs,[Go,iu])=>`${xs}${Go}=${iu},`,"");if(function Ue(I=(0,_e.z$)()){var d;return Un(I)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Kt)&&"_self"!==Ye)return function Se(I,d){const p=document.createElement("a");p.href=I,p.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(d||"",Ye),new J(null);const er=window.open(d||"",Ye,cn);Ve(er,I,"popup-blocked");try{er.focus()}catch{}return new J(er)}(d,Ye,ao())})()}_openRedirect(d,p,C,G){var X=this;return(0,le.Z)(function*(){return yield X._originValidation(d),function Ma(I){li().location.href=I}(yield dn(d,p,C,qn(),G)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:G,promise:X}=this.eventManagers[p];return G?Promise.resolve(G):(Vt(X,"If manager is not set, promise should be"),X)}const C=this.initAndGetManager(d);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(d){var p=this;return(0,le.Z)(function*(){const C=yield function Ba(I){return ac.apply(this,arguments)}(d),G=new na(d);return C.register("authEvent",X=>(Ve(X?.authEvent,d,"invalid-auth-event"),{status:G.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:G},p.iframes[d._key()]=C,G})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(co,{type:co},G=>{var X;const Te=null===(X=G?.[0])||void 0===X?void 0:X[co];void 0!==Te&&p(!!Te),gt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function gd(I){return Vu.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return ot()||te()||Un()}};var _u="@firebase/auth";class dc{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,le.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(C=>{d(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ba=(0,_e.Pz)("authIdTokenMaxAge")||300;let Sl=null;const fc=I=>function(){var d=(0,le.Z)(function*(p){const C=p&&(yield p.getIdTokenResult()),G=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(G&&G>ba)return;const X=C?.token;Sl!==X&&(Sl=X,yield fetch(I,{method:X?"POST":"DELETE",headers:X?{Authorization:`Bearer ${X}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function Al(I=(0,ut.Mq)()){const d=(0,ut.qX)(I,"auth");if(d.isInitialized())return d.getImmediate();const p=function be(I,d){const p=(0,ut.qX)(I,"auth");if(p.isInitialized()){const G=p.getImmediate(),X=p.getOptions();if((0,_e.vZ)(X,d??{}))return G;gt(G,"already-initialized")}return p.initialize({options:d})}(I,{popupRedirectResolver:uc,persistence:[ds,pa,nc]}),C=(0,_e.Pz)("authTokenSyncURL");if(C){const X=fc(C);(function rn(I,d,p){(0,_e.m9)(I).beforeAuthStateChanged(d,p)})(p,X,()=>X(p.currentUser)),function it(I,d,p,C){(0,_e.m9)(I).onIdTokenChanged(d,p,C)}(p,Te=>X(Te))}const G=(0,_e.q4)("auth");return G&&function yt(I,d,p){const C=se(I);Ve(C._canInitEmulator,C,"emulator-config-failed"),Ve(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const G=!!p?.disableWarnings,X=Bt(d),{host:Te,port:Ye}=function Fn(I){const d=Bt(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(d.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(C);if(G){const X=G[1];return{host:X,port:nn(C.substr(X.length+1))}}{const[X,Te]=C.split(":");return{host:X,port:nn(Te)}}}(d);C.config.emulator={url:`${X}//${Te}${null===Ye?"":`:${Ye}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Te,port:Ye,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function Pn(){function I(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(p,`http://${G}`),p}!function yd(I){(0,ut.Xd)(new ge.wA("auth",(d,{options:p})=>{const C=d.getProvider("app").getImmediate(),G=d.getProvider("heartbeat"),X=d.getProvider("app-check-internal"),{apiKey:Te,authDomain:Ye}=C.options;Ve(Te&&!Te.includes(":"),"invalid-api-key",{appName:C.name});const kt={apiKey:Te,authDomain:Ye,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fn(I)},Kt=new bi(C,G,X,kt);return function We(I,d){const p=d?.persistence||[],C=(Array.isArray(p)?p:[p]).map(L);d?.errorMap&&I._updateErrorMap(d.errorMap),I._initializeWithPersistence(C,d?.popupRedirectResolver)}(Kt,p),Kt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,C)=>{d.getProvider("auth-internal").initialize()})),(0,ut.Xd)(new ge.wA("auth-internal",d=>{const p=se(d.getProvider("auth").getImmediate());return new dc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ut.KN)(_u,"0.23.2",function hc(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,ut.KN)(_u,"0.23.2","esm2017")}("Browser");class Bu{constructor(d){return d}}class Ml{constructor(){return(0,w.vb)("auth")}}const to=new g.OlP("angularfire2.auth-instances");function Uc(I){return(d,p)=>{const C=d.runOutsideAngular(()=>I(p));return new Bu(C)}}const $u={provide:Ml,deps:[[new g.FiY,to]]},vd={provide:Bu,useFactory:function _d(I,d){const p=(0,w.JM)("auth",I,d);return p&&new Bu(p)},deps:[[new g.FiY,to],we.Ot]};let Bc=(()=>{class I{constructor(){(0,ne.KN)("angularfire",w.q4.full,"auth")}}return I.\u0275fac=function(p){return new(p||I)},I.\u0275mod=g.oAB({type:I}),I.\u0275inj=g.cJS({providers:[vd,$u]}),I})();function $c(I,...d){return{ngModule:Bc,providers:[{provide:to,useFactory:Uc(I),multi:!0,deps:[g.R0b,g.zs3,w.HU,we.z6,[new g.FiY,xe.nm],...d]}]}}const jc=(0,w.u3)(xa,!0),Th=(0,w.u3)(Al,!0),kl=(0,w.u3)(Or,!0)},4102:(_n,lt,Y)=>{Y.d(lt,{gg:()=>_h,ET:()=>Gy,hJ:()=>Fv,BS:()=>jy,oe:()=>Ky,JU:()=>Zy,_1:()=>Hy,ad:()=>Yy,Cm:()=>Vg,IO:()=>wh,r7:()=>Qy,ar:()=>Qv});var pe,w=Y(3530),g=Y(8256),we=Y(2309),ne=Y(3692),xe=Y(259),le=Y(2313),_e=Y(5861),ut=Y(6881),Ge=Y(4859),fe=Y(1877),ge=Y(2090),Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},at={},wt=wt||{},ke=Ke||self;function It(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Tt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Ct="closure_uid_"+(1e9*Math.random()>>>0),ft=0;function _t(r,e,t){return r.call.apply(r.bind,arguments)}function et(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Et(r,e,t){return(Et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_t:et).apply(null,arguments)}function Ze(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function gt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,l){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[a].apply(s,f)}}function dt(){this.s=this.s,this.o=this.o}dt.prototype.s=!1,dt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vn(r){Object.prototype.hasOwnProperty.call(r,Ct)&&r[Ct]||(r[Ct]=++ft)}(this)},dt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function wn(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Ve(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(It(s)){const a=r.length||0,l=s.length||0;r.length=a+l;for(let f=0;f<l;f++)r[a+f]=s[f]}else r.push(s)}}function mn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}mn.prototype.h=function(){this.defaultPrevented=!0};var Vt=function(){if(!ke.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ke.addEventListener("test",()=>{},e),ke.removeEventListener("test",()=>{},e)}catch{}return r}();function qn(r){return/^[\s\xa0]*$/.test(r)}function tn(){var r=ke.navigator;return r&&(r=r.userAgent)?r:""}function Ne(r){return-1!=tn().indexOf(r)}function Me(r){return Me[" "](r),r}Me[" "]=function(){};var ln,r,$e=Ne("Opera"),mt=Ne("Trident")||Ne("MSIE"),vt=Ne("Edge"),Ot=vt||mt,an=Ne("Gecko")&&!(-1!=tn().toLowerCase().indexOf("webkit")&&!Ne("Edge"))&&!(Ne("Trident")||Ne("MSIE"))&&!Ne("Edge"),Gt=-1!=tn().toLowerCase().indexOf("webkit")&&!Ne("Edge");function xt(){var r=ke.document;return r?r.documentMode:void 0}e:{var Yt="",Vn=(r=tn(),an?/rv:([^\);]+)(\)|;)/.exec(r):vt?/Edge\/([\d\.]+)/.exec(r):mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Gt?/WebKit\/(\S+)/.exec(r):$e?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Vn&&(Yt=Vn?Vn[1]:""),mt){var zn=xt();if(null!=zn&&zn>parseFloat(Yt)){ln=String(zn);break e}}ln=Yt}var nr=ke.document&&mt&&(xt()||parseInt(ln,10))||void 0;function or(r,e){if(mn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(an){e:{try{Me(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:qt[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&or.$.h.call(this)}}gt(or,mn);var qt={2:"touch",3:"pen",4:"mouse"};or.prototype.h=function(){or.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Jn="closure_listenable_"+(1e6*Math.random()|0),ar=0;function vr(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++ar,this.fa=this.ia=!1}function ri(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function kr(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Zr(r){const e={};for(const t in r)e[t]=r[t];return e}const Cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let l=0;l<Cn.length;l++)t=Cn[l],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Zt(r){this.src=r,this.g={},this.h=0}function In(r,e){var t=e.type;if(t in r.g){var l,s=r.g[t],a=Lt(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(ri(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Tn(r,e,t,s){for(var a=0;a<r.length;++a){var l=r[a];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==s)return a}return-1}Zt.prototype.add=function(r,e,t,s,a){var l=r.toString();(r=this.g[l])||(r=this.g[l]=[],this.h++);var f=Tn(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new vr(e,this.src,l,!!s,a)).ia=t,r.push(e)),e};var Gn="closure_lm_"+(1e6*Math.random()|0),Gr={};function Sn(r,e,t,s,a){if(s&&s.once)return pi(r,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Sn(r,e[l],t,s,a);return null}return t=Vr(t),r&&r[Jn]?r.O(e,t,Tt(s)?!!s.capture:!!s,a):zr(r,e,t,!1,s,a)}function zr(r,e,t,s,a,l){if(!e)throw Error("Invalid event type");var f=Tt(a)?!!a.capture:!!a,D=_r(r);if(D||(r[Gn]=D=new Zt(r)),(t=D.add(e,t,s,f,l)).proxy)return t;if(s=function Yn(){const e=ii;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Vt||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(cr(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function pi(r,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)pi(r,e[l],t,s,a);return null}return t=Vr(t),r&&r[Jn]?r.P(e,t,Tt(s)?!!s.capture:!!s,a):zr(r,e,t,!0,s,a)}function Nn(r,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Nn(r,e[l],t,s,a);else s=Tt(s)?!!s.capture:!!s,t=Vr(t),r&&r[Jn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Tn(l=r.g[e],t,s,a))&&(ri(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete r.g[e],r.h--))):r&&(r=_r(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Tn(e,t,s,a)),(t=-1<r?e[r]:null)&&Yr(t))}function Yr(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Jn])In(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(cr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=_r(e))?(In(t,r),0==t.h&&(t.src=null,e[Gn]=null)):ri(r)}}}function cr(r){return r in Gr?Gr[r]:Gr[r]="on"+r}function ii(r,e){if(r.fa)r=!0;else{e=new or(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Yr(r),r=t.call(s,e)}return r}function _r(r){return(r=r[Gn])instanceof Zt?r:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vr(r){return"function"==typeof r?r:(r[hn]||(r[hn]=function(e){return r.handleEvent(e)}),r[hn])}function Bn(){dt.call(this),this.i=new Zt(this),this.S=this,this.J=null}function zt(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new mn(e,r);else if(e instanceof mn)e.target=e.target||r;else{var a=e;st(e=new mn(s,r),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];a=rr(f,s,!0,e)&&a}if(a=rr(f=e.g=r,s,!0,e)&&a,a=rr(f,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=rr(f=e.g=t[l],s,!1,e)&&a}function rr(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==t){var D=f.listener,O=f.la||f.src;f.ia&&In(r.i,f),a=!1!==D.call(O,s)&&a}}return a&&!s.defaultPrevented}gt(Bn,dt),Bn.prototype[Jn]=!0,Bn.prototype.removeEventListener=function(r,e,t,s){Nn(this,r,e,t,s)},Bn.prototype.N=function(){if(Bn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)ri(t[s]);delete r.g[e],r.h--}}this.J=null},Bn.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Bn.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var ce=ke.JSON.stringify;function re(){var r=Be;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ee=new class L{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ie,r=>r.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oe(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function ue(r){ke.setTimeout(()=>{throw r},0)}let te,Ee=!1,Be=new class H{constructor(){this.h=this.g=null}add(e,t){const s=ee.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},nt=()=>{const r=ke.Promise.resolve(void 0);te=()=>{r.then(Rt)}};var Rt=()=>{for(var r;r=re();){try{r.h.call(r.g)}catch(t){ue(t)}var e=ee;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Ee=!1};function Ut(r,e){Bn.call(this),this.h=r||1,this.g=e||ke,this.j=Et(this.qb,this),this.l=Date.now()}function Un(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function gr(r,e,t){if("function"==typeof r)t&&(r=Et(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Et(r.handleEvent,r)}return 2147483647<Number(e)?-1:ke.setTimeout(r,e||0)}function Ue(r){r.g=gr(()=>{r.g=null,r.i&&(r.i=!1,Ue(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}gt(Ut,Bn),(pe=Ut.prototype).ga=!1,pe.T=null,pe.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zt(this,"tick"),this.ga&&(Un(this),this.start()))}},pe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pe.N=function(){Ut.$.N.call(this),Un(this),delete this.g};class Pe extends dt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ue(this)}N(){super.N(),this.g&&(ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(r){dt.call(this),this.h=r,this.g={}}gt(ot,dt);var Wt=[];function fn(r,e,t,s){Array.isArray(t)||(t&&(Wt[0]=t.toString()),t=Wt);for(var a=0;a<t.length;a++){var l=Sn(e,t[a],s||r.handleEvent,!1,r.h||r);if(!l)break;r.g[l.key]=l}}function bn(r){kr(r.g,function(e,t){this.g.hasOwnProperty(t)&&Yr(e)},r),r.g={}}function Rn(){this.g=!0}function Cr(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ts(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return ce(t)}catch{return e}}(r,t)+(s?" "+s:"")})}ot.prototype.N=function(){ot.$.N.call(this),bn(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rn.prototype.Ea=function(){this.g=!1},Rn.prototype.info=function(){};var Wi={},_s=null;function On(){return _s=_s||new Bn}function wr(r){mn.call(this,Wi.Ta,r)}function Ir(r){const e=On();zt(e,new wr(e))}function as(r,e){mn.call(this,Wi.STAT_EVENT,r),this.stat=e}function xn(r){const e=On();zt(e,new as(e,r))}function gi(r,e){mn.call(this,Wi.Ua,r),this.size=e}function mi(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ke.setTimeout(function(){r()},e)}Wi.Ta="serverreachability",gt(wr,mn),Wi.STAT_EVENT="statevent",gt(as,mn),Wi.Ua="timingevent",gt(gi,mn);var Di={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function se(){}function be(){}se.prototype.h=null;var Fn,We={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yt(){mn.call(this,"d")}function Bt(){mn.call(this,"c")}function nn(){}function Pn(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new ot(this),this.P=yn,this.V=new Ut(r=Ot?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}gt(yt,mn),gt(Bt,mn),gt(nn,se),nn.prototype.g=function(){return new XMLHttpRequest},nn.prototype.i=function(){return{}},Fn=new nn;var yn=45e3,Qr={},Er={};function Gs(r,e,t){r.L=1,r.v=yi(Pr(e)),r.s=t,r.S=!0,Jr(r,null)}function Jr(r,e){r.G=Date.now(),qr(r),r.A=Pr(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Wo(t.i,"t",s),r.C=0,t=r.l.J,r.h=new si,r.g=$i(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Pe(Et(r.Pa,r,r.g),r.O)),fn(r.U,r.g,"readystatechange",r.nb),e=r.I?Zr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Ir(),function Rr(r,e,t,s,a,l){r.info(function(){if(r.g)if(l)for(var f="",D=l.split("&"),O=0;O<D.length;O++){var V=D[O].split("=");if(1<V.length){var Z=V[0];V=V[1];var ye=Z.split("_");f=2<=ye.length&&"type"==ye[1]?f+(Z+"=")+V+"&":f+(Z+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Nr(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Ki(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=vs(r,t),a==Er){4==e&&(r.o=4,xn(14),s=!1),Cr(r.j,r.m,null,"[Incomplete Response]");break}if(a==Qr){r.o=4,xn(15),Cr(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Cr(r.j,r.m,a,null),zs(r,a)}Nr(r)&&a!=Er&&a!=Qr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,xn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ar(e),e.M=!0,xn(11))):(Cr(r.j,r.m,t,"[Invalid Chunked Response]"),ns(r),Xn(r))}function vs(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Er:(t=Number(e.substring(t,s)),isNaN(t)?Qr:(s+=1)+t>e.length?Er:(e=e.slice(s,s+t),r.C=s+t,e))}function qr(r){r.Y=Date.now()+r.P,ws(r,r.P)}function ws(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=mi(Et(r.lb,r),e)}function ro(r){r.B&&(ke.clearTimeout(r.B),r.B=null)}function Xn(r){0==r.l.H||r.J||yo(r.l,r)}function ns(r){ro(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Un(r.V),bn(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function zs(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||ca(t.i,r)))if(!r.K&&ca(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;fr(t),Re(t)}Kn(t),xn(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=mi(Et(t.ib,t),6e3));if(1>=cs(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ys(t,11)}else if((r.K||t.g==r)&&fr(t),!qn(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let V=a[e];if(t.V=V[0],V=V[1],2==t.H)if("c"==V[0]){t.K=V[1],t.pa=V[2];const Z=V[3];null!=Z&&(t.ra=Z,t.l.info("VER="+t.ra));const ye=V[4];null!=ye&&(t.Ga=ye,t.l.info("SVER="+t.Ga));const Le=V[5];null!=Le&&"number"==typeof Le&&0<Le&&(t.L=s=1.5*Le,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const rt=r.g;if(rt){const St=rt.g?rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(St){var l=s.i;l.g||-1==St.indexOf("spdy")&&-1==St.indexOf("quic")&&-1==St.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(is(l,l.h),l.h=null))}if(s.F){const Xt=rt.g?rt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xt&&(s.Da=Xt,Wn(s.I,s.F,Xt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=xa(s,s.J?s.pa:null,s.Y),f.K){Fo(s.i,f);var D=f,O=s.L;O&&D.setTimeout(O),D.B&&(ro(D),qr(D)),s.g=f}else $r(s);0<t.j.length&&En(t)}else"stop"!=V[0]&&"close"!=V[0]||Ys(t,7);else 3==t.H&&("stop"==V[0]||"close"==V[0]?"stop"==V[0]?Ys(t,7):q(t):"noop"!=V[0]&&t.h&&t.h.Aa(V),t.A=0)}Ir()}catch{}}function To(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(It(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function qs(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(It(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function ho(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(It(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],r)}(pe=Pn.prototype).setTimeout=function(r){this.P=r},pe.nb=function(r){r=r.target;const e=this.M;e&&3==he(r)?e.l():this.Pa(r)},pe.Pa=function(r){try{if(r==this.g)e:{const Z=he(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Z)&&(3!=Z||Ot||this.g&&(this.h.h||this.g.ja()||Ae(this.g)))){this.J||4!=Z||7==e||Ir(),ro(this);var t=this.g.da();this.ca=t;t:if(Nr(this)){var s=Ae(this.g);r="";var a=s.length,l=4==he(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),Xn(this);var f="";break t}this.h.i=new ke.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function lr(r,e,t,s,a,l,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,Z,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,O=this.g;if((D=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qn(D)){var V=D;break t}}V=null}if(!(t=V)){this.i=!1,this.o=3,xn(12),ns(this),Xn(this);break e}Cr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zs(this,t)}this.S?(Ki(this,Z,f),Ot&&this.i&&3==Z&&(fn(this.U,this.V,"tick",this.mb),this.V.start())):(Cr(this.j,this.m,f,null),zs(this,f)),4==Z&&ns(this),this.i&&!this.J&&(4==Z?yo(this.l,this):(this.i=!1,qr(this)))}else(function Xe(r){const e={};r=(r.g&&2<=he(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(qn(r[s]))continue;var t=oe(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[a]||[];e[a]=l,l.push(t)}!function hr(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,xn(12)):(this.o=0,xn(13)),ns(this),Xn(this)}}}catch{}},pe.mb=function(){if(this.g){var r=he(this.g),e=this.g.ja();this.C<e.length&&(ro(this),Ki(this,r,e),this.i&&4!=r&&qr(this))}},pe.cancel=function(){this.J=!0,ns(this)},pe.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function ys(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ir(),xn(17)),ns(this),this.o=2,Xn(this)):ws(this,this.Y-r)};var rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ti(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Ti){this.h=r.h,oi(this,r.j),this.s=r.s,this.g=r.g,Zi(this,r.m),this.l=r.l;var e=r.i,t=new io;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Si(this,t),this.o=r.o}else r&&(e=String(r).match(rs))?(this.h=!1,oi(this,e[1]||"",!0),this.s=Xr(e[2]||""),this.g=Xr(e[3]||"",!0),Zi(this,e[4]),this.l=Xr(e[5]||"",!0),Si(this,e[6]||"",!0),this.o=Xr(e[7]||"")):(this.h=!1,this.i=new io(null,this.h))}function Pr(r){return new Ti(r)}function oi(r,e,t){r.j=t?Xr(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Zi(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Si(r,e,t){e instanceof io?(r.i=e,function za(r,e){e&&!r.j&&(Yi(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Ks(this,s),Wo(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Ps(e,ks)),r.i=new io(e,r.h))}function Wn(r,e,t){r.i.set(e,t)}function yi(r){return Wn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Xr(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ps(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ws),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ws(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ti.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Ps(e,fo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Ps(e,fo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Ps(t,"/"==t.charAt(0)?us:zo,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Ps(t,qo)),r.join("")};var fo=/[#\/\?@]/g,zo=/[#\?:]/g,us=/[#\?]/g,ks=/[#\?@]/g,qo=/#/g;function io(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Yi(r){r.g||(r.g=new Map,r.h=0,r.i&&function Ci(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var l=r[t].substring(0,s);a=r[t].substring(s+1)}else l=r[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ks(r,e){Yi(r),e=Is(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Aa(r,e){return Yi(r),e=Is(r,e),r.g.has(e)}function Wo(r,e,t){Ks(r,e),0<t.length&&(r.i=null,r.g.set(Is(r,e),wn(t)),r.h+=t.length)}function Is(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ui(r){this.l=r||Oo,r=ke.PerformanceNavigationTiming?0<(r=ke.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ke.g&&ke.g.Ka&&ke.g.Ka()&&ke.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pe=io.prototype).add=function(r,e){Yi(this),this.i=null,r=Is(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},pe.forEach=function(r,e){Yi(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},pe.ta=function(){Yi(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let l=0;l<a.length;l++)t.push(e[s])}return t},pe.Z=function(r){Yi(this);let e=[];if("string"==typeof r)Aa(this,r)&&(e=e.concat(this.g.get(Is(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},pe.set=function(r,e){return Yi(this),this.i=null,Aa(this,r=Is(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},pe.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const l=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=l;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var Oo=10;function Ns(r){return!!r.h||!!r.g&&r.g.size>=r.j}function cs(r){return r.h?1:r.g?r.g.size:0}function ca(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function is(r,e){r.g?r.g.add(e):r.h=e}function Fo(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Ai(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return wn(r.i)}Ui.prototype.cancel=function(){if(this.i=Ai(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var so=class{stringify(r){return ke.JSON.stringify(r,void 0)}parse(r){return ke.JSON.parse(r,void 0)}};function Os(){this.g=new so}function po(r,e,t){const s=t||"";try{To(r,function(a,l){let f=a;Tt(a)&&(f=ce(a)),e.push(s+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Ds(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Wr(r){this.l=r.fc||null,this.j=r.ob||!1}function ls(r,e){Bn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Ko,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(Wr,se),Wr.prototype.g=function(){return new ls(this.l,this.j)},Wr.prototype.i=function(r){return function(){return r}}({}),gt(ls,Bn);var Ko=0;function xi(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function wi(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Fs(r)}function Fs(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(pe=ls.prototype).open=function(r,e){if(this.readyState!=Ko)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Fs(this)},pe.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||ke).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wi(this)),this.readyState=Ko},pe.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Fs(this)),this.g&&(this.readyState=3,Fs(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ke.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xi(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},pe.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?wi(this):Fs(this),3==this.readyState&&xi(this)}},pe.Za=function(r){this.g&&(this.response=this.responseText=r,wi(this))},pe.Ya=function(r){this.g&&(this.response=r,wi(this))},pe.ka=function(){this.g&&wi(this)},pe.setRequestHeader=function(r,e){this.v.append(r,e)},pe.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},pe.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Ur=ke.JSON.parse;function Br(r){Bn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mo,this.L=this.M=!1}gt(Br,Bn);var mo="",Bi=/^https?$/i,Zs=["POST","PUT"];function bs(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ei(r),$(r)}function ei(r){r.F||(r.F=!0,zt(r,"complete"),zt(r,"error"))}function j(r){if(r.h&&typeof wt<"u"&&(!r.C[1]||4!=he(r)||2!=r.da()))if(r.v&&4==he(r))gr(r.La,0,r);else if(zt(r,"readystatechange"),4==he(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(rs)[1]||null;!a&&ke.self&&ke.self.location&&(a=ke.self.location.protocol.slice(0,-1)),s=!Bi.test(a?a.toLowerCase():"")}t=s}if(t)zt(r,"complete"),zt(r,"success");else{r.m=6;try{var l=2<he(r)?r.g.statusText:""}catch{l=""}r.j=l+" ["+r.da()+"]",ei(r)}}finally{$(r)}}}function $(r,e){if(r.g){ae(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||zt(r,"ready");try{t.onreadystatechange=s}catch{}}}function ae(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(ke.clearTimeout(r.A),r.A=null)}function he(r){return r.g?r.g.readyState:0}function Ae(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case mo:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Qe(r){let e="";return kr(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function P(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Qe(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Wn(r,e,t))}function M(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function x(r){this.Ga=0,this.j=[],this.l=new Rn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=M("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=M("baseRetryDelayMs",5e3,r),this.hb=M("retryDelaySeedMs",1e4,r),this.eb=M("forwardChannelMaxRetries",2,r),this.xa=M("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ui(r&&r.concurrentRequestLimit),this.Ja=new Os,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function q(r){if(Dt(r),3==r.H){var e=r.W++,t=Pr(r.I);if(Wn(t,"SID",r.K),Wn(t,"RID",e),Wn(t,"TYPE","terminate"),Qt(r,t),(e=new Pn(r,r.l,e)).L=2,e.v=yi(Pr(t)),t=!1,ke.navigator&&ke.navigator.sendBeacon)try{t=ke.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ke.Image&&((new Image).src=e.v,t=!0),t||(e.g=$i(e.l,null),e.g.ha(e.v)),e.G=Date.now(),qr(e)}Zo(r)}function Re(r){r.g&&(Ar(r),r.g.cancel(),r.g=null)}function Dt(r){Re(r),r.u&&(ke.clearTimeout(r.u),r.u=null),fr(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ke.clearTimeout(r.m),r.m=null)}function En(r){if(!Ns(r.i)&&!r.m){r.m=!0;var e=r.Na;te||nt(),Ee||(te(),Ee=!0),Be.add(e,r),r.C=0}}function Je(r,e){var t;t=e?e.m:r.W++;const s=Pr(r.I);Wn(s,"SID",r.K),Wn(s,"RID",t),Wn(s,"AID",r.V),Qt(r,s),r.o&&r.s&&P(s,r.o,r.s),t=new Pn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Qi(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),is(r.i,t),Gs(t,s,e)}function Qt(r,e){r.na&&kr(r.na,function(t,s){Wn(e,s,t)}),r.h&&To({},function(t,s){Wn(e,s,t)})}function Qi(r,e,t){t=Math.min(r.j.length,t);var s=r.h?Et(r.h.Va,r.h,r):null;e:{var a=r.j;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=a[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let D=!0;for(let O=0;O<t;O++){let V=a[O].g;const Z=a[O].map;if(V-=l,0>V)l=Math.max(0,a[O].g-100),D=!1;else try{po(Z,f,"req"+V+"_")}catch{s&&s(Z)}}if(D){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function $r(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;te||nt(),Ee||(te(),Ee=!0),Be.add(e,r),r.A=0}}function Kn(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=mi(Et(r.Ma,r),Cs(r,r.A)),r.A++,0))}function Ar(r){null!=r.B&&(ke.clearTimeout(r.B),r.B=null)}function Mi(r){r.g=new Pn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Pr(r.wa);Wn(e,"RID","rpc"),Wn(e,"SID",r.K),Wn(e,"AID",r.V),Wn(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Wn(e,"TO",r.qa),Wn(e,"TYPE","xmlhttp"),Qt(r,e),r.o&&r.s&&P(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=yi(Pr(e)),t.s=null,t.S=!0,Jr(t,r)}function fr(r){null!=r.v&&(ke.clearTimeout(r.v),r.v=null)}function yo(r,e){var t=null;if(r.g==e){fr(r),Ar(r),r.g=null;var s=2}else{if(!ca(r.i,e))return;t=e.F,Fo(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;zt(s=On(),new gi(s,t)),En(r)}else $r(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function Qn(r,e){return!(cs(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=mi(Et(r.Na,r,e),Cs(r,r.C)),r.C++,0)))}(r,e)||2==s&&Kn(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Ys(r,5);break;case 4:Ys(r,10);break;case 3:Ys(r,6);break;default:Ys(r,2)}}function Cs(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Ys(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=Et(r.pb,r);t||(t=new Ti("//www.google.com/images/cleardot.gif"),ke.location&&"http"==ke.location.protocol||oi(t,"https"),yi(t)),function go(r,e){const t=new Rn;if(ke.Image){const s=new Image;s.onload=Ze(Ds,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ze(Ds,t,s,"TestLoadImage: error",!1,e),s.onabort=Ze(Ds,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ze(Ds,t,s,"TestLoadImage: timeout",!1,e),ke.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else xn(2);r.H=0,r.h&&r.h.za(e),Zo(r),Dt(r)}function Zo(r){if(r.H=0,r.ma=[],r.h){const e=Ai(r.i);(0!=e.length||0!=r.j.length)&&(Ve(r.ma,e),Ve(r.ma,r.j),r.i.i.length=0,wn(r.j),r.j.length=0),r.h.ya()}}function xa(r,e,t){var s=t instanceof Ti?Pr(t):new Ti(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Zi(s,s.m);else{var a=ke.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new Ti(null);s&&oi(l,s),e&&(l.g=e),a&&Zi(l,a),t&&(l.l=t),s=l}return e=r.Da,(t=r.F)&&e&&Wn(s,t,e),Wn(s,"VER",r.ra),Qt(r,s),s}function $i(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Br(t&&r.Ha&&!r.va?new Wr({ob:!0}):r.va)).Oa(r.J),e}function Or(){}function la(){if(mt&&!(10<=Number(nr)))throw Error("Environmental error: no available transport.")}function ui(r,e){Bn.call(this),this.g=new x(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!qn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Qs(this)}function _o(r){yt.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function lu(){Bt.call(this),this.status=1}function Qs(r){this.g=r}function Ji(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function So(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=r.g[3],f=(e=r.g[0])+(l^(t=r.g[1])&((a=r.g[2])^l))+s[0]+3614090360&4294967295;f=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=t+(f<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^l&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^l)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~l))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=t+((f=e+(a^(t|~l))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=l+((f=a+(e^(l|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+l&4294967295}function dr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var l=0|r[a];s&&l==e||(t[a]=l,s=!1)}this.g=t}(pe=Br.prototype).Oa=function(r){this.M=r},pe.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fn.g(),this.C=function me(r){return r.h||(r.h=r.i())}(this.u?this.u:Fn),this.g.onreadystatechange=Et(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(l){return void bs(this,l)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const l of s.keys())t.set(l,s.get(l))}s=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=ke.FormData&&r instanceof ke.FormData,!(0<=Lt(Zs,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of t)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ae(this),0<this.B&&((this.L=function ai(r){return mt&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.ua,this)):this.A=gr(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(l){bs(this,l)}},pe.ua=function(){typeof wt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))},pe.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,zt(this,"complete"),zt(this,"abort"),$(this))},pe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$(this,!0)),Br.$.N.call(this)},pe.La=function(){this.s||(this.G||this.v||this.l?j(this):this.kb())},pe.kb=function(){j(this)},pe.isActive=function(){return!!this.g},pe.da=function(){try{return 2<he(this)?this.g.status:-1}catch{return-1}},pe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},pe.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Ur(e)}},pe.Ia=function(){return this.m},pe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pe=x.prototype).ra=8,pe.H=1,pe.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Pn(this,this.l,r);let l=this.s;if(this.U&&(l?(l=Zr(l),st(l,this.U)):l=this.U),null!==this.o||this.O||(a.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Qi(this,a,e),Wn(t=Pr(this.I),"RID",r),Wn(t,"CVER",22),this.F&&Wn(t,"X-HTTP-Session-Id",this.F),Qt(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(Qe(l)))+"&"+e:this.o&&P(t,this.o,l)),is(this.i,a),this.bb&&Wn(t,"TYPE","init"),this.P?(Wn(t,"$req",e),Wn(t,"SID","null"),a.aa=!0,Gs(a,t,null)):Gs(a,t,e),this.H=2}}else 3==this.H&&(r?Je(this,r):0==this.j.length||Ns(this.i)||Je(this))},pe.Ma=function(){if(this.u=null,Mi(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=mi(Et(this.jb,this),r)}},pe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xn(10),Re(this),Mi(this))},pe.ib=function(){null!=this.v&&(this.v=null,Re(this),Kn(this),xn(19))},pe.pb=function(r){r?(this.l.info("Successfully pinged google.com"),xn(2)):(this.l.info("Failed to ping google.com"),xn(1))},pe.isActive=function(){return!!this.h&&this.h.isActive(this)},(pe=Or.prototype).Ba=function(){},pe.Aa=function(){},pe.za=function(){},pe.ya=function(){},pe.isActive=function(){return!0},pe.Va=function(){},la.prototype.g=function(r,e){return new ui(r,e)},gt(ui,Bn),ui.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;xn(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=xa(r,null,r.Y),En(r)},ui.prototype.close=function(){q(this.g)},ui.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=ce(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&En(e)},ui.prototype.N=function(){this.g.h=null,delete this.j,q(this.g),delete this.g,ui.$.N.call(this)},gt(_o,yt),gt(lu,Bt),gt(Qs,Or),Qs.prototype.Ba=function(){zt(this.g,"a")},Qs.prototype.Aa=function(r){zt(this.g,new _o(r))},Qs.prototype.za=function(r){zt(this.g,new lu)},Qs.prototype.ya=function(){zt(this.g,"b")},gt(Ji,function qa(){this.blockSize=-1}),Ji.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ji.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,l=0;l<e;){if(0==a)for(;l<=t;)So(this,r,l),l+=this.blockSize;if("string"==typeof r){for(;l<e;)if(s[a++]=r.charCodeAt(l++),a==this.blockSize){So(this,s),a=0;break}}else for(;l<e;)if(s[a++]=r[l++],a==this.blockSize){So(this,s),a=0;break}}this.h=a,this.i+=e},Ji.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var xu={};function Yo(r){return-128<=r&&128>r?function je(r,e){var t=xu;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new dr([0|e],0>e?-1:0)}):new dr([0|r],0>r?-1:0)}function vo(r){if(isNaN(r)||!isFinite(r))return Ls;if(0>r)return Pi(vo(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Lo;return new dr(e,0)}var Lo=4294967296,Ls=Yo(0),da=Yo(1),Io=Yo(16777216);function oo(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Ri(r){return-1==r.h}function Pi(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new dr(t,~r.h).add(da)}function Vo(r,e){return r.add(Pi(e))}function ji(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Ts(r,e){this.g=r,this.h=e}function Kr(r,e){if(oo(e))throw Error("division by zero");if(oo(r))return new Ts(Ls,Ls);if(Ri(r))return e=Kr(Pi(r),e),new Ts(Pi(e.g),Pi(e.h));if(Ri(e))return e=Kr(r,Pi(e)),new Ts(Pi(e.g),e.h);if(30<r.g.length){if(Ri(r)||Ri(e))throw Error("slowDivide_ only works with positive integers.");for(var t=da,s=e;0>=s.X(r);)t=Mu(t),s=Mu(s);var a=S(t,1),l=S(s,1);for(s=S(s,2),t=S(t,2);!oo(s);){var f=l.add(s);0>=f.X(r)&&(a=a.add(t),l=f),s=S(s,1),t=S(t,1)}return e=Vo(r,a.R(e)),new Ts(a,e)}for(a=Ls;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(l=vo(t)).R(e);Ri(f)||0<f.X(r);)f=(l=vo(t-=s)).R(e);oo(l)&&(l=da),a=a.add(l),r=Vo(r,f)}return new Ts(a,r)}function Mu(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new dr(t,r.h)}function S(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],l=0;l<s;l++)a[l]=0<e?r.D(l+t)>>>e|r.D(l+t+1)<<32-e:r.D(l+t);return new dr(a,r.h)}(pe=dr.prototype).ea=function(){if(Ri(this))return-Pi(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Lo+s)*e,e*=Lo}return r},pe.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(oo(this))return"0";if(Ri(this))return"-"+Pi(this).toString(r);for(var e=vo(Math.pow(r,6)),t=this,s="";;){var a=Kr(t,e).g,l=((0<(t=Vo(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(oo(t=a))return l+s;for(;6>l.length;)l="0"+l;s=l+s}},pe.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},pe.X=function(r){return Ri(r=Vo(this,r))?-1:oo(r)?0:1},pe.abs=function(){return Ri(this)?Pi(this):this},pe.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var l=s+(65535&this.D(a))+(65535&r.D(a)),f=(l>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(l&=65535)}return new dr(t,-2147483648&t[t.length-1]?-1:0)},pe.R=function(r){if(oo(this)||oo(r))return Ls;if(Ri(this))return Ri(r)?Pi(this).R(Pi(r)):Pi(Pi(this).R(r));if(Ri(r))return Pi(this.R(Pi(r)));if(0>this.X(Io)&&0>r.X(Io))return vo(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var l=this.D(s)>>>16,f=65535&this.D(s),D=r.D(a)>>>16,O=65535&r.D(a);t[2*s+2*a]+=f*O,ji(t,2*s+2*a),t[2*s+2*a+1]+=l*O,ji(t,2*s+2*a+1),t[2*s+2*a+1]+=f*D,ji(t,2*s+2*a+1),t[2*s+2*a+2]+=l*D,ji(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new dr(t,0)},pe.gb=function(r){return Kr(this,r).h},pe.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new dr(t,this.h&r.h)},pe.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new dr(t,this.h|r.h)},pe.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new dr(t,this.h^r.h)},la.prototype.createWebChannel=la.prototype.g,ui.prototype.send=ui.prototype.u,ui.prototype.open=ui.prototype.m,ui.prototype.close=ui.prototype.close,Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,bi.COMPLETE="complete",be.EventType=We,We.OPEN="a",We.CLOSE="b",We.ERROR="c",We.MESSAGE="d",Bn.prototype.listen=Bn.prototype.O,Br.prototype.listenOnce=Br.prototype.P,Br.prototype.getLastError=Br.prototype.Sa,Br.prototype.getLastErrorCode=Br.prototype.Ia,Br.prototype.getStatus=Br.prototype.da,Br.prototype.getResponseJson=Br.prototype.Wa,Br.prototype.getResponseText=Br.prototype.ja,Br.prototype.send=Br.prototype.ha,Br.prototype.setWithCredentials=Br.prototype.Oa,Ji.prototype.digest=Ji.prototype.l,Ji.prototype.reset=Ji.prototype.reset,Ji.prototype.update=Ji.prototype.j,dr.prototype.add=dr.prototype.add,dr.prototype.multiply=dr.prototype.R,dr.prototype.modulo=dr.prototype.gb,dr.prototype.compare=dr.prototype.X,dr.prototype.toNumber=dr.prototype.ea,dr.prototype.toString=dr.prototype.toString,dr.prototype.getBits=dr.prototype.D,dr.fromNumber=vo,dr.fromString=function wo(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Pi(wo(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=vo(Math.pow(e,8)),s=Ls,a=0;a<r.length;a+=8){var l=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+l),e);8>l?(l=vo(Math.pow(e,l)),s=s.R(l).add(vo(f))):s=(s=s.R(t)).add(vo(f))}return s};var B=at.createWebChannelTransport=function(){return new la},k=at.getStatEventTarget=function(){return On()},W=at.ErrorCode=Di,de=at.EventType=bi,ze=at.Event=Wi,it=at.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rn=at.FetchXmlHttpFactory=Wr,mr=at.WebChannel=be,Tr=at.XhrIo=Br,Dr=at.Md5=Ji,Dn=at.Integer=dr;const jr="@firebase/firestore";class An{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let Sr="9.23.0";const ci=new fe.Yd("@firebase/firestore");function Eo(){return ci.logLevel}function ht(r,...e){if(ci.logLevel<=fe.in.DEBUG){const t=e.map(Js);ci.debug(`Firestore (${Sr}): ${r}`,...t)}}function Fr(r,...e){if(ci.logLevel<=fe.in.ERROR){const t=e.map(Js);ci.error(`Firestore (${Sr}): ${r}`,...t)}}function Hi(r,...e){if(ci.logLevel<=fe.in.WARN){const t=e.map(Js);ci.warn(`Firestore (${Sr}): ${r}`,...t)}}function Js(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Jt(r="Unexpected state"){const e=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: `+r;throw Fr(e),new Error(e)}function un(r,e){r||Jt()}function Pt(r,e){return r}const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends ge.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class pa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Eh{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=V=>this.i!==a?(a=this.i,t(V)):Promise.resolve();let f=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new _i,e.enqueueRetryable(()=>l(this.currentUser))};const D=()=>{const V=f;e.enqueueRetryable((0,_e.Z)(function*(){yield V.promise,yield l(s.currentUser)}))},O=V=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(V=>O(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?O(V):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new _i)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(un("string"==typeof s.accessToken),new fa(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return un(null===e||"string"==typeof e),new An(e)}}class nc{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=An.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Wa{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new nc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ao{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=l=>{null!=l.error&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(un("string"==typeof t.token),this.T=t.token,new rc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function li(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Ma{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=li(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function sn(r,e){return r<e?-1:r>e?1:0}function Qo(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return di.fromMillis(Date.now())}static fromDate(e){return di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new di(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gn(e)}static min(){return new gn(new di(0,0))}static max(){return new gn(new di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ni{constructor(e,t,s){void 0===t?t=0:t>e.length&&Jt(),void 0===s?s=e.length-t:s>e.length-t&&Jt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Ni.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),f=t.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pr extends Ni{construct(e,t,s){return new pr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new pt(qe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new pr(t)}static emptyPath(){return new pr([])}}const Jo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends Ni{construct(e,t,s){return new hi(e,t,s)}static isValidIdentifier(e){return Jo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hi(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new pt(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const D=e[a];if("\\"===D){if(a+1===e.length)throw new pt(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[a+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new pt(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=O,a+=2}else"`"===D?(f=!f,a++):"."!==D||f?(s+=D,a++):(l(),a++)}if(l(),f)throw new pt(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(t)}static emptyPath(){return new hi([])}}class Mt{constructor(e){this.path=e}static fromPath(e){return new Mt(pr.fromString(e))}static fromName(e){return new Mt(pr.fromString(e).popFirst(5))}static empty(){return new Mt(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mt(new pr(e.slice()))}}function Xo(r){return new eo(r.readTime,r.key,-1)}class eo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new eo(gn.min(),Mt.empty(),-1)}static max(){return new eo(gn.max(),Mt.empty(),-1)}}function Za(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Mt.comparator(r.documentKey,e.documentKey),0!==t?t:sn(r.largestBatchId,e.largestBatchId))}const ds="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ea{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ss(r){return hu.apply(this,arguments)}function hu(){return hu=(0,_e.Z)(function*(r){if(r.code!==qe.FAILED_PRECONDITION||r.message!==ds)throw r;ht("LocalStore","Unexpectedly lost primary lease")}),hu.apply(this,arguments)}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oe((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Oe?t:Oe.resolve(t)}catch(t){return Oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.reject(t)}static resolve(e){return new Oe((t,s)=>{t(e)})}static reject(e){return new Oe((t,s)=>{s(e)})}static waitFor(e){return new Oe((t,s)=>{let a=0,l=0,f=!1;e.forEach(D=>{++a,D.next(()=>{++l,f&&l===a&&t()},O=>s(O))}),f=!0,l===a&&t()})}static or(e){let t=Oe.resolve(!1);for(const s of e)t=t.next(a=>a?Oe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new Oe((s,a)=>{const l=e.length,f=new Array(l);let D=0;for(let O=0;O<l;O++){const V=O;t(e[V]).next(Z=>{f[V]=Z,++D,D===l&&s(f)},Z=>a(Z))}})}static doWhile(e,t){return new Oe((s,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):s()};l()})}}function ga(r){return"IndexedDbTransactionError"===r.name}let ti=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Ou(r){return null==r}function Ra(r){return 0===r&&1/r==-1/0}function Oc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Na(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Oa(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Lr{constructor(e,t){this.comparator=e,this.root=t||As.EMPTY}insert(e,t){return new Lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,As.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,As.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fa(this.root,e,this.comparator,!0)}}class Fa{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class As{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??As.RED,this.left=a??As.EMPTY,this.right=l??As.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new As(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return As.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return As.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,As.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,As.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();const e=this.left.check();if(e!==this.right.check())throw Jt();return e+(this.isRed()?0:1)}}As.EMPTY=null,As.RED=!0,As.BLACK=!1,As.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt()}get value(){throw Jt()}get color(){throw Jt()}get left(){throw Jt()}get right(){throw Jt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new As(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fi{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new La(this.data.getIterator())}getIteratorFrom(e){return new La(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof fi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fi(this.comparator);return t.data=e,t}}class La{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $s{constructor(e){this.fields=e,e.sort(hi.comparator)}static empty(){return new $s([])}unionWith(e){let t=new fi(hi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new $s(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class fd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fd("Invalid base64 string: "+a):a}}(e);return new hs(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new hs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const pd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(r){if(un(!!r),"string"==typeof r){let e=0;const t=pd.exec(r);if(un(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Li(r.seconds),nanos:Li(r.nanos)}}function Li(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function va(r){return"string"==typeof r?hs.fromBase64String(r):hs.fromUint8Array(r)}function wa(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fc(r){const e=r.mapValue.fields.__previous_value__;return wa(e)?Fc(e):e}function Qa(r){const e=uo(r.mapValue.fields.__local_write_time__.timestampValue);return new di(e.seconds,e.nanos)}class El{constructor(e,t,s,a,l,f,D,O,V){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=O,this.useFetchStreams=V}}class Ia{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}const ta={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ea(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wa(r)?4:Xa(r)?9007199254740991:10:Jt()}function na(r,e){if(r===e)return!0;const t=Ea(r);if(t!==Ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Qa(r).isEqual(Qa(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=uo(s.timestampValue),f=uo(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,va(r.bytesValue).isEqual(va(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Li(s.geoPointValue.latitude)===Li(a.geoPointValue.latitude)&&Li(s.geoPointValue.longitude)===Li(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Li(s.integerValue)===Li(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Li(s.doubleValue),f=Li(a.doubleValue);return l===f?Ra(l)===Ra(f):isNaN(l)&&isNaN(f)}return!1}(r,e);case 9:return Qo(r.arrayValue.values||[],e.arrayValue.values||[],na);case 10:return function(s,a){const l=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Oc(l)!==Oc(f))return!1;for(const D in l)if(l.hasOwnProperty(D)&&(void 0===f[D]||!na(l[D],f[D])))return!1;return!0}(r,e);default:return Jt()}var a}function ra(r,e){return void 0!==(r.values||[]).find(t=>na(t,e))}function ia(r,e){if(r===e)return 0;const t=Ea(r),s=Ea(e);if(t!==s)return sn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(r.booleanValue,e.booleanValue);case 2:return function(a,l){const f=Li(a.integerValue||a.doubleValue),D=Li(l.integerValue||l.doubleValue);return f<D?-1:f>D?1:f===D?0:isNaN(f)?isNaN(D)?0:-1:1}(r,e);case 3:return Lc(r.timestampValue,e.timestampValue);case 4:return Lc(Qa(r),Qa(e));case 5:return sn(r.stringValue,e.stringValue);case 6:return function(a,l){const f=va(a),D=va(l);return f.compareTo(D)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),D=l.split("/");for(let O=0;O<f.length&&O<D.length;O++){const V=sn(f[O],D[O]);if(0!==V)return V}return sn(f.length,D.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const f=sn(Li(a.latitude),Li(l.latitude));return 0!==f?f:sn(Li(a.longitude),Li(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],D=l.values||[];for(let O=0;O<f.length&&O<D.length;++O){const V=ia(f[O],D[O]);if(V)return V}return sn(f.length,D.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===ta.mapValue&&l===ta.mapValue)return 0;if(a===ta.mapValue)return 1;if(l===ta.mapValue)return-1;const f=a.fields||{},D=Object.keys(f),O=l.fields||{},V=Object.keys(O);D.sort(),V.sort();for(let Z=0;Z<D.length&&Z<V.length;++Z){const ye=sn(D[Z],V[Z]);if(0!==ye)return ye;const Le=ia(f[D[Z]],O[V[Z]]);if(0!==Le)return Le}return sn(D.length,V.length)}(r.mapValue,e.mapValue);default:throw Jt()}}function Lc(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return sn(r,e);const t=uo(r),s=uo(e),a=sn(t.seconds,s.seconds);return 0!==a?a:sn(t.nanos,s.nanos)}function sa(r){return gu(r)}function gu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=uo(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?va(r.bytesValue).toBase64():"referenceValue"in r?Mt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",l=!0;for(const f of s.values||[])l?l=!1:a+=",",a+=gu(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",f=!0;for(const D of a)f?f=!1:l+=",",l+=`${D}:${gu(s.fields[D])}`;return l+"}"}(r.mapValue):Jt();var e}function Va(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function gd(r){return!!r&&"integerValue"in r}function Vu(r){return!!r&&"arrayValue"in r}function md(r){return!!r&&"nullValue"in r}function Vc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ja(r){return!!r&&"mapValue"in r}function jo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Na(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=jo(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jo(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Xa(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ja(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jo(t)}setAll(e){let t=hi.emptyPath(),s={},a=[];e.forEach((f,D)=>{if(!t.isImmediateParentOf(D)){const O=this.getFieldsMap(t);this.applyChanges(O,s,a),s={},a=[],t=D.popLast()}f?s[D.lastSegment()]=jo(f):a.push(D.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Ja(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Ja(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Na(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Ei(jo(this.value))}}function Cl(r){const e=[];return Na(r.fields,(t,s)=>{const a=new hi([t]);if(Ja(s)){const l=Cl(s.mapValue).fields;if(0===l.length)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)}),new $s(e)}class ni{constructor(e,t,s,a,l,f,D){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=f,this.documentState=D}static newInvalidDocument(e){return new ni(e,0,gn.min(),gn.min(),gn.min(),Ei.empty(),0)}static newFoundDocument(e,t,s,a){return new ni(e,1,t,gn.min(),s,a,0)}static newNoDocument(e,t){return new ni(e,2,t,gn.min(),gn.min(),Ei.empty(),0)}static newUnknownDocument(e,t){return new ni(e,3,t,gn.min(),gn.min(),Ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ba{constructor(e,t){this.position=e,this.inclusive=t}}function ac(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],f=r.position[a];if(s=l.field.isKeyField()?Mt.comparator(Mt.fromName(f.referenceValue),t.key):ia(f,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return s}function Tl(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!na(r.position[t],e.position[t]))return!1;return!0}class eu{constructor(e,t="asc"){this.field=e,this.dir=t}}function E(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class A{}class F extends A{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new co(e,t,s):"array-contains"===t?new mu(e,s):"in"===t?new Ho(e,s):"not-in"===t?new Da(e,s):"array-contains-any"===t?new yu(e,s):new F(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new fs(e,s):new uc(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ia(t,this.value)):null!==t&&Ea(this.value)===Ea(t)&&this.matchesComparison(ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class J extends A{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new J(e,t)}matches(e){return ve(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ve(r){return"and"===r.op}function He(r){return function Ft(r){for(const e of r.filters)if(e instanceof J)return!1;return!0}(r)&&ve(r)}function Nt(r){if(r instanceof F)return r.field.canonicalString()+r.op.toString()+sa(r.value);if(He(r))return r.filters.map(e=>Nt(e)).join(",");{const e=r.filters.map(t=>Nt(t)).join(",");return`${r.op}(${e})`}}function dn(r,e){return r instanceof F?(t=r,(s=e)instanceof F&&t.op===s.op&&t.field.isEqual(s.field)&&na(t.value,s.value)):r instanceof J?function(t,s){return s instanceof J&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,l,f)=>a&&dn(l,s.filters[f]),!0)}(r,e):void Jt();var t,s}function $n(r){return r instanceof F?`${(e=r).field.canonicalString()} ${e.op} ${sa(e.value)}`:r instanceof J?function(e){return e.op.toString()+" {"+e.getFilters().map($n).join(" ,")+"}"}(r):"Filter";var e}class co extends F{constructor(e,t,s){super(e,t,s),this.key=Mt.fromName(s.referenceValue)}matches(e){const t=Mt.comparator(e.key,this.key);return this.matchesComparison(t)}}class fs extends F{constructor(e,t){super(e,"in",t),this.keys=cc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uc extends F{constructor(e,t){super(e,"not-in",t),this.keys=cc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cc(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Mt.fromName(s.referenceValue))}class mu extends F{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vu(t)&&ra(t.arrayValue,this.value)}}class Ho extends F{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ra(this.value.arrayValue,t)}}class Da extends F{constructor(e,t){super(e,"not-in",t)}matches(e){if(ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ra(this.value.arrayValue,t)}}class yu extends F{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ra(this.value.arrayValue,s))}}class Dh{constructor(e,t=null,s=[],a=[],l=null,f=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=f,this.endAt=D,this.dt=null}}function $a(r,e=null,t=[],s=[],a=null,l=null,f=null){return new Dh(r,e,t,s,a,l,f)}function _u(r){const e=Pt(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Nt(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Ou(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>sa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>sa(s)).join(",")),e.dt=t}return e.dt}function lc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!E(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!dn(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Tl(r.startAt,e.startAt)&&Tl(r.endAt,e.endAt)}function dc(r){return Mt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class ba{constructor(e,t=null,s=[],a=[],l=null,f="F",D=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=f,this.startAt=D,this.endAt=O,this.wt=null,this._t=null}}function fc(r){return new ba(r)}function Al(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function xl(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Bu(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Ml(r){return null!==r.collectionGroup}function pc(r){const e=Pt(r);if(null===e.wt){e.wt=[];const t=Bu(e),s=xl(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new eu(t)),e.wt.push(new eu(hi.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new eu(hi.keyField(),l))}}}return e.wt}function to(r){const e=Pt(r);if(!e._t)if("F"===e.limitType)e._t=$a(e.path,e.collectionGroup,pc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of pc(e))t.push(new eu(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new Ba(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ba(e.startAt.position,e.startAt.inclusive):null;e._t=$a(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function _d(r,e){e.getFirstInequalityField(),Bu(r);const t=r.filters.concat([e]);return new ba(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Uc(r,e,t){return new ba(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function $u(r,e){return lc(to(r),to(e))&&r.limitType===e.limitType}function vd(r){return`${_u(to(r))}|lt:${r.limitType}`}function Bc(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>$n(s)).join(", ")}]`),Ou(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>sa(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>sa(s)).join(",")),`Target(${t})`}(to(r))}; limitType=${r.limitType})`}function $c(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Mt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of pc(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,l,f){const D=ac(a,l,f);return a.inclusive?D<=0:D<0}(t.startAt,pc(t),s)||t.endAt&&!function(a,l,f){const D=ac(a,l,f);return a.inclusive?D>=0:D>0}(t.endAt,pc(t),s)));var t,s}function bh(r){return(e,t)=>{let s=!1;for(const a of pc(r)){const l=Jf(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function Jf(r,e,t){const s=r.field.isKeyField()?Mt.comparator(e.key,t.key):function(a,l,f){const D=l.data.field(a),O=f.data.field(a);return null!==D&&null!==O?ia(D,O):Jt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Jt()}}class Ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Na(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Oa(this.inner)}size(){return this.innerSize}}const Xf=new Lr(Mt.comparator);function Po(){return Xf}const ep=new Lr(Mt.comparator);function wd(...r){let e=ep;for(const t of r)e=e.insert(t.key,t);return e}function jc(r){let e=ep;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function tu(){return Hc()}function Ch(){return Hc()}function Hc(){return new Ro(r=>r.toString(),(r,e)=>r.isEqual(e))}const Th=new Lr(Mt.comparator),Sh=new fi(Mt.comparator);function ir(...r){let e=Sh;for(const t of r)e=e.add(t);return e}const Id=new fi(sn);function Ah(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ra(e)?"-0":e}}function Ed(r){return{integerValue:""+r}}function Dd(r,e){return function Fi(r){return"number"==typeof r&&Number.isInteger(r)&&!Ra(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?Ed(e):Ah(r,e)}class zc{constructor(){this._=void 0}}function Rl(r,e,t){return r instanceof qc?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&wa(a)&&(a=Fc(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):r instanceof gc?tp(r,e):r instanceof ju?Mh(r,e):function(s,a){const l=xh(s,a),f=bd(l)+bd(s.gt);return gd(l)&&gd(s.gt)?Ed(f):Ah(s.serializer,f)}(r,e)}function Bg(r,e,t){return r instanceof gc?tp(r,e):r instanceof ju?Mh(r,e):t}function xh(r,e){return r instanceof vu?gd(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class qc extends zc{}class gc extends zc{constructor(e){super(),this.elements=e}}function tp(r,e){const t=mc(e);for(const s of r.elements)t.some(a=>na(a,s))||t.push(s);return{arrayValue:{values:t}}}class ju extends zc{constructor(e){super(),this.elements=e}}function Mh(r,e){let t=mc(e);for(const s of r.elements)t=t.filter(a=>!na(a,s));return{arrayValue:{values:t}}}class vu extends zc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function bd(r){return Li(r.integerValue||r.doubleValue)}function mc(r){return Vu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class a_{constructor(e,t){this.version=e,this.transformResults=t}}class zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Cd{}function Rh(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Kc(r.key,zi.none()):new _c(r.key,r.data,zi.none());{const t=r.data,s=Ei.empty();let a=new fi(hi.comparator);for(let l of e.fields)if(!a.has(l)){let f=t.field(l);null===f&&l.length>1&&(l=l.popLast(),f=t.field(l)),null===f?s.delete(l):s.set(l,f),a=a.add(l)}return new nu(r.key,s,new $s(a.toArray()),zi.none())}}function kl(r,e,t){r instanceof _c?function(s,a,l){const f=s.value.clone(),D=ip(s.fieldTransforms,a,l.transformResults);f.setAll(D),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(r,e,t):r instanceof nu?function(s,a,l){if(!Wc(s.precondition,a))return void a.convertToUnknownDocument(l.version);const f=ip(s.fieldTransforms,a,l.transformResults),D=a.data;D.setAll(rp(s)),D.setAll(f),a.convertToFoundDocument(l.version,D).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yc(r,e,t,s){return r instanceof _c?function(a,l,f,D){if(!Wc(a.precondition,l))return f;const O=a.value.clone(),V=sp(a.fieldTransforms,D,l);return O.setAll(V),l.convertToFoundDocument(l.version,O).setHasLocalMutations(),null}(r,e,t,s):r instanceof nu?function(a,l,f,D){if(!Wc(a.precondition,l))return f;const O=sp(a.fieldTransforms,D,l),V=l.data;return V.setAll(rp(a)),V.setAll(O),l.convertToFoundDocument(l.version,V).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Z=>Z.field))}(r,e,t,s):(f=t,Wc(r.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function np(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=xh(s.transform,a||null);null!=l&&(null===t&&(t=Ei.empty()),t.set(s.field,l))}return t||null}function Ph(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Qo(t,s,(a,l)=>function $g(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof gc&&s instanceof gc||t instanceof ju&&s instanceof ju?Qo(t.elements,s.elements,na):t instanceof vu&&s instanceof vu?na(t.gt,s.gt):t instanceof qc&&s instanceof qc);var t,s}(a,l))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class _c extends Cd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class nu extends Cd{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function rp(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function ip(r,e,t){const s=new Map;un(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],f=l.transform,D=e.data.field(l.field);s.set(l.field,Bg(f,D,t[a]))}return s}function sp(r,e,t){const s=new Map;for(const a of r){const l=a.transform,f=t.data.field(a.field);s.set(a.field,Rl(l,f,e))}return s}class Kc extends Cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kh extends Cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ru{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&kl(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=yc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=yc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ch();return this.mutations.forEach(a=>{const l=e.get(a.key),f=l.overlayedDocument;let D=this.applyToLocalView(f,l.mutatedFields);D=t.has(a.key)?null:D;const O=Rh(f,D);null!==O&&s.set(a.key,O),f.isValidDocument()||f.convertToNoDocument(gn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ir())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(t,s)=>Ph(t,s))&&Qo(this.baseMutations,e.baseMutations,(t,s)=>Ph(t,s))}}class vc{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){un(e.mutations.length===s.length);let a=Th;const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,s[f].version);return new vc(e,t,s,a)}}class Nh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class I{constructor(e,t){this.count=e,this.unchangedNames=t}}var d,p;function G(r){if(void 0===r)return Fr("GRPC error has no .code"),qe.UNKNOWN;switch(r){case d.OK:return qe.OK;case d.CANCELLED:return qe.CANCELLED;case d.UNKNOWN:return qe.UNKNOWN;case d.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case d.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case d.INTERNAL:return qe.INTERNAL;case d.UNAVAILABLE:return qe.UNAVAILABLE;case d.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case d.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case d.NOT_FOUND:return qe.NOT_FOUND;case d.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case d.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case d.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case d.ABORTED:return qe.ABORTED;case d.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case d.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case d.DATA_LOSS:return qe.DATA_LOSS;default:return Jt()}}(p=d||(d={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class X{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Te}static getOrCreateInstance(){return null===Te&&(Te=new X),Te}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Te=null;const kt=new Dn([4294967295,4294967295],0);function Kt(r){const e=function Ye(){return new TextEncoder}().encode(r),t=new Dr;return t.update(e),new Uint8Array(t.digest())}function cn(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Dn([t,s],0),new Dn([a,l],0)]}class er{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new xs(`Invalid padding: ${t}`);if(s<0)throw new xs(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new xs(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new xs(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Dn.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(Dn.fromNumber(s)));return 1===a.compare(kt)&&(a=new Dn([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Kt(e),[s,a]=cn(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,a,l);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new er(l,a,t);return s.forEach(D=>f.insert(D)),f}insert(e){if(0===this.It)return;const t=Kt(e),[s,a]=cn(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,a,l);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class xs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Go{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Go(gn.min(),a,new Lr(sn),Po(),ir())}}class iu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new iu(s,t,ir(),ir(),ir())}}class Nl{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class Td{constructor(e,t){this.targetId=e,this.Vt=t}}class Oh{constructor(e,t,s=hs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Zc{constructor(){this.St=0,this.Dt=Lh(),this.Ct=hs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ir(),t=ir(),s=ir();return this.Dt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Jt()}}),new iu(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=Lh()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Yc{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Po(),this.zt=Fh(),this.Wt=new Lr(sn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Jt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,l=this.se(s);if(l){const f=l.target;if(dc(f))if(0===a){const D=new Mt(f.path);this.Yt(s,D,ni.newNoDocument(D,gn.min()))}else un(1===a);else{const D=this.ie(s);if(D!==a){const O=this.re(e,D);0!==O&&(this.ee(s),this.Wt=this.Wt.insert(s,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=X.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(V,Z,ye){var Le,rt,St,Xt,on,sr;const Mr={localCacheCount:Z,existenceFilterCount:ye.count},yr=ye.unchangedNames;return yr&&(Mr.bloomFilter={applied:0===V,hashCount:null!==(Le=yr?.hashCount)&&void 0!==Le?Le:0,bitmapLength:null!==(Xt=null===(St=null===(rt=yr?.bits)||void 0===rt?void 0:rt.bitmap)||void 0===St?void 0:St.length)&&void 0!==Xt?Xt:0,padding:null!==(sr=null===(on=yr?.bits)||void 0===on?void 0:on.padding)&&void 0!==sr?sr:0}),Mr}(O,D,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:D=0}=s;let O,V;try{O=va(l).toUint8Array()}catch(Z){if(Z instanceof fd)return Hi("Decoding the base64 bloom filter in existence filter failed ("+Z.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Z}try{V=new er(O,f,D)}catch(Z){return Hi(Z instanceof xs?"BloomFilter error: ":"Applying bloom filter failed: ",Z),1}return 0===V.It?1:a!==t-this.oe(e.targetId,V)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(l=>{const f=this.Gt.ue(),D=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;t.vt(D)||(this.Yt(e,l,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((l,f)=>{const D=this.se(f);if(D){if(l.current&&dc(D.target)){const O=new Mt(D.target.path);null!==this.jt.get(O)||this.ae(f,O)||this.Yt(f,O,ni.newNoDocument(O,e))}l.Mt&&(t.set(f,l.Ot()),l.Ft())}});let s=ir();this.zt.forEach((l,f)=>{let D=!0;f.forEachWhile(O=>{const V=this.se(O);return!V||"TargetPurposeLimboResolution"===V.purpose||(D=!1,!1)}),D&&(s=s.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const a=new Go(e,t,this.Wt,this.jt,s);return this.jt=Po(),this.zt=Fh(),this.Wt=new Lr(sn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Zc,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new fi(sn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ht("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Zc),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Fh(){return new Lr(Mt.comparator)}function Lh(){return new Lr(Mt.comparator)}const Ol={asc:"ASCENDING",desc:"DESCENDING"},Vh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},op={and:"AND",or:"OR"};class Sd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ad(r,e){return r.useProto3Json||Ou(e)?e:{value:e}}function Qc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xd(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function c_(r,e){return Qc(r,e.toTimestamp())}function ss(r){return un(!!r),gn.fromTimestamp(function(e){const t=uo(e);return new di(t.seconds,t.nanos)}(r))}function ap(r,e){return(t=r,new pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ms(r){const e=pr.fromString(r);return un(pp(e)),e}function Md(r,e){return ap(r.databaseId,e.path)}function wu(r,e){const t=Ms(e);if(t.get(1)!==r.databaseId.projectId)throw new pt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new pt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Mt(jg(t))}function Rd(r,e){return ap(r.databaseId,e)}function Pd(r){return new pr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function jg(r){return un(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Hg(r,e,t){return{name:Md(r,e),fields:t.value.mapValue.fields}}function lp(r,e){return{documents:[Rd(r,e.path)]}}function Bh(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Rd(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Rd(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(O){if(0!==O.length)return Zg(J.create(O,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(O){if(0!==O.length)return O.map(V=>{return{field:Xc((Z=V).field),direction:Wg(Z.dir)};var Z})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=Ad(r,e.limit);var D,O;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function dp(r){let e=function up(r){const e=Ms(r);return 4===e.length?pr.emptyPath():jg(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){un(1===s);const Z=t.from[0];Z.allDescendants?a=Z.collectionId:e=e.child(Z.collectionId)}let l=[];t.where&&(l=function(Z){const ye=qg(Z);return ye instanceof J&&He(ye)?ye.getFilters():[ye]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(Z=>{return new eu(wc((ye=Z).field),function(Le){switch(Le){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ye.direction));var ye}));let D=null;t.limit&&(D=function(Z){let ye;return ye="object"==typeof Z?Z.value:Z,Ou(ye)?null:ye}(t.limit));let O=null;var Z;t.startAt&&(O=new Ba((Z=t.startAt).values||[],!!Z.before));let V=null;return t.endAt&&(V=function(Z){return new Ba(Z.values||[],!Z.before)}(t.endAt)),function Sl(r,e,t,s,a,l,f,D){return new ba(r,e,t,s,a,l,f,D)}(e,a,f,l,D,"F",O,V)}function qg(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wc(e.unaryFilter.field);return F.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=wc(e.unaryFilter.field);return F.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=wc(e.unaryFilter.field);return F.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=wc(e.unaryFilter.field);return F.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Jt()}}(r):void 0!==r.fieldFilter?F.create(wc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return J.create(e.compositeFilter.filters.map(t=>qg(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Jt()}}(e.compositeFilter.op))}(r):Jt();var e}function Wg(r){return Ol[r]}function Kg(r){return Vh[r]}function hp(r){return op[r]}function Xc(r){return{fieldPath:r.canonicalString()}}function wc(r){return hi.fromServerFormat(r.fieldPath)}function Zg(r){return r instanceof F?function(e){if("=="===e.op){if(Vc(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NAN"}};if(md(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vc(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NOT_NAN"}};if(md(e.value))return{unaryFilter:{field:Xc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xc(e.field),op:Kg(e.op),value:e.value}}}(r):r instanceof J?function(e){const t=e.getFilters().map(s=>Zg(s));return 1===t.length?t[0]:{compositeFilter:{op:hp(e.op),filters:t}}}(r):Jt()}function fp(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pp(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Iu{constructor(e,t,s,a,l=gn.min(),f=gn.min(),D=hs.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=O}withSequenceNumber(e){return new Iu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ic{constructor(e){this.fe=e}}function kd(r){const e=dp({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Uc(e,e.limit,"L"):e}class rl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Li(e.integerValue));else if("doubleValue"in e){const s=Li(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Ra(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(va(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?Xa(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Jt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),Mt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}rl.Ve=new rl;class Ep{constructor(){this.rn=new sl}addToCollectionParentIndex(e,t){return this.rn.add(t),Oe.resolve()}getCollectionParents(e,t){return Oe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Oe.resolve()}deleteFieldIndex(e,t){return Oe.resolve()}getDocumentsMatchingTarget(e,t){return Oe.resolve(null)}getIndexType(e,t){return Oe.resolve(0)}getFieldIndexes(e,t){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,t){return Oe.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,t){return Oe.resolve(eo.min())}updateCollectionGroup(e,t,s){return Oe.resolve()}updateIndexEntries(e,t){return Oe.resolve()}}class sl{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new fi(pr.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new fi(pr.comparator)).toArray()}}new Uint8Array(0);class es{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new es(e,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class Ec{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ec(0)}static Mn(){return new Ec(-1)}}class am{constructor(){this.changes=new Ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Oe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class E_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Sp{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&yc(s.mutation,a,$s.empty(),di.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ir()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ir()){const a=tu();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let f=wd();return l.forEach((D,O)=>{f=f.insert(D,O.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=tu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ir()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((f,D)=>{t.set(f,D)})})}computeViews(e,t,s,a){let l=Po();const f=Hc(),D=Hc();return t.forEach((O,V)=>{const Z=s.get(V.key);a.has(V.key)&&(void 0===Z||Z.mutation instanceof nu)?l=l.insert(V.key,V):void 0!==Z?(f.set(V.key,Z.mutation.getFieldMask()),yc(Z.mutation,V,Z.mutation.getFieldMask(),di.now())):f.set(V.key,$s.empty())}),this.recalculateAndSaveOverlays(e,l).next(O=>(O.forEach((V,Z)=>f.set(V,Z)),t.forEach((V,Z)=>{var ye;return D.set(V,new E_(Z,null!==(ye=f.get(V))&&void 0!==ye?ye:null))}),D))}recalculateAndSaveOverlays(e,t){const s=Hc();let a=new Lr((f,D)=>f-D),l=ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const D of f)D.keys().forEach(O=>{const V=t.get(O);if(null===V)return;let Z=s.get(O)||$s.empty();Z=D.applyToLocalView(V,Z),s.set(O,Z);const ye=(a.get(D.batchId)||ir()).add(O);a=a.insert(D.batchId,ye)})}).next(()=>{const f=[],D=a.getReverseIterator();for(;D.hasNext();){const O=D.getNext(),V=O.key,Z=O.value,ye=Ch();Z.forEach(Le=>{if(!l.has(Le)){const rt=Rh(t.get(Le),s.get(Le));null!==rt&&ye.set(Le,rt),l=l.add(Le)}}),f.push(this.documentOverlayCache.saveOverlays(e,V,ye))}return Oe.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Mt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ml(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const f=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):Oe.resolve(tu());let D=-1,O=l;return f.next(V=>Oe.forEach(V,(Z,ye)=>(D<ye.largestBatchId&&(D=ye.largestBatchId),l.get(Z)?Oe.resolve():this.remoteDocumentCache.getEntry(e,Z).next(Le=>{O=O.insert(Z,Le)}))).next(()=>this.populateOverlays(e,V,l)).next(()=>this.computeViews(e,O,V,ir())).next(Z=>({batchId:D,changes:jc(Z)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Mt(t)).next(s=>{let a=wd();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let l=wd();return this.indexManager.getCollectionParents(e,a).next(f=>Oe.forEach(f,D=>{const O=(V=t,Z=D.child(a),new ba(Z,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt));var V,Z;return this.getDocumentsMatchingCollectionQuery(e,O,s).next(V=>{V.forEach((Z,ye)=>{l=l.insert(Z,ye)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(l=>{a.forEach((D,O)=>{const V=O.getKey();null===l.get(V)&&(l=l.insert(V,ni.newInvalidDocument(V)))});let f=wd();return l.forEach((D,O)=>{const V=a.get(D);void 0!==V&&yc(V.mutation,O,$s.empty(),di.now()),$c(t,O)&&(f=f.insert(D,O))}),f})}}class D_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Oe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:ss(s.createTime)}),Oe.resolve()}getNamedQuery(e,t){return Oe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:kd(s.bundledQuery),readTime:ss(s.readTime)}),Oe.resolve();var s}}class lm{constructor(){this.overlays=new Lr(Mt.comparator),this.ls=new Map}getOverlay(e,t){return Oe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=tu();return Oe.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.we(e,t,l)}),Oe.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(s)),Oe.resolve()}getOverlaysForCollection(e,t,s){const a=tu(),l=t.length+1,f=new Mt(t.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const O=D.getNext().value,V=O.getKey();if(!t.isPrefixOf(V.path))break;V.path.length===l&&O.largestBatchId>s&&a.set(O.getKey(),O)}return Oe.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Lr((V,Z)=>V-Z);const f=this.overlays.getIterator();for(;f.hasNext();){const V=f.getNext().value;if(V.getKey().getCollectionGroup()===t&&V.largestBatchId>s){let Z=l.get(V.largestBatchId);null===Z&&(Z=tu(),l=l.insert(V.largestBatchId,Z)),Z.set(V.getKey(),V)}}const D=tu(),O=l.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((V,Z)=>D.set(V,Z)),!(D.size()>=a)););return Oe.resolve(D)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Nh(t,s));let l=this.ls.get(t);void 0===l&&(l=ir(),this.ls.set(t,l)),this.ls.set(t,l.add(s.key))}}class Ap{constructor(){this.fs=new fi(lo.ds),this.ws=new fi(lo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new lo(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new lo(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new Mt(new pr([])),s=new lo(t,e),a=new lo(t,e+1),l=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Mt(new pr([])),s=new lo(t,e),a=new lo(t,e+1);let l=ir();return this.ws.forEachInRange([s,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new lo(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class lo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Mt.comparator(e.key,t.key)||sn(e.As,t.As)}static _s(e,t){return sn(e.As,t.As)||Mt.comparator(e.key,t.key)}}class I0{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new fi(lo.ds)}checkEmpty(e){return Oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const l=this.vs;this.vs++;const f=new ru(l,t,s,a);this.mutationQueue.push(f);for(const D of a)this.Rs=this.Rs.add(new lo(D.key,l)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Oe.resolve(f)}lookupMutationBatch(e,t){return Oe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),l=a<0?0:a;return Oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new lo(t,0),a=new lo(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([s,a],f=>{const D=this.Ps(f.As);l.push(D)}),Oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new fi(sn);return t.forEach(a=>{const l=new lo(a,0),f=new lo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],D=>{s=s.add(D.As)})}),Oe.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Mt.isDocumentKey(l)||(l=l.child(""));const f=new lo(new Mt(l),0);let D=new fi(sn);return this.Rs.forEachWhile(O=>{const V=O.key.path;return!!s.isPrefixOf(V)&&(V.length===a&&(D=D.add(O.As)),!0)},f),Oe.resolve(this.Vs(D))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){un(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Oe.forEach(t.mutations,a=>{const l=new lo(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new lo(t,0),a=this.Rs.firstAfterOrEqual(s);return Oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Oe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dm{constructor(e){this.Ds=e,this.docs=new Lr(Mt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Oe.resolve(s?s.document.mutableCopy():ni.newInvalidDocument(t))}getEntries(e,t){let s=Po();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ni.newInvalidDocument(a))}),Oe.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Po();const f=t.path,D=new Mt(f.child("")),O=this.docs.getIteratorFrom(D);for(;O.hasNext();){const{key:V,value:{document:Z}}=O.getNext();if(!f.isPrefixOf(V.path))break;V.path.length>f.length+1||Za(Xo(Z),s)<=0||(a.has(Z.key)||$c(t,Z))&&(l=l.insert(Z.key,Z.mutableCopy()))}return Oe.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Jt()}Cs(e,t){return Oe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new hm(this)}getSize(e){return Oe.resolve(this.size)}}class hm extends am{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Oe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ul{constructor(e){this.persistence=e,this.xs=new Ro(t=>_u(t),lc),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ap,this.targetCount=0,this.Ms=Ec.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Oe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ec(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Oe.resolve()}updateTargetData(e,t){return this.Fn(t),Oe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.xs.forEach((f,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,D.targetId)),a++)}),Oe.waitFor(l).next(()=>a)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Oe.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Oe.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),Oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Oe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Oe.resolve(s)}containsKey(e,t){return Oe.resolve(this.ks.containsKey(t))}}class xp{constructor(e,t){this.$s={},this.overlays={},this.Os=new ti(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ul(this),this.indexManager=new Ep,this.remoteDocumentCache=new dm(s=>this.referenceDelegate.Ls(s)),this.serializer=new Ic(t),this.qs=new D_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new I0(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){ht("MemoryPersistence","Starting transaction:",e);const a=new Mp(this.Os.next());return this.referenceDelegate.Us(),s(a).next(l=>this.referenceDelegate.Ks(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Gs(e,t){return Oe.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Mp extends ea{constructor(e){super(),this.currentSequenceNumber=e}}class Ul{constructor(e){this.persistence=e,this.Qs=new Ap,this.js=null}static zs(e){return new Ul(e)}get Ws(){if(this.js)return this.js;throw Jt()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Oe.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Oe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ws.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Ws,s=>{const a=Mt.fromPath(s);return this.Hs(e,a).next(l=>{l||t.removeEntry(a,gn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Oe.or([()=>Oe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Cc{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=ir(),a=ir();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Cc(e,t.fromCache,s,a)}}class pm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(l=>l||this.Gi(e,t,a,s)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(Al(t))return Oe.resolve(null);let s=to(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Uc(t,null,"F"),s=to(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const f=ir(...l);return this.Ui.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,s).next(O=>{const V=this.ji(t,D);return this.zi(t,V,f,O.readTime)?this.Ki(e,Uc(t,null,"F")):this.Wi(e,V,t,O)}))})))}Gi(e,t,s,a){return Al(t)||a.isEqual(gn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(l=>{const f=this.ji(t,l);return this.zi(t,f,s,a)?this.Qi(e,t):(Eo()<=fe.in.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bc(t)),this.Wi(e,f,t,function Ka(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=gn.fromTimestamp(1e9===s?new di(t+1,0):new di(t,s));return new eo(a,Mt.empty(),e)}(a,-1)))})}ji(e,t){let s=new fi(bh(e));return t.forEach((a,l)=>{$c(e,l)&&(s=s.add(l))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Qi(e,t){return Eo()<=fe.in.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Bc(t)),this.Ui.getDocumentsMatchingQuery(e,t,eo.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class gm{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Lr(sn),this.Yi=new Ro(l=>_u(l),lc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function mm(r,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,_e.Z)(function*(r,e){const t=Pt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const f=[],D=[];let O=ir();for(const V of a){f.push(V.batchId);for(const Z of V.mutations)O=O.add(Z.key)}for(const V of l){D.push(V.batchId);for(const Z of V.mutations)O=O.add(Z.key)}return t.localDocuments.getDocuments(s,O).next(V=>({er:V,removedBatchIds:f,addedBatchIds:D}))})})}),Qh.apply(this,arguments)}function ym(r){const e=Pt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function S_(r,e){const t=Pt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $l(r,e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,_e.Z)(function*(r,e,t){const s=Pt(r),a=s.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!ga(f))throw f;ht("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Jh.apply(this,arguments)}function Ud(r,e,t){const s=Pt(r);let a=gn.min(),l=ir();return s.persistence.runTransaction("Execute query","readonly",f=>function(D,O,V){const Z=Pt(D),ye=Z.Yi.get(V);return void 0!==ye?Oe.resolve(Z.Ji.get(ye)):Z.Bs.getTargetData(O,V)}(s,f,to(e)).next(D=>{if(D)return a=D.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,D.targetId).next(O=>{l=O})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:gn.min(),t?l:ir())).next(D=>(function ef(r,e,t){let s=r.Xi.get(e)||gn.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Xi.set(e,s)}(s,function Qf(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),D),{documents:D,ir:l})))}class ll{constructor(){this.activeTargetIds=function Gc(){return Id}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jd{constructor(){this.Hr=new ll,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ll,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Im{Yr(e){}shutdown(){}}class rf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hl=null;function Hd(){return null===Hl?Hl=268435456+Math.round(2147483648*Math.random()):Hl++,"0x"+Hl.toString(16)}const Em={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fp{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ko="WebChannelConnection";class M_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,l){const f=Hd(),D=this.To(e,t);ht("RestConnection",`Sending RPC '${e}' ${f}:`,D,s);const O={};return this.Eo(O,a,l),this.Ao(e,D,O,s).then(V=>(ht("RestConnection",`Received RPC '${e}' ${f}: `,V),V),V=>{throw Hi("RestConnection",`RPC '${e}' ${f} failed with error: `,V,"url: ",D,"request:",s),V})}vo(e,t,s,a,l,f){return this.Io(e,t,s,a,l)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}To(e,t){return`${this.mo}/v1/${t}:${Em[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const l=Hd();return new Promise((f,D)=>{const O=new Tr;O.setWithCredentials(!0),O.listenOnce(de.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case W.NO_ERROR:const Z=O.getResponseJson();ht(ko,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(Z)),f(Z);break;case W.TIMEOUT:ht(ko,`RPC '${e}' ${l} timed out`),D(new pt(qe.DEADLINE_EXCEEDED,"Request time out"));break;case W.HTTP_ERROR:const ye=O.getStatus();if(ht(ko,`RPC '${e}' ${l} failed with status:`,ye,"response text:",O.getResponseText()),ye>0){let Le=O.getResponseJson();Array.isArray(Le)&&(Le=Le[0]);const rt=Le?.error;if(rt&&rt.status&&rt.message){const St=function(Xt){const on=Xt.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(on)>=0?on:qe.UNKNOWN}(rt.status);D(new pt(St,rt.message))}else D(new pt(qe.UNKNOWN,"Server responded with status "+O.getStatus()))}else D(new pt(qe.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{ht(ko,`RPC '${e}' ${l} completed.`)}});const V=JSON.stringify(a);ht(ko,`RPC '${e}' ${l} sending request:`,a),O.send(t,"POST",V,s,15)})}Ro(e,t,s){const a=Hd(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=B(),D=k(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},V=this.longPollingOptions.timeoutSeconds;void 0!==V&&(O.longPollingTimeout=Math.round(1e3*V)),this.useFetchStreams&&(O.xmlHttpFactory=new rn({})),this.Eo(O.initMessageHeaders,t,s),O.encodeInitMessageHeaders=!0;const Z=l.join("");ht(ko,`Creating RPC '${e}' stream ${a}: ${Z}`,O);const ye=f.createWebChannel(Z,O);let Le=!1,rt=!1;const St=new Fp({ro:on=>{rt?ht(ko,`Not sending because RPC '${e}' stream ${a} is closed:`,on):(Le||(ht(ko,`Opening RPC '${e}' stream ${a} transport.`),ye.open(),Le=!0),ht(ko,`RPC '${e}' stream ${a} sending:`,on),ye.send(on))},oo:()=>ye.close()}),Xt=(on,sr,Mr)=>{on.listen(sr,yr=>{try{Mr(yr)}catch(Rs){setTimeout(()=>{throw Rs},0)}})};return Xt(ye,mr.EventType.OPEN,()=>{rt||ht(ko,`RPC '${e}' stream ${a} transport opened.`)}),Xt(ye,mr.EventType.CLOSE,()=>{rt||(rt=!0,ht(ko,`RPC '${e}' stream ${a} transport closed`),St.wo())}),Xt(ye,mr.EventType.ERROR,on=>{rt||(rt=!0,Hi(ko,`RPC '${e}' stream ${a} transport errored:`,on),St.wo(new pt(qe.UNAVAILABLE,"The operation could not be completed")))}),Xt(ye,mr.EventType.MESSAGE,on=>{var sr;if(!rt){const Mr=on.data[0];un(!!Mr);const Rs=Mr.error||(null===(sr=Mr[0])||void 0===sr?void 0:sr.error);if(Rs){ht(ko,`RPC '${e}' stream ${a} received error:`,Rs);const gs=Rs.status;let qi=function(wl){const Jy=d[wl];if(void 0!==Jy)return G(Jy)}(gs),ua=Rs.message;void 0===qi&&(qi=qe.INTERNAL,ua="Unknown error status: "+gs+" with message "+Rs.message),rt=!0,St.wo(new pt(qi,ua)),ye.close()}else ht(ko,`RPC '${e}' stream ${a} received:`,Mr),St._o(Mr)}}),Xt(D,ze.STAT_EVENT,on=>{on.stat===it.PROXY?ht(ko,`RPC '${e}' stream ${a} detected buffering proxy`):on.stat===it.NOPROXY&&ht(ko,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{St.fo()},0),St}}function sf(){return typeof document<"u"?document:null}function Gl(r){return new Sd(r,!0)}class af{constructor(e,t,s=1e3,a=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Dm{constructor(e,t,s,a,l,f,D,O){this.ii=e,this.$o=s,this.Oo=a,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=O,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new af(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,_e.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,_e.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,_e.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===qe.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===qe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new pt(qe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,_e.Z)(function*(){e.state=0,e.start()}))}tu(e){return ht("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R_ extends Dm{constructor(e,t,s,a,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function _0(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:Jt(),a=e.targetChange.targetIds||[],l=function(O,V){return O.useProto3Json?(un(void 0===V||"string"==typeof V),hs.fromBase64String(V||"")):(un(void 0===V||V instanceof Uint8Array),hs.fromUint8Array(V||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(O){const V=void 0===O.code?qe.UNKNOWN:G(O.code);return new pt(V,O.message||"")}(f);t=new Oh(s,a,l,D||null)}else if("documentChange"in e){const s=e.documentChange,a=wu(r,s.document.name),l=ss(s.document.updateTime),f=s.document.createTime?ss(s.document.createTime):gn.min(),D=new Ei({mapValue:{fields:s.document.fields}}),O=ni.newFoundDocument(a,l,f,D);t=new Nl(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,a=wu(r,s.document),l=s.readTime?ss(s.readTime):gn.min(),f=ni.newNoDocument(a,l);t=new Nl([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=wu(r,s.document);t=new Nl([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Jt();{const s=e.filter,{count:a=0,unchangedNames:l}=s,f=new I(a,l);t=new Td(s.targetId,f)}}var O;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return gn.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?gn.min():l.readTime?ss(l.readTime):gn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=Pd(this.serializer),t.addTarget=function(a,l){let f;const D=l.target;if(f=dc(D)?{documents:lp(a,D)}:{query:Bh(a,D)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=xd(a,l.resumeToken);const O=Ad(a,l.expectedCount);null!==O&&(f.expectedCount=O)}else if(l.snapshotVersion.compareTo(gn.min())>0){f.readTime=Qc(a,l.snapshotVersion.toTimestamp());const O=Ad(a,l.expectedCount);null!==O&&(f.expectedCount=O)}return f}(this.serializer,e);const s=function v0(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=Pd(this.serializer),t.removeTarget=e,this.Wo(t)}}class Ta extends Dm{constructor(e,t,s,a,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function cp(r,e){return r&&r.length>0?(un(void 0!==e),r.map(t=>function(s,a){let l=ss(s.updateTime?s.updateTime:a);return l.isEqual(gn.min())&&(l=ss(a)),new a_(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=ss(e.commitTime);return this.listener.cu(s,t)}return un(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Pd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function Uh(r,e){let t;if(e instanceof _c)t={update:Hg(r,e.key,e.value)};else if(e instanceof Kc)t={delete:Md(r,e.key)};else if(e instanceof nu)t={update:Hg(r,e.key,e.data),updateMask:fp(e.fieldMask)};else{if(!(e instanceof kh))return Jt();t={verify:Md(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const f=l.transform;if(f instanceof qc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof gc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ju)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof vu)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw Jt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:c_(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Jt()),t;var a}(this.serializer,s))};this.Wo(t)}}class P_ extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new pt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Io(e,t,s,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pt(qe.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,t,s,l,f,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pt(qe.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class Vp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Fr(t),this.mu=!1):ht("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Cm{constructor(e,t,s,a,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(D=>{s.enqueueAndForget((0,_e.Z)(function*(){var O;Sc(f)&&(ht("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,_e.Z)(function*(V){const Z=Pt(V);Z.vu.add(4),yield zl(Z),Z.bu.set("Unknown"),Z.vu.delete(4),yield Gd(Z)}),function(V){return O.apply(this,arguments)})(f))}))}),this.bu=new Vp(s,a)}}function Gd(r){return Up.apply(this,arguments)}function Up(){return Up=(0,_e.Z)(function*(r){if(Sc(r))for(const e of r.Ru)yield e(!0)}),Up.apply(this,arguments)}function zl(r){return uf.apply(this,arguments)}function uf(){return uf=(0,_e.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),uf.apply(this,arguments)}function cf(r,e){const t=Pt(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),$p(t)?Bp(t):hl(t).Ko()&&qd(t,e))}function zd(r,e){const t=Pt(r),s=hl(t);t.Au.delete(e),s.Ko()&&Tm(t,e),0===t.Au.size&&(s.Ko()?s.jo():Sc(t)&&t.bu.set("Unknown"))}function qd(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hl(r).su(e)}function Tm(r,e){r.Vu.qt(e),hl(r).iu(e)}function Bp(r){r.Vu=new Yc({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),hl(r).start(),r.bu.gu()}function $p(r){return Sc(r)&&!hl(r).Uo()&&r.Au.size>0}function Sc(r){return 0===Pt(r).vu.size}function Sm(r){r.Vu=void 0}function Du(r){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,_e.Z)(function*(r){r.Au.forEach((e,t)=>{qd(r,e)})}),Wd.apply(this,arguments)}function N_(r,e){return jp.apply(this,arguments)}function jp(){return jp=(0,_e.Z)(function*(r,e){Sm(r),$p(r)?(r.bu.Iu(e),Bp(r)):r.bu.set("Unknown")}),jp.apply(this,arguments)}function Am(r,e,t){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,_e.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Oh&&2===e.state&&e.cause)try{yield(s=(0,_e.Z)(function*(a,l){const f=l.cause;for(const D of l.targetIds)a.Au.has(D)&&(yield a.remoteSyncer.rejectListen(D,f),a.Au.delete(D),a.Vu.removeTarget(D))}),function(a,l){return s.apply(this,arguments)})(r,e)}catch(s){ht("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield lf(r,s)}else if(e instanceof Nl?r.Vu.Ht(e):e instanceof Td?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(gn.min()))try{const s=yield ym(r.localStore);t.compareTo(s)>=0&&(yield function(a,l){const f=a.Vu.ce(l);return f.targetChanges.forEach((D,O)=>{if(D.resumeToken.approximateByteSize()>0){const V=a.Au.get(O);V&&a.Au.set(O,V.withResumeToken(D.resumeToken,l))}}),f.targetMismatches.forEach((D,O)=>{const V=a.Au.get(D);if(!V)return;a.Au.set(D,V.withResumeToken(hs.EMPTY_BYTE_STRING,V.snapshotVersion)),Tm(a,D);const Z=new Iu(V.target,D,O,V.sequenceNumber);qd(a,Z)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){ht("RemoteStore","Failed to raise snapshot:",s),yield lf(r,s)}var s}),Hp.apply(this,arguments)}function lf(r,e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,_e.Z)(function*(r,e,t){if(!ga(e))throw e;r.vu.add(1),yield zl(r),r.bu.set("Offline"),t||(t=()=>ym(r.localStore)),r.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){ht("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Gd(r)}))}),Gp.apply(this,arguments)}function df(r,e){return e().catch(t=>lf(r,t,e))}function ql(r){return zp.apply(this,arguments)}function zp(){return zp=(0,_e.Z)(function*(r){const e=Pt(r),t=Wu(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;hf(e);)try{const a=yield S_(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,ff(e,a)}catch(a){yield lf(e,a)}Kd(e)&&O_(e)}),zp.apply(this,arguments)}function hf(r){return Sc(r)&&r.Eu.length<10}function ff(r,e){r.Eu.push(e);const t=Wu(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function Kd(r){return Sc(r)&&!Wu(r).Uo()&&r.Eu.length>0}function O_(r){Wu(r).start()}function qp(r){return xm.apply(this,arguments)}function xm(){return xm=(0,_e.Z)(function*(r){Wu(r).hu()}),xm.apply(this,arguments)}function Mm(r){return pf.apply(this,arguments)}function pf(){return pf=(0,_e.Z)(function*(r){const e=Wu(r);for(const t of r.Eu)e.uu(t.mutations)}),pf.apply(this,arguments)}function Rm(r,e,t){return gf.apply(this,arguments)}function gf(){return gf=(0,_e.Z)(function*(r,e,t){const s=r.Eu.shift(),a=vc.from(s,e,t);yield df(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield ql(r)}),gf.apply(this,arguments)}function Wp(r,e){return ou.apply(this,arguments)}function ou(){return ou=(0,_e.Z)(function*(r,e){var t;e&&Wu(r).ou&&(yield(t=(0,_e.Z)(function*(s,a){if(function C(r){switch(r){default:return Jt();case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0}}(l=a.code)&&l!==qe.ABORTED){const f=s.Eu.shift();Wu(s).Qo(),yield df(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield ql(s)}var l}),function(s,a){return t.apply(this,arguments)})(r,e)),Kd(r)&&O_(r)}),ou.apply(this,arguments)}function Zd(r,e){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,_e.Z)(function*(r,e){const t=Pt(r);t.asyncQueue.verifyOperationInProgress(),ht("RemoteStore","RemoteStore received new credentials");const s=Sc(t);t.vu.add(3),yield zl(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Gd(t)}),Wl.apply(this,arguments)}function Kp(){return Kp=(0,_e.Z)(function*(r,e){const t=Pt(r);e?(t.vu.delete(2),yield Gd(t)):e||(t.vu.add(2),yield zl(t),t.bu.set("Unknown"))}),Kp.apply(this,arguments)}function hl(r){return r.Su||(r.Su=function(e,t,s){const a=Pt(e);return a.fu(),new R_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:Du.bind(null,r),ao:N_.bind(null,r),nu:Am.bind(null,r)}),r.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(r.Su.Qo(),$p(r)?Bp(r):r.bu.set("Unknown")):(yield r.Su.stop(),Sm(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Wu(r){return r.Du||(r.Du=function(e,t,s){const a=Pt(e);return a.fu(),new Ta(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:qp.bind(null,r),ao:Wp.bind(null,r),au:Mm.bind(null,r),cu:Rm.bind(null,r)}),r.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(r.Du.Qo(),yield ql(r)):(yield r.Du.stop(),r.Eu.length>0&&(ht("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Zp{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,l){const f=Date.now()+s,D=new Zp(e,t,f,a,l);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pt(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kl(r,e){if(Fr("AsyncQueue",`${e}: ${r}`),ga(r))return new pt(qe.UNAVAILABLE,`${e}: ${r}`);throw r}class bu{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Mt.comparator(t.key,s.key):(t,s)=>Mt.comparator(t.key,s.key),this.keyedMap=wd(),this.sortedSet=new Lr(this.comparator)}static emptySet(e){return new bu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new bu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Pm{constructor(){this.Cu=new Lr(Mt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Jt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Yd{constructor(e,t,s,a,l,f,D,O,V){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=O,this.hasCachedResults=V}static fromInitialDocuments(e,t,s,a,l){const f=[];return t.forEach(D=>{f.push({type:0,doc:D})}),new Yd(e,t,bu.emptySet(t),f,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class F_{constructor(){this.Nu=void 0,this.listeners=[]}}class L_{constructor(){this.queries=new Ro(e=>vd(e),$u),this.onlineState="Unknown",this.ku=new Set}}function Qp(){return Qp=(0,_e.Z)(function*(r,e){const t=Pt(r),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new F_),a)try{l.Nu=yield t.onListen(s)}catch(f){const D=Kl(f,`Initialization of query '${Bc(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&Qd(t)}),Qp.apply(this,arguments)}function Xp(){return Xp=(0,_e.Z)(function*(r,e){const t=Pt(r),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Xp.apply(this,arguments)}function V_(r,e){const t=Pt(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const D of f.listeners)D.$u(a)&&(s=!0);f.Nu=a}}s&&Qd(t)}function km(r,e,t){const s=Pt(r),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function Qd(r){r.ku.forEach(e=>{e.next()})}class eg{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Yd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Fm{constructor(e){this.key=e}}class Lm{constructor(e){this.key=e}}class Vm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ir(),this.mutatedKeys=ir(),this.tc=bh(e),this.ec=new bu(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new Pm,a=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,D=!1;const O="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,V="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Z,ye)=>{const Le=a.get(Z),rt=$c(this.query,ye)?ye:null,St=!!Le&&this.mutatedKeys.has(Le.key),Xt=!!rt&&(rt.hasLocalMutations||this.mutatedKeys.has(rt.key)&&rt.hasCommittedMutations);let on=!1;Le&&rt?Le.data.isEqual(rt.data)?St!==Xt&&(s.track({type:3,doc:rt}),on=!0):this.rc(Le,rt)||(s.track({type:2,doc:rt}),on=!0,(O&&this.tc(rt,O)>0||V&&this.tc(rt,V)<0)&&(D=!0)):!Le&&rt?(s.track({type:0,doc:rt}),on=!0):Le&&!rt&&(s.track({type:1,doc:Le}),on=!0,(O||V)&&(D=!0)),on&&(rt?(f=f.add(rt),l=Xt?l.add(Z):l.delete(Z)):(f=f.delete(Z),l=l.delete(Z)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Z="F"===this.query.limitType?f.last():f.first();f=f.delete(Z.key),l=l.delete(Z.key),s.track({type:1,doc:Z})}return{ec:f,ic:s,zi:D,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((V,Z)=>function(ye,Le){const rt=St=>{switch(St){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}};return rt(ye)-rt(Le)}(V.type,Z.type)||this.tc(V.doc,Z.doc)),this.oc(s);const f=t?this.uc():[],D=0===this.Zu.size&&this.current?1:0,O=D!==this.Xu;return this.Xu=D,0!==l.length||O?{snapshot:new Yd(this.query,e.ec,a,l,e.mutatedKeys,0===D,O,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Pm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ir(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Lm(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new Fm(s))}),t}hc(e){this.Yu=e.ir,this.Zu=ir();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Yd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class B_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Um{constructor(e){this.key=e,this.fc=!1}}class Bm{constructor(e,t,s,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Ro(D=>vd(D),$u),this._c=new Map,this.mc=new Set,this.gc=new Lr(Mt.comparator),this.yc=new Map,this.Ic=new Ap,this.Tc={},this.Ec=new Map,this.Ac=Ec.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function $_(r,e){return $m.apply(this,arguments)}function $m(){return $m=(0,_e.Z)(function*(r,e){const t=function Xl(r){const e=Pt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=No.bind(null,e),e.dc.nu=V_.bind(null,e.eventManager),e.dc.Pc=km.bind(null,e.eventManager),e}(r);let s,a;const l=t.wc.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.lc();else{const f=yield function cl(r,e){const t=Pt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(l=>l?(a=l,Oe.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new Iu(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}(t.localStore,to(e)),D=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function mf(r,e,t,s,a){return jm.apply(this,arguments)}(t,e,s,"current"===D,f.resumeToken),t.isPrimaryClient&&cf(t.remoteStore,f)}return a}),$m.apply(this,arguments)}function jm(){return jm=(0,_e.Z)(function*(r,e,t,s,a){r.Rc=(ye,Le,rt)=>{return(St=(0,_e.Z)(function*(Xt,on,sr,Mr){let yr=on.view.sc(sr);yr.zi&&(yr=yield Ud(Xt.localStore,on.query,!1).then(({documents:qi})=>on.view.sc(qi,yr)));const Rs=Mr&&Mr.targetChanges.get(on.targetId),gs=on.view.applyChanges(yr,Xt.isPrimaryClient,Rs);return Pc(Xt,on.targetId,gs.cc),gs.snapshot}),function(Xt,on,sr,Mr){return St.apply(this,arguments)})(r,ye,Le,rt);var St};const l=yield Ud(r.localStore,e,!0),f=new Vm(e,l.ir),D=f.sc(l.documents),O=iu.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),V=f.applyChanges(D,r.isPrimaryClient,O);Pc(r,t,V.cc);const Z=new B_(e,t,f);return r.wc.set(e,Z),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),V.snapshot}),jm.apply(this,arguments)}function yf(r,e){return ng.apply(this,arguments)}function ng(){return ng=(0,_e.Z)(function*(r,e){const t=Pt(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(l=>!$u(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield $l(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),zd(t.remoteStore,s.targetId),au(t,s.targetId)}).catch(Ss))):(au(t,s.targetId),yield $l(t.localStore,s.targetId,!0))}),ng.apply(this,arguments)}function Jd(){return Jd=(0,_e.Z)(function*(r,e,t){const s=function Af(r){const e=Pt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_f.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rg.bind(null,e),e}(r);try{const a=yield function(l,f){const D=Pt(l),O=di.now(),V=f.reduce((Le,rt)=>Le.add(rt.key),ir());let Z,ye;return D.persistence.runTransaction("Locally write mutations","readwrite",Le=>{let rt=Po(),St=ir();return D.Zi.getEntries(Le,V).next(Xt=>{rt=Xt,rt.forEach((on,sr)=>{sr.isValidDocument()||(St=St.add(on))})}).next(()=>D.localDocuments.getOverlayedDocuments(Le,rt)).next(Xt=>{Z=Xt;const on=[];for(const sr of f){const Mr=np(sr,Z.get(sr.key).overlayedDocument);null!=Mr&&on.push(new nu(sr.key,Mr,Cl(Mr.value.mapValue),zi.exists(!0)))}return D.mutationQueue.addMutationBatch(Le,O,on,f)}).next(Xt=>{ye=Xt;const on=Xt.applyToLocalDocumentSet(Z,St);return D.documentOverlayCache.saveOverlays(Le,Xt.batchId,on)})}).then(()=>({batchId:ye.batchId,changes:jc(Z)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,f,D){let O=l.Tc[l.currentUser.toKey()];O||(O=new Lr(sn)),O=O.insert(f,D),l.Tc[l.currentUser.toKey()]=O}(s,a.batchId,t),yield Cu(s,a.changes),yield ql(s.remoteStore)}catch(a){const l=Kl(a,"Failed to persist write");t.reject(l)}}),Jd.apply(this,arguments)}function Hm(r,e){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,_e.Z)(function*(r,e){const t=Pt(r);try{const s=yield function T_(r,e){const t=Pt(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const D=[];e.targetChanges.forEach((Z,ye)=>{const Le=a.get(ye);if(!Le)return;D.push(t.Bs.removeMatchingKeys(l,Z.removedDocuments,ye).next(()=>t.Bs.addMatchingKeys(l,Z.addedDocuments,ye)));let rt=Le.withSequenceNumber(l.currentSequenceNumber);var St,Xt,on;null!==e.targetMismatches.get(ye)?rt=rt.withResumeToken(hs.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):Z.resumeToken.approximateByteSize()>0&&(rt=rt.withResumeToken(Z.resumeToken,s)),a=a.insert(ye,rt),Xt=rt,on=Z,(0===(St=Le).resumeToken.approximateByteSize()||Xt.snapshotVersion.toMicroseconds()-St.snapshotVersion.toMicroseconds()>=3e8||on.addedDocuments.size+on.modifiedDocuments.size+on.removedDocuments.size>0)&&D.push(t.Bs.updateTargetData(l,rt))});let O=Po(),V=ir();if(e.documentUpdates.forEach(Z=>{e.resolvedLimboDocuments.has(Z)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(l,Z))}),D.push(function _m(r,e,t){let s=ir(),a=ir();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let f=Po();return t.forEach((D,O)=>{const V=l.get(D);O.isFoundDocument()!==V.isFoundDocument()&&(a=a.add(D)),O.isNoDocument()&&O.version.isEqual(gn.min())?(e.removeEntry(D,O.readTime),f=f.insert(D,O)):!V.isValidDocument()||O.version.compareTo(V.version)>0||0===O.version.compareTo(V.version)&&V.hasPendingWrites?(e.addEntry(O),f=f.insert(D,O)):ht("LocalStore","Ignoring outdated watch update for ",D,". Current version:",V.version," Watch version:",O.version)}),{nr:f,sr:a}})}(l,f,e.documentUpdates).next(Z=>{O=Z.nr,V=Z.sr})),!s.isEqual(gn.min())){const Z=t.Bs.getLastRemoteSnapshotVersion(l).next(ye=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,s));D.push(Z)}return Oe.waitFor(D).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,O,V)).next(()=>O)}).then(l=>(t.Ji=a,l))}(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.yc.get(l);f&&(un(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?un(f.fc):a.removedDocuments.size>0&&(un(f.fc),f.fc=!1))}),yield Cu(t,s,e)}catch(s){yield Ss(s)}}),Ha.apply(this,arguments)}function Zl(r,e,t){const s=Pt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((l,f)=>{const D=f.view.Mu(e);D.snapshot&&a.push(D.snapshot)}),function(l,f){const D=Pt(l);D.onlineState=f;let O=!1;D.queries.forEach((V,Z)=>{for(const ye of Z.listeners)ye.Mu(f)&&(O=!0)}),O&&Qd(D)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function No(r,e,t){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,_e.Z)(function*(r,e,t){const s=Pt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),l=a&&a.key;if(l){let f=new Lr(Mt.comparator);f=f.insert(l,ni.newNoDocument(l,gn.min()));const D=ir().add(l),O=new Go(gn.min(),new Map,new Lr(sn),f,D);yield Hm(s,O),s.gc=s.gc.remove(l),s.yc.delete(e),vf(s)}else yield $l(s.localStore,e,!1).then(()=>au(s,e,t)).catch(Ss)}),Ku.apply(this,arguments)}function _f(r,e){return aa.apply(this,arguments)}function aa(){return aa=(0,_e.Z)(function*(r,e){const t=Pt(r),s=e.batch.batchId;try{const a=yield function C_(r,e){const t=Pt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,D,O,V){const Z=O.batch,ye=Z.keys();let Le=Oe.resolve();return ye.forEach(rt=>{Le=Le.next(()=>V.getEntry(D,rt)).next(St=>{const Xt=O.docVersions.get(rt);un(null!==Xt),St.version.compareTo(Xt)<0&&(Z.applyToRemoteDocument(St,O),St.isValidDocument()&&(St.setReadTime(O.commitVersion),V.addEntry(St)))})}),Le.next(()=>f.mutationQueue.removeMutationBatch(D,Z))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let D=ir();for(let O=0;O<f.mutationResults.length;++O)f.mutationResults[O].transformResults.length>0&&(D=D.add(f.batch.mutations[O].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Rc(t,s,null),Mc(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Cu(t,a)}catch(a){yield Ss(a)}}),aa.apply(this,arguments)}function rg(r,e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,_e.Z)(function*(r,e,t){const s=Pt(r);try{const a=yield function(l,f){const D=Pt(l);return D.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let V;return D.mutationQueue.lookupMutationBatch(O,f).next(Z=>(un(null!==Z),V=Z.keys(),D.mutationQueue.removeMutationBatch(O,Z))).next(()=>D.mutationQueue.performConsistencyCheck(O)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(O,V,f)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,V)).next(()=>D.localDocuments.getDocuments(O,V))})}(s.localStore,e);Rc(s,e,t),Mc(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Cu(s,a)}catch(a){yield Ss(a)}}),Ac.apply(this,arguments)}function Mc(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Rc(r,e,t){const s=Pt(r);let a=s.Tc[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function au(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||fl(r,s)})}function fl(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(zd(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),vf(r))}function Pc(r,e,t){for(const s of t)s instanceof Fm?(r.Ic.addReference(s.key,e),Ql(r,s)):s instanceof Lm?(ht("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||fl(r,s.key)):Jt()}function Ql(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(ht("SyncEngine","New document in limbo: "+t),r.mc.add(s),vf(r))}function vf(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new Mt(pr.fromString(e)),s=r.Ac.next();r.yc.set(s,new Um(t)),r.gc=r.gc.insert(t,s),cf(r.remoteStore,new Iu(to(fc(t.path)),s,"TargetPurposeLimboResolution",ti.ct))}}function Cu(r,e,t){return wf.apply(this,arguments)}function wf(){return wf=(0,_e.Z)(function*(r,e,t){const s=Pt(r),a=[],l=[],f=[];var D;s.wc.isEmpty()||(s.wc.forEach((D,O)=>{f.push(s.Rc(O,e,t).then(V=>{if((V||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(O.targetId,V?.fromCache?"not-current":"current"),V){a.push(V);const Z=Cc.Li(O.targetId,V);l.push(Z)}}))}),yield Promise.all(f),s.dc.nu(a),yield(D=(0,_e.Z)(function*(O,V){const Z=Pt(O);try{yield Z.persistence.runTransaction("notifyLocalViewChanges","readwrite",ye=>Oe.forEach(V,Le=>Oe.forEach(Le.Fi,rt=>Z.persistence.referenceDelegate.addReference(ye,Le.targetId,rt)).next(()=>Oe.forEach(Le.Bi,rt=>Z.persistence.referenceDelegate.removeReference(ye,Le.targetId,rt)))))}catch(ye){if(!ga(ye))throw ye;ht("LocalStore","Failed to update sequence numbers: "+ye)}for(const ye of V){const Le=ye.targetId;if(!ye.fromCache){const rt=Z.Ji.get(Le),Xt=rt.withLastLimboFreeSnapshotVersion(rt.snapshotVersion);Z.Ji=Z.Ji.insert(Le,Xt)}}}),function(O,V){return D.apply(this,arguments)})(s.localStore,l))}),wf.apply(this,arguments)}function Gm(r,e){return If.apply(this,arguments)}function If(){return If=(0,_e.Z)(function*(r,e){const t=Pt(r);if(!t.currentUser.isEqual(e)){ht("SyncEngine","User change. New user:",e.toKey());const s=yield mm(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(D=>{D.reject(new pt(qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Cu(t,s.er)}var a}),If.apply(this,arguments)}function zm(r,e){const t=Pt(r),s=t.yc.get(e);if(s&&s.fc)return ir().add(s.key);{let a=ir();const l=t._c.get(e);if(!l)return a;for(const f of l){const D=t.wc.get(f);a=a.unionWith(D.view.nc)}return a}}class ed{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.serializer=Gl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Vd(r,e,t,s){return new gm(r,e,t,s)}(this.persistence,new pm,e.initialUser,this.serializer)}createPersistence(e){return new xp(Ul.zs,this.serializer)}createSharedClientState(e){return new jd}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pl{initialize(e,t){var s=this;return(0,_e.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Zl(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Gm.bind(null,s.syncEngine),yield function dl(r,e){return Kp.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new L_}createDatastore(e){const t=Gl(e.databaseInfo.databaseId),s=new M_(e.databaseInfo);return new P_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=D=>Zl(this.syncEngine,D,0),f=rf.D()?new rf:new Im,new Cm(t,s,a,l,f);var t,s,a,l,f}createSyncEngine(e,t){return function(s,a,l,f,D,O,V){const Z=new Bm(s,a,l,f,D,O);return V&&(Z.vc=!0),Z}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const s=Pt(t);ht("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield zl(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class th{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class q_{constructor(e,t,s,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=An.UNAUTHENTICATED,this.clientId=Ma.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,_e.Z)(function*(D){ht("FirestoreClient","Received user=",D.uid),yield l.authCredentialListener(D),l.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(ht("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Kl(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Mf(r,e){return og.apply(this,arguments)}function og(){return og=(0,_e.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),ht("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,_e.Z)(function*(l){s.isEqual(l)||(yield mm(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),og.apply(this,arguments)}function nh(r,e){return td.apply(this,arguments)}function td(){return td=(0,_e.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Rf(r){return Pf.apply(this,arguments)}(r);ht("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>Zd(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>Zd(e.remoteStore,l)),r._onlineComponents=e}),td.apply(this,arguments)}function Pf(){return Pf=(0,_e.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function ag(r){return"FirebaseError"===r.name?r.code===qe.FAILED_PRECONDITION||r.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;Hi("Error using user provided cache. Falling back to memory cache: "+t),yield Mf(r,new ed)}}else ht("FirestoreClient","Using default OfflineComponentProvider"),yield Mf(r,new ed);return r._offlineComponents}),Pf.apply(this,arguments)}function rh(r){return kf.apply(this,arguments)}function kf(){return kf=(0,_e.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht("FirestoreClient","Using user provided OnlineComponentProvider"),yield nh(r,r._uninitializedComponentsProvider._online)):(ht("FirestoreClient","Using default OnlineComponentProvider"),yield nh(r,new pl))),r._onlineComponents}),kf.apply(this,arguments)}function rd(r){return lg.apply(this,arguments)}function lg(){return lg=(0,_e.Z)(function*(r){const e=yield rh(r),t=e.eventManager;return t.onListen=$_.bind(null,e.syncEngine),t.onUnlisten=yf.bind(null,e.syncEngine),t}),lg.apply(this,arguments)}function ry(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const js=new Map;function Nf(r,e,t){if(!t)throw new pt(qe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function iy(r){if(!Mt.isDocumentKey(r))throw new pt(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pg(r){if(Mt.isDocumentKey(r))throw new pt(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Of(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Jt()}function xr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pt(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Of(r);throw new pt(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class ml{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new pt(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new pt(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Y_(r,e,t,s){if(!0===e&&!0===s)throw new pt(qe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ry(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new pt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ml({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pt(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new pt(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ml(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new tc;switch(t.type){case"firstParty":return new Wa(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new pt(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=js.get(e);t&&(ht("ComponentProvider","Removing Datastore"),js.delete(e),t.terminate())}(this),Promise.resolve()}}class ps{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ps(this.firestore,e,this._key)}}class Co{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class uu extends Co{constructor(e,t,s){super(e,t,fc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ps(this.firestore,null,new Mt(e))}withConverter(e){return new uu(this.firestore,e,this._path)}}function b0(r,e,...t){if(r=(0,ge.m9)(r),Nf("collection","path",e),r instanceof sh){const s=pr.fromString(e,...t);return pg(s),new uu(r,null,s)}{if(!(r instanceof ps||r instanceof uu))throw new pt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pr.fromString(e,...t));return pg(s),new uu(r.firestore,null,s)}}function Ff(r,e,...t){if(r=(0,ge.m9)(r),1===arguments.length&&(e=Ma.A()),Nf("doc","path",e),r instanceof sh){const s=pr.fromString(e,...t);return iy(s),new ps(r,null,new Mt(s))}{if(!(r instanceof ps||r instanceof uu))throw new pt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pr.fromString(e,...t));return iy(s),new ps(r.firestore,r instanceof uu?r.converter:null,new Mt(s))}}class X_{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new af(this,"async_queue_retry"),this.Xc=()=>{const t=sf();t&&ht("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=sf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=sf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new _i;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ga(t))throw t;ht("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Zp.createAndSchedule(this,e,t,s,l=>this.na(l));return this.zc.push(a),a}Zc(){this.Wc&&Jt()}verifyOperationInProgress(){}sa(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Ga(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Vi extends sh{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new X_,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oy(this),this._firestoreClient.terminate()}}function tv(r,e){const t="object"==typeof r?r:(0,ut.Mq)(),s="string"==typeof r?r:e||"(default)",a=(0,ut.qX)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=(0,ge.P0)("firestore");l&&function Q_(r,e,t,s={}){var a;const l=(r=xr(r,sh))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Hi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),s.mockUserToken){let D,O;if("string"==typeof s.mockUserToken)D=s.mockUserToken,O=An.MOCK_USER;else{D=(0,ge.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new pt(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new An(V)}r._authCredentials=new pa(new fa(D,O))}}(a,...l)}return a}function Hs(r){return r._firestoreClient||oy(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function oy(r){var e,t,s;const a=r._freezeSettings(),l=(D=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new El(r._databaseId,D,r._persistenceKey,(V=a).host,V.ssl,V.experimentalForceLongPolling,V.experimentalAutoDetectLongPolling,ry(V.experimentalLongPollingOptions),V.useFetchStreams));var D,V;r._firestoreClient=new q_(r._authCredentials,r._appCheckCredentials,r._queue,l),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qu(hs.fromBase64String(e))}catch(t){throw new pt(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qu(hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ju{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new pt(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lf{constructor(e){this._methodName=e}}class Vf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pt(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pt(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}const dy=/^__.*__$/;class hy{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new nu(e,this.data,this.fieldMask,t,this.fieldTransforms):new _c(e,this.data,t,this.fieldTransforms)}}class yg{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new nu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _g(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}class oh{constructor(e,t,s,a,l,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new oh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return lh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_g(this.ca)&&dy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class sv{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Gl(e)}ya(e,t,s,a=!1){return new oh({ca:e,methodName:t,ga:s,path:hi.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function od(r){const e=r._freezeSettings(),t=Gl(r._databaseId);return new sv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function vg(r,e,t,s,a,l={}){const f=r.ya(l.merge||l.mergeFields?2:0,e,t,a);Ig("Data must be an object, but it was:",f,s);const D=yy(s,f);let O,V;if(l.merge)O=new $s(f.fieldMask),V=f.fieldTransforms;else if(l.mergeFields){const Z=[];for(const ye of l.mergeFields){const Le=uh(e,ye,t);if(!f.contains(Le))throw new pt(qe.INVALID_ARGUMENT,`Field '${Le}' is specified in your field mask but missing from your input data.`);Eg(Z,Le)||Z.push(Le)}O=new $s(Z),V=f.fieldTransforms.filter(ye=>O.covers(ye.field))}else O=null,V=f.fieldTransforms;return new hy(new Ei(D),O,V)}class ah extends Lf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ah}}function yl(r,e){if(_y(r=(0,ge.m9)(r)))return Ig("Unsupported field value:",e,r),yy(r,e);if(r instanceof Lf)return function(t,s){if(!_g(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const f of t){let D=yl(f,s.wa(l));null==D&&(D={nullValue:"NULL_VALUE"}),a.push(D),l++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,ge.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Dd(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=di.fromDate(t);return{timestampValue:Qc(s.serializer,a)}}if(t instanceof di){const a=new di(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Qc(s.serializer,a)}}if(t instanceof Vf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qu)return{bytesValue:xd(s.serializer,t._byteString)};if(t instanceof ps){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ap(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Of(t)}`)}(r,e)}function yy(r,e){const t={};return Oa(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(r,(s,a)=>{const l=yl(a,e.ha(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function _y(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof di||r instanceof Vf||r instanceof Qu||r instanceof ps||r instanceof Lf)}function Ig(r,e,t){if(!_y(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Of(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function uh(r,e,t){if((e=(0,ge.m9)(e))instanceof Ju)return e._internalPath;if("string"==typeof e)return ch(r,e);throw lh("Field path arguments must be of type string or ",r,!1,void 0,t)}const cv=new RegExp("[~\\*/\\[\\]]");function ch(r,e,t){if(e.search(cv)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ju(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function lh(r,e,t,s,a){const l=s&&!s.isEmpty(),f=void 0!==a;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let O="";return(l||f)&&(O+=" (found",l&&(O+=` in field ${s}`),f&&(O+=` in document ${a}`),O+=")"),new pt(qe.INVALID_ARGUMENT,D+r+O)}function Eg(r,e){return r.some(t=>t.isEqual(e))}class Uf{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ps(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vy extends Uf{data(){return super.data()}}function dh(r,e){return"string"==typeof e?ch(r,e):e instanceof Ju?e._internalPath:e._delegate._internalPath}class Bf{}class wy extends Bf{}function Iy(r,e,...t){let s=[];e instanceof Bf&&s.push(e),s=s.concat(t),function(a){const l=a.filter(D=>D instanceof ud).length,f=a.filter(D=>D instanceof ad).length;if(l>1||l>0&&f>0)throw new pt(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class ad extends wy{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new ad(e,t,s)}_apply(e){const t=this._parse(e);return os(e._query,t),new Co(e.firestore,e.converter,_d(e._query,t))}_parse(e){const t=od(e.firestore);return function(a,l,f,D,O,V,Z){let ye;if(O.isKeyField()){if("array-contains"===V||"array-contains-any"===V)throw new pt(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${V}' queries on documentId().`);if("in"===V||"not-in"===V){gh(Z,V);const Le=[];for(const rt of Z)Le.push(ph(D,a,rt));ye={arrayValue:{values:Le}}}else ye=ph(D,a,Z)}else"in"!==V&&"not-in"!==V&&"array-contains-any"!==V||gh(Z,V),ye=function my(r,e,t,s=!1){return yl(t,r.ya(s?4:3,e))}(f,"where",Z,"in"===V||"not-in"===V);return F.create(O,V,ye)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function _l(r,e,t){const s=e,a=dh("where",r);return ad._create(a,s,t)}class ud extends Bf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ud(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:J.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let l=s;const f=a.getFlattenedFilters();for(const D of f)os(l,D),l=_d(l,D)}(e._query,t),new Co(e.firestore,e.converter,_d(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function ph(r,e,t){if("string"==typeof(t=(0,ge.m9)(t))){if(""===t)throw new pt(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ml(e)&&-1!==t.indexOf("/"))throw new pt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(pr.fromString(t));if(!Mt.isDocumentKey(s))throw new pt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Va(r,new Mt(s))}if(t instanceof ps)return Va(r,t._key);throw new pt(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Of(t)}.`)}function gh(r,e){if(!Array.isArray(r)||0===r.length)throw new pt(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function os(r,e){if(e.isInequality()){const s=Bu(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new pt(qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const l=xl(r);null!==l&&function hv(r,e,t){if(!t.isEqual(e))throw new pt(qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,a,l)}const t=function(s,a){for(const l of s)for(const f of l.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new pt(qe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Cy{convertValue(e,t="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Li(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Na(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new Vf(Li(e.latitude),Li(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Fc(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Qa(e));default:return null}}convertTimestamp(e){const t=uo(e);return new di(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=pr.fromString(e);un(pp(s));const a=new Ia(s.get(1),s.get(3)),l=new Mt(s.popFirst(5));return a.isEqual(t)||Fr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class vl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Su extends Uf{constructor(e,t,s,a,l,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(dh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class jf extends Su{data(e={}){return super.data(e)}}class cd{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new vl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new jf(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pt(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new jf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new vl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const D=new jf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new vl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let O=-1,V=-1;return 0!==f.type&&(O=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),V=l.indexOf(f.doc.key)),{type:mv(f.type),doc:D,oldIndex:O,newIndex:V}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mv(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}class Xu extends Cy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ps(this.firestore,null,t)}}function vv(r,e,t,...s){r=xr(r,ps);const a=xr(r.firestore,Vi),l=od(a);let f;return f="string"==typeof(e=(0,ge.m9)(e))||e instanceof Ju?function gy(r,e,t,s,a,l){const f=r.ya(1,e,t),D=[uh(e,s,t)],O=[a];if(l.length%2!=0)throw new pt(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Le=0;Le<l.length;Le+=2)D.push(uh(e,l[Le])),O.push(l[Le+1]);const V=[],Z=Ei.empty();for(let Le=D.length-1;Le>=0;--Le)if(!Eg(V,D[Le])){const rt=D[Le];let St=O[Le];St=(0,ge.m9)(St);const Xt=f.da(rt);if(St instanceof ah)V.push(rt);else{const on=yl(St,Xt);null!=on&&(V.push(rt),Z.set(rt,on))}}const ye=new $s(V);return new yg(Z,ye,f.fieldTransforms)}(l,"updateDoc",r._key,e,t,s):function py(r,e,t,s){const a=r.ya(1,e,t);Ig("Data must be an object, but it was:",a,s);const l=[],f=Ei.empty();Na(s,(O,V)=>{const Z=ch(e,O,t);V=(0,ge.m9)(V);const ye=a.da(Z);if(V instanceof ah)l.push(Z);else{const Le=yl(V,ye);null!=Le&&(l.push(Z),f.set(Z,Le))}});const D=new $s(l);return new yg(f,D,a.fieldTransforms)}(l,"updateDoc",r._key,e),ld(a,[f.toMutation(r._key,zi.exists(!0))])}function Sy(r){return ld(xr(r.firestore,Vi),[new Kc(r._key,zi.none())])}function Ay(r,e){const t=xr(r.firestore,Vi),s=Ff(r),a=function Sg(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}(r.converter,e);return ld(t,[vg(od(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,zi.exists(!1))]).then(()=>s)}function ld(r,e){return function(t,s){const a=new _i;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function j_(r,e,t){return Jd.apply(this,arguments)}(yield function nd(r){return rh(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(Hs(r),e)}!function(r,e=!0){Sr=ut.Jn,(0,ut.Xd)(new Ge.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const l=t.getProvider("app").getImmediate(),f=new Vi(new Eh(t.getProvider("auth-internal")),new ao(t.getProvider("app-check-internal")),function(D,O){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new pt(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(D.options.projectId,O)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,ut.KN)(jr,"3.13.0",r),(0,ut.KN)(jr,"3.13.0","esm2017")}();var Tv=Y(9751),yh=Y(4004),Sv={includeMetadataChanges:!1};function Wf(r,e){return void 0===e&&(e=Sv),new Tv.y(function(t){var s=function xy(r,...e){var t,s,a;r=(0,ge.m9)(r);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Ga(e[f])||(l=e[f],f++);const D={includeMetadataChanges:l.includeMetadataChanges};if(Ga(e[f])){const ye=e[f];e[f]=null===(t=ye.next)||void 0===t?void 0:t.bind(ye),e[f+1]=null===(s=ye.error)||void 0===s?void 0:s.bind(ye),e[f+2]=null===(a=ye.complete)||void 0===a?void 0:a.bind(ye)}let O,V,Z;if(r instanceof ps)V=xr(r.firestore,Vi),Z=fc(r._key.path),O={next:ye=>{e[f]&&e[f](function xg(r,e,t){const s=t.docs.get(e._key),a=new Xu(r);return new Su(r,a,e._key,s,new vl(t.hasPendingWrites,t.fromCache),e.converter)}(V,r,ye))},error:e[f+1],complete:e[f+2]};else{const ye=xr(r,Co);V=xr(ye.firestore,Vi),Z=ye._query;const Le=new Xu(V);O={next:rt=>{e[f]&&e[f](new cd(V,Le,ye,rt))},error:e[f+1],complete:e[f+2]},function Dg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new pt(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query)}return function(ye,Le,rt,St){const Xt=new th(St),on=new eg(Le,Xt,rt);return ye.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function Yp(r,e){return Qp.apply(this,arguments)}(yield rd(ye),on)})),()=>{Xt.Dc(),ye.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function Jp(r,e){return Xp.apply(this,arguments)}(yield rd(ye),on)}))}}(Hs(V),Z,D,O)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function Av(r,e){return void 0===e&&(e={}),function Py(r){return Wf(r,{includeMetadataChanges:!0})}(r).pipe((0,yh.U)(function(t){return ky(t,e)}))}function ky(r,e){void 0===e&&(e={});var t=r.data();return!r.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=r.id),t}function Vy(r,e){return void 0===e&&(e={}),function Rv(r){return Wf(r,{includeMetadataChanges:!0}).pipe((0,yh.U)(function(e){return e.docs}))}(r).pipe((0,yh.U)(function(t){return t.map(function(s){return ky(s,e)})}))}class _h{constructor(e){return e}}const Uy="firestore",Og=new g.OlP("angularfire2.firestore-instances");function Ov(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new _h(s)}}const Fg={provide:class Pv{constructor(){return(0,w.vb)(Uy)}},deps:[[new g.FiY,Og]]},Lg={provide:_h,useFactory:function Nv(r,e){const t=(0,w.JM)(Uy,r,e);return t&&new _h(t)},deps:[[new g.FiY,Og],ne.Ot]};let By=(()=>{class r{constructor(){(0,xe.KN)("angularfire",w.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({providers:[Lg,Fg]}),r})();function Vg(r,...e){return{ngModule:By,providers:[{provide:Og,useFactory:Ov(r),multi:!0,deps:[g.R0b,g.zs3,w.HU,ne.z6,[new g.FiY,we.dh],[new g.FiY,le.nm],...e]}]}}const jy=(0,w.u3)(Vy,!0),Hy=(0,w.u3)(Av,!0),Gy=(0,w.u3)(Ay,!0),Fv=(0,w.u3)(b0,!0),Ky=(0,w.u3)(Sy,!0),Zy=(0,w.u3)(Ff,!0),Yy=(0,w.u3)(tv,!0),wh=(0,w.u3)(Iy,!0),Qy=(0,w.u3)(vv,!0),Qv=(0,w.u3)(_l,!0)},8032:(_n,lt,Y)=>{Y.d(lt,{Ke:()=>Es,Jt:()=>xi,cF:()=>Fs,Vq:()=>Os,iH:()=>Bi,B0:()=>bs});var w=Y(3530),g=Y(8256),we=Y(3692),ne=Y(2309),xe=Y(259),le=Y(2313),_e=Y(5861),ut=Y(6881),Ge=Y(2090),fe=Y(4859);const ge="firebasestorage.googleapis.com",Ke="storageBucket";class ke extends Ge.ZR{constructor($,ae,he=0){super(Tt($),`Firebase Storage: ${ae} (${Tt($)})`),this.status_=he,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ke.prototype)}get status(){return this.status_}set status($){this.status_=$}_codeEquals($){return Tt($)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse($){this.customData.serverResponse=$,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var It=(()=>{return(j=It||(It={})).UNKNOWN="unknown",j.OBJECT_NOT_FOUND="object-not-found",j.BUCKET_NOT_FOUND="bucket-not-found",j.PROJECT_NOT_FOUND="project-not-found",j.QUOTA_EXCEEDED="quota-exceeded",j.UNAUTHENTICATED="unauthenticated",j.UNAUTHORIZED="unauthorized",j.UNAUTHORIZED_APP="unauthorized-app",j.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",j.INVALID_CHECKSUM="invalid-checksum",j.CANCELED="canceled",j.INVALID_EVENT_NAME="invalid-event-name",j.INVALID_URL="invalid-url",j.INVALID_DEFAULT_BUCKET="invalid-default-bucket",j.NO_DEFAULT_BUCKET="no-default-bucket",j.CANNOT_SLICE_BLOB="cannot-slice-blob",j.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",j.NO_DOWNLOAD_URL="no-download-url",j.INVALID_ARGUMENT="invalid-argument",j.INVALID_ARGUMENT_COUNT="invalid-argument-count",j.APP_DELETED="app-deleted",j.INVALID_ROOT_OPERATION="invalid-root-operation",j.INVALID_FORMAT="invalid-format",j.INTERNAL_ERROR="internal-error",j.UNSUPPORTED_ENVIRONMENT="unsupported-environment",It;var j})();function Tt(j){return"storage/"+j}function vn(){return new ke(It.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ze(){return new ke(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gt(){return new ke(It.CANCELED,"User canceled the upload/download.")}function wn(){return new ke(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qn(j){return new ke(It.INVALID_ARGUMENT,j)}function tn(){return new ke(It.APP_DELETED,"The Firebase app was deleted.")}function Me(j,$){return new ke(It.INVALID_FORMAT,"String does not match format '"+j+"': "+$)}function je(j){throw new ke(It.INTERNAL_ERROR,"Internal error: "+j)}class $e{constructor($,ae){this.bucket=$,this.path_=ae}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const $=encodeURIComponent;return"/b/"+$(this.bucket)+"/o/"+$(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec($,ae){let he;try{he=$e.makeFromUrl($,ae)}catch{return new $e($,"")}if(""===he.path)return he;throw function Ht(j){return new ke(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+j+"'.")}($)}static makeFromUrl($,ae){let he=null;const Ae="([A-Za-z0-9.\\-_]+)",P=new RegExp("^gs://"+Ae+"(/(.*))?$","i");function x(Ar){Ar.path_=decodeURIComponent(Ar.path)}const Re=ae.replace(/[.]/g,"\\."),Kn=[{regex:P,indices:{bucket:1,path:3},postModify:function Xe(Ar){"/"===Ar.path.charAt(Ar.path.length-1)&&(Ar.path_=Ar.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Re}/v[A-Za-z0-9_]+/b/${Ae}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${ae===ge?"(?:storage.googleapis.com|storage.cloud.google.com)":ae}/${Ae}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let Ar=0;Ar<Kn.length;Ar++){const Mi=Kn[Ar],fr=Mi.regex.exec($);if(fr){let Cs=fr[Mi.indices.path];Cs||(Cs=""),he=new $e(fr[Mi.indices.bucket],Cs),Mi.postModify(he);break}}if(null==he)throw function dt(j){return new ke(It.INVALID_URL,"Invalid URL '"+j+"'.")}($);return he}}class mt{constructor($){this.promise_=Promise.reject($)}getPromise(){return this.promise_}cancel($=!1){}}function ln(j){return"string"==typeof j||j instanceof String}function Yt(j){return Vn()&&j instanceof Blob}function Vn(){return typeof Blob<"u"&&!(0,Ge.UG)()}function zn(j,$,ae,he){if(he<$)throw qn(`Invalid value for '${j}'. Expected ${$} or greater.`);if(he>ae)throw qn(`Invalid value for '${j}'. Expected ${ae} or less.`)}function Hn(j,$,ae){let he=$;return null==ae&&(he=`https://${$}`),`${ae}://${he}/v0${j}`}function Mn(j){const $=encodeURIComponent;let ae="?";for(const he in j)j.hasOwnProperty(he)&&(ae=ae+($(he)+"=")+$(j[he])+"&");return ae=ae.slice(0,-1),ae}var nr=(()=>{return(j=nr||(nr={}))[j.NO_ERROR=0]="NO_ERROR",j[j.NETWORK_ERROR=1]="NETWORK_ERROR",j[j.ABORT=2]="ABORT",nr;var j})();function or(j,$){const ae=j>=500&&j<600,Ae=-1!==[408,429].indexOf(j),Xe=-1!==$.indexOf(j);return ae||Ae||Xe}class qt{constructor($,ae,he,Ae,Xe,Qe,P,M,x,q,Re,Dt=!0){this.url_=$,this.method_=ae,this.headers_=he,this.body_=Ae,this.successCodes_=Xe,this.additionalRetryCodes_=Qe,this.callback_=P,this.errorCallback_=M,this.timeout_=x,this.progressCallback_=q,this.connectionFactory_=Re,this.retry=Dt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((En,Qn)=>{this.resolve_=En,this.reject_=Qn,this.start_()})}start_(){const ae=(he,Ae)=>{const Xe=this.resolve_,Qe=this.reject_,P=Ae.connection;if(Ae.wasSuccessCode)try{const M=this.callback_(P,P.getResponse());!function an(j){return void 0!==j}(M)?Xe():Xe(M)}catch(M){Qe(M)}else if(null!==P){const M=vn();M.serverResponse=P.getErrorText(),Qe(this.errorCallback_?this.errorCallback_(P,M):M)}else Qe(Ae.canceled?this.appDelete_?tn():gt():Ze())};this.canceled_?ae(0,new Jn(!1,null,!0)):this.backoffId_=function vt(j,$,ae){let he=1,Ae=null,Xe=null,Qe=!1,P=0;function M(){return 2===P}let x=!1;function q(...Qt){x||(x=!0,$.apply(null,Qt))}function Re(Qt){Ae=setTimeout(()=>{Ae=null,j(En,M())},Qt)}function Dt(){Xe&&clearTimeout(Xe)}function En(Qt,...Qi){if(x)return void Dt();if(Qt)return Dt(),void q.call(null,Qt,...Qi);if(M()||Qe)return Dt(),void q.call(null,Qt,...Qi);let Kn;he<64&&(he*=2),1===P?(P=2,Kn=0):Kn=1e3*(he+Math.random()),Re(Kn)}let Qn=!1;function Je(Qt){Qn||(Qn=!0,Dt(),!x&&(null!==Ae?(Qt||(P=2),clearTimeout(Ae),Re(0)):Qt||(P=1)))}return Re(0),Xe=setTimeout(()=>{Qe=!0,Je(!0)},ae),Je}((he,Ae)=>{if(Ae)return void he(!1,new Jn(!1,null,!0));const Xe=this.connectionFactory_();this.pendingConnection_=Xe;const Qe=P=>{null!==this.progressCallback_&&this.progressCallback_(P.loaded,P.lengthComputable?P.total:-1)};null!==this.progressCallback_&&Xe.addUploadProgressListener(Qe),Xe.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Xe.removeUploadProgressListener(Qe),this.pendingConnection_=null;const P=Xe.getErrorCode()===nr.NO_ERROR,M=Xe.getStatus();if(!P||or(M,this.additionalRetryCodes_)&&this.retry){const q=Xe.getErrorCode()===nr.ABORT;return void he(!1,new Jn(!1,null,q))}const x=-1!==this.successCodes_.indexOf(M);he(!0,new Jn(x,Xe))})},ae,this.timeout_)}getPromise(){return this.promise_}cancel($){this.canceled_=!0,this.appDelete_=$||!1,null!==this.backoffId_&&function Ot(j){j(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jn{constructor($,ae,he){this.wasSuccessCode=$,this.connection=ae,this.canceled=!!he}}function Cn(...j){const $=function Zr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==$){const ae=new $;for(let he=0;he<j.length;he++)ae.append(j[he]);return ae.getBlob()}if(Vn())return new Blob(j);throw new ke(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const In={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tn{constructor($,ae){this.data=$,this.contentType=ae||null}}function Gr(j){const $=[];for(let ae=0;ae<j.length;ae++){let he=j.charCodeAt(ae);he<=127?$.push(he):he<=2047?$.push(192|he>>6,128|63&he):55296==(64512&he)?ae<j.length-1&&56320==(64512&j.charCodeAt(ae+1))?(he=65536|(1023&he)<<10|1023&j.charCodeAt(++ae),$.push(240|he>>18,128|he>>12&63,128|he>>6&63,128|63&he)):$.push(239,191,189):56320==(64512&he)?$.push(239,191,189):$.push(224|he>>12,128|he>>6&63,128|63&he)}return new Uint8Array($)}function zr(j,$){switch(j){case In.BASE64:{const Ae=-1!==$.indexOf("-"),Xe=-1!==$.indexOf("_");if(Ae||Xe)throw Me(j,"Invalid character '"+(Ae?"-":"_")+"' found: is it base64url encoded?");break}case In.BASE64URL:{const Ae=-1!==$.indexOf("+"),Xe=-1!==$.indexOf("/");if(Ae||Xe)throw Me(j,"Invalid character '"+(Ae?"+":"/")+"' found: is it base64 encoded?");$=$.replace(/-/g,"+").replace(/_/g,"/");break}}let ae;try{ae=function Zt(j){if(typeof atob>"u")throw function Vt(j){return new ke(It.UNSUPPORTED_ENVIRONMENT,`${j} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(j)}($)}catch(Ae){throw Ae.message.includes("polyfill")?Ae:Me(j,"Invalid character found")}const he=new Uint8Array(ae.length);for(let Ae=0;Ae<ae.length;Ae++)he[Ae]=ae.charCodeAt(Ae);return he}class Yn{constructor($){this.base64=!1,this.contentType=null;const ae=$.match(/^data:([^,]+)?,/);if(null===ae)throw Me(In.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const he=ae[1]||null;null!=he&&(this.base64=function Yr(j,$){return j.length>=$.length&&j.substring(j.length-$.length)===$}(he,";base64"),this.contentType=this.base64?he.substring(0,he.length-7):he),this.rest=$.substring($.indexOf(",")+1)}}class cr{constructor($,ae){let he=0,Ae="";Yt($)?(this.data_=$,he=$.size,Ae=$.type):$ instanceof ArrayBuffer?(ae?this.data_=new Uint8Array($):(this.data_=new Uint8Array($.byteLength),this.data_.set(new Uint8Array($))),he=this.data_.length):$ instanceof Uint8Array&&(ae?this.data_=$:(this.data_=new Uint8Array($.length),this.data_.set($)),he=$.length),this.size_=he,this.type_=Ae}size(){return this.size_}type(){return this.type_}slice($,ae){if(Yt(this.data_)){const Ae=function st(j,$,ae){return j.webkitSlice?j.webkitSlice($,ae):j.mozSlice?j.mozSlice($,ae):j.slice?j.slice($,ae):null}(this.data_,$,ae);return null===Ae?null:new cr(Ae)}{const he=new Uint8Array(this.data_.buffer,$,ae-$);return new cr(he,!0)}}static getBlob(...$){if(Vn()){const ae=$.map(he=>he instanceof cr?he.data_:he);return new cr(Cn.apply(null,ae))}{const ae=$.map(Qe=>ln(Qe)?function Gn(j,$){switch(j){case In.RAW:return new Tn(Gr($));case In.BASE64:case In.BASE64URL:return new Tn(zr(j,$));case In.DATA_URL:return new Tn(function pi(j){const $=new Yn(j);return $.base64?zr(In.BASE64,$.rest):function Sn(j){let $;try{$=decodeURIComponent(j)}catch{throw Me(In.DATA_URL,"Malformed data URL.")}return Gr($)}($.rest)}($),function Nn(j){return new Yn(j).contentType}($))}throw vn()}(In.RAW,Qe).data:Qe.data_);let he=0;ae.forEach(Qe=>{he+=Qe.byteLength});const Ae=new Uint8Array(he);let Xe=0;return ae.forEach(Qe=>{for(let P=0;P<Qe.length;P++)Ae[Xe++]=Qe[P]}),new cr(Ae,!0)}}uploadData(){return this.data_}}function ii(j){let $;try{$=JSON.parse(j)}catch{return null}return function xt(j){return"object"==typeof j&&!Array.isArray(j)}($)?$:null}function Vr(j){const $=j.lastIndexOf("/",j.length-2);return-1===$?j:j.slice($+1)}function Bn(j,$){return $}class zt{constructor($,ae,he,Ae){this.server=$,this.local=ae||$,this.writable=!!he,this.xform=Ae||Bn}}let rr=null;function L(){if(rr)return rr;const j=[];j.push(new zt("bucket")),j.push(new zt("generation")),j.push(new zt("metageneration")),j.push(new zt("name","fullPath",!0));const ae=new zt("name");ae.xform=function $(Xe,Qe){return function ce(j){return!ln(j)||j.length<2?j:Vr(j)}(Qe)},j.push(ae);const Ae=new zt("size");return Ae.xform=function he(Xe,Qe){return void 0!==Qe?Number(Qe):Qe},j.push(Ae),j.push(new zt("timeCreated")),j.push(new zt("updated")),j.push(new zt("md5Hash",null,!0)),j.push(new zt("cacheControl",null,!0)),j.push(new zt("contentDisposition",null,!0)),j.push(new zt("contentEncoding",null,!0)),j.push(new zt("contentLanguage",null,!0)),j.push(new zt("contentType",null,!0)),j.push(new zt("metadata","customMetadata",!0)),rr=j,rr}function ee(j,$,ae){const he=ii($);return null===he?null:function H(j,$,ae){const he={type:"file"},Ae=ae.length;for(let Xe=0;Xe<Ae;Xe++){const Qe=ae[Xe];he[Qe.local]=Qe.xform(he,$[Qe.server])}return function re(j,$){Object.defineProperty(j,"ref",{get:function ae(){const Xe=new $e(j.bucket,j.fullPath);return $._makeStorageReference(Xe)}})}(he,j),he}(j,he,ae)}function oe(j,$){const ae={},he=$.length;for(let Ae=0;Ae<he;Ae++){const Xe=$[Ae];Xe.writable&&(ae[Xe.server]=j[Xe.local])}return JSON.stringify(ae)}class nt{constructor($,ae,he,Ae){this.url=$,this.method=ae,this.handler=he,this.timeout=Ae,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Rt(j){if(!j)throw vn()}function Ut(j,$){return function ae(he,Ae){const Xe=ee(j,Ae,$);return Rt(null!==Xe),Xe}}function Ue(j){return function $(ae,he){let Ae;return Ae=401===ae.getStatus()?ae.getErrorText().includes("Firebase App Check token is invalid")?function et(){return new ke(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function _t(){return new ke(It.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ae.getStatus()?function ft(j){return new ke(It.QUOTA_EXCEEDED,"Quota for bucket '"+j+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(j.bucket):403===ae.getStatus()?function Et(j){return new ke(It.UNAUTHORIZED,"User does not have permission to access '"+j+"'.")}(j.path):he,Ae.status=ae.getStatus(),Ae.serverResponse=he.serverResponse,Ae}}function Pe(j){const $=Ue(j);return function ae(he,Ae){let Xe=$(he,Ae);return 404===he.getStatus()&&(Xe=function Ct(j){return new ke(It.OBJECT_NOT_FOUND,"Object '"+j+"' does not exist.")}(j.path)),Xe.serverResponse=Ae.serverResponse,Xe}}function Cr(j,$,ae){const he=Object.assign({},ae);return he.fullPath=j.path,he.size=$.size(),he.contentType||(he.contentType=function lr(j,$){return j&&j.contentType||$&&$.type()||"application/octet-stream"}(null,$)),he}class ts{constructor($,ae,he,Ae){this.current=$,this.total=ae,this.finalized=!!he,this.metadata=Ae||null}}function Wi(j,$){let ae=null;try{ae=j.getResponseHeader("X-Goog-Upload-Status")}catch{Rt(!1)}return Rt(!!ae&&-1!==($||["active"]).indexOf(ae)),ae}const xn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gi(j){switch(j){case"running":case"pausing":case"canceling":return xn.RUNNING;case"paused":return xn.PAUSED;case"success":return xn.SUCCESS;case"canceled":return xn.CANCELED;default:return xn.ERROR}}class mi{constructor($,ae,he){if(function Gt(j){return"function"==typeof j}($)||null!=ae||null!=he)this.next=$,this.error=ae??void 0,this.complete=he??void 0;else{const Xe=$;this.next=Xe.next,this.error=Xe.error,this.complete=Xe.complete}}}function Di(j){return(...$)=>{Promise.resolve().then(()=>j(...$))}}let bi=null;class se{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nr.NO_ERROR,this.sendPromise_=new Promise($=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nr.ABORT,$()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nr.NETWORK_ERROR,$()}),this.xhr_.addEventListener("load",()=>{$()})})}send($,ae,he,Ae){if(this.sent_)throw je("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ae,$,!0),void 0!==Ae)for(const Xe in Ae)Ae.hasOwnProperty(Xe)&&this.xhr_.setRequestHeader(Xe,Ae[Xe].toString());return void 0!==he?this.xhr_.send(he):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw je("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw je("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw je("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw je("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader($){return this.xhr_.getResponseHeader($)}addUploadProgressListener($){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",$)}removeUploadProgressListener($){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",$)}}class me extends se{initXhr(){this.xhr_.responseType="text"}}function be(){return bi?bi():new me}class nn{constructor($,ae,he=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=$,this._blob=ae,this._metadata=he,this._mappings=L(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ae=>{if(this._request=void 0,this._chunkMultiplier=1,Ae._codeEquals(It.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Xe=this.isExponentialBackoffExpired();if(or(Ae.status,[])){if(!Xe)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ae=Ze()}this._error=Ae,this._transition("error")}},this._metadataErrorHandler=Ae=>{this._request=void 0,Ae._codeEquals(It.CANCELED)?this.completeTransitions_():(this._error=Ae,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ae,Xe)=>{this._resolve=Ae,this._reject=Xe,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const $=this._transferred;return ae=>this._updateProgress($+ae)}_shouldDoResumable($){return $.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken($){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ae,he])=>{switch(this._state){case"running":$(ae,he);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken(($,ae)=>{const he=function _s(j,$,ae,he,Ae){const Xe=$.bucketOnlyServerUrl(),Qe=Cr($,he,Ae),P={name:Qe.fullPath},M=Hn(Xe,j.host,j._protocol),q={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${he.size()}`,"X-Goog-Upload-Header-Content-Type":Qe.contentType,"Content-Type":"application/json; charset=utf-8"},Re=oe(Qe,ae),Qn=new nt(M,"POST",function En(Je){let Qt;Wi(Je);try{Qt=Je.getResponseHeader("X-Goog-Upload-URL")}catch{Rt(!1)}return Rt(ln(Qt)),Qt},j.maxUploadRetryTime);return Qn.urlParams=P,Qn.headers=q,Qn.body=Re,Qn.errorHandler=Ue($),Qn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ae=this._ref.storage._makeRequest(he,be,$,ae);this._request=Ae,Ae.getPromise().then(Xe=>{this._request=void 0,this._uploadUrl=Xe,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const $=this._uploadUrl;this._resolveToken((ae,he)=>{const Ae=function On(j,$,ae,he){const M=new nt(ae,"POST",function Xe(x){const q=Wi(x,["active","final"]);let Re=null;try{Re=x.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Rt(!1)}Re||Rt(!1);const Dt=Number(Re);return Rt(!isNaN(Dt)),new ts(Dt,he.size(),"final"===q)},j.maxUploadRetryTime);return M.headers={"X-Goog-Upload-Command":"query"},M.errorHandler=Ue($),M}(this._ref.storage,this._ref._location,$,this._blob),Xe=this._ref.storage._makeRequest(Ae,be,ae,he);this._request=Xe,Xe.getPromise().then(Qe=>{this._request=void 0,this._updateProgress(Qe.current),this._needToFetchStatus=!1,Qe.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const $=262144*this._chunkMultiplier,ae=new ts(this._transferred,this._blob.size()),he=this._uploadUrl;this._resolveToken((Ae,Xe)=>{let Qe;try{Qe=function Ir(j,$,ae,he,Ae,Xe,Qe,P){const M=new ts(0,0);if(Qe?(M.current=Qe.current,M.total=Qe.total):(M.current=0,M.total=he.size()),he.size()!==M.total)throw function Ve(){return new ke(It.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const x=M.total-M.current;let q=x;Ae>0&&(q=Math.min(q,Ae));const Re=M.current;let En="";En=0===q?"finalize":x===q?"upload, finalize":"upload";const Qn={"X-Goog-Upload-Command":En,"X-Goog-Upload-Offset":`${M.current}`},Je=he.slice(Re,Re+q);if(null===Je)throw wn();const Kn=new nt(ae,"POST",function Qt(Ar,Mi){const fr=Wi(Ar,["active","final"]),yo=M.current+q,Cs=he.size();let Ys;return Ys="final"===fr?Ut($,Xe)(Ar,Mi):null,new ts(yo,Cs,"final"===fr,Ys)},$.maxUploadRetryTime);return Kn.headers=Qn,Kn.body=Je.uploadData(),Kn.progressCallback=P||null,Kn.errorHandler=Ue(j),Kn}(this._ref._location,this._ref.storage,he,this._blob,$,this._mappings,ae,this._makeProgressCallback())}catch(M){return this._error=M,void this._transition("error")}const P=this._ref.storage._makeRequest(Qe,be,Ae,Xe,!1);this._request=P,P.getPromise().then(M=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(M.current),M.finalized?(this._metadata=M.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(($,ae)=>{const he=function ot(j,$,ae){const Ae=Hn($.fullServerUrl(),j.host,j._protocol),Qe=j.maxOperationRetryTime,P=new nt(Ae,"GET",Ut(j,ae),Qe);return P.errorHandler=Pe($),P}(this._ref.storage,this._ref._location,this._mappings),Ae=this._ref.storage._makeRequest(he,be,$,ae);this._request=Ae,Ae.getPromise().then(Xe=>{this._request=void 0,this._metadata=Xe,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken(($,ae)=>{const he=function ys(j,$,ae,he,Ae){const Xe=$.bucketOnlyServerUrl(),Qe={"X-Goog-Upload-Protocol":"multipart"},M=function P(){let Kn="";for(let Ar=0;Ar<2;Ar++)Kn+=Math.random().toString().slice(2);return Kn}();Qe["Content-Type"]="multipart/related; boundary="+M;const x=Cr($,he,Ae),q=oe(x,ae),En=cr.getBlob("--"+M+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+q+"\r\n--"+M+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",he,"\r\n--"+M+"--");if(null===En)throw wn();const Qn={name:x.fullPath},Je=Hn(Xe,j.host,j._protocol),Qi=j.maxUploadRetryTime,$r=new nt(Je,"POST",Ut(j,ae),Qi);return $r.urlParams=Qn,$r.headers=Qe,$r.body=En.uploadData(),$r.errorHandler=Ue($),$r}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ae=this._ref.storage._makeRequest(he,be,$,ae);this._request=Ae,Ae.getPromise().then(Xe=>{this._request=void 0,this._metadata=Xe,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress($){const ae=this._transferred;this._transferred=$,this._transferred!==ae&&this._notifyObservers()}_transition($){if(this._state!==$)switch($){case"canceling":case"pausing":this._state=$,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ae="paused"===this._state;this._state=$,ae&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=$,this._notifyObservers();break;case"canceled":this._error=gt(),this._state=$,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const $=gi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:$,metadata:this._metadata,task:this,ref:this._ref}}on($,ae,he,Ae){const Xe=new mi(ae||void 0,he||void 0,Ae||void 0);return this._addObserver(Xe),()=>{this._removeObserver(Xe)}}then($,ae){return this._promise.then($,ae)}catch($){return this.then(null,$)}_addObserver($){this._observers.push($),this._notifyObserver($)}_removeObserver($){const ae=this._observers.indexOf($);-1!==ae&&this._observers.splice(ae,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ae=>{this._notifyObserver(ae)})}_finishPromise(){if(void 0!==this._resolve){let $=!0;switch(gi(this._state)){case xn.SUCCESS:Di(this._resolve.bind(null,this.snapshot))();break;case xn.CANCELED:case xn.ERROR:Di(this._reject.bind(null,this._error))();break;default:$=!1}$&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver($){switch(gi(this._state)){case xn.RUNNING:case xn.PAUSED:$.next&&Di($.next.bind($,this.snapshot))();break;case xn.SUCCESS:$.complete&&Di($.complete.bind($))();break;default:$.error&&Di($.error.bind($,this._error))()}}resume(){const $="paused"===this._state||"pausing"===this._state;return $&&this._transition("running"),$}pause(){const $="running"===this._state;return $&&this._transition("pausing"),$}cancel(){const $="running"===this._state||"pausing"===this._state;return $&&this._transition("canceling"),$}}class Pn{constructor($,ae){this._service=$,this._location=ae instanceof $e?ae:$e.makeFromUrl(ae,$.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef($,ae){return new Pn($,ae)}get root(){const $=new $e(this._location.bucket,"");return this._newRef(this._service,$)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vr(this._location.path)}get storage(){return this._service}get parent(){const $=function _r(j){if(0===j.length)return null;const $=j.lastIndexOf("/");return-1===$?"":j.slice(0,$)}(this._location.path);if(null===$)return null;const ae=new $e(this._location.bucket,$);return new Pn(this._service,ae)}_throwIfRoot($){if(""===this._location.path)throw function Ne(j){return new ke(It.INVALID_ROOT_OPERATION,"The operation '"+j+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}($)}}function ro(j){j._throwIfRoot("getDownloadURL");const $=function bn(j,$,ae){const Ae=Hn($.fullServerUrl(),j.host,j._protocol),Qe=j.maxOperationRetryTime,P=new nt(Ae,"GET",function gr(j,$){return function ae(he,Ae){const Xe=ee(j,Ae,$);return Rt(null!==Xe),function Ie(j,$,ae,he){const Ae=ii($);if(null===Ae||!ln(Ae.downloadTokens))return null;const Xe=Ae.downloadTokens;if(0===Xe.length)return null;const Qe=encodeURIComponent;return Xe.split(",").map(x=>{const Re=j.fullPath;return Hn("/b/"+Qe(j.bucket)+"/o/"+Qe(Re),ae,he)+Mn({alt:"media",token:x})})[0]}(Xe,Ae,j.host,j._protocol)}}(j,ae),Qe);return P.errorHandler=Pe($),P}(j.storage,j._location,L());return j.storage.makeRequestWithTokens($,be).then(ae=>{if(null===ae)throw function mn(){return new ke(It.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ae})}function qs(j,$){if(j instanceof Ti){const ae=j;if(null==ae._bucket)throw function Lt(){return new ke(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ke+"' property when initializing the app?")}();const he=new Pn(ae,ae._bucket);return null!=$?qs(he,$):he}return void 0!==$?function ns(j,$){const ae=function hn(j,$){const ae=$.split("/").filter(he=>he.length>0).join("/");return 0===j.length?ae:j+"/"+ae}(j._location.path,$),he=new $e(j._location.bucket,ae);return new Pn(j.storage,he)}(j,$):j}function rs(j,$){const ae=$?.[Ke];return null==ae?null:$e.makeFromBucketSpec(ae,j)}class Ti{constructor($,ae,he,Ae,Xe){this.app=$,this._authProvider=ae,this._appCheckProvider=he,this._url=Ae,this._firebaseVersion=Xe,this._bucket=null,this._host=ge,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ae?$e.makeFromBucketSpec(Ae,this._host):rs(this._host,this.app.options)}get host(){return this._host}set host($){this._host=$,this._bucket=null!=this._url?$e.makeFromBucketSpec(this._url,$):rs($,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime($){zn("time",0,Number.POSITIVE_INFINITY,$),this._maxUploadRetryTime=$}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime($){zn("time",0,Number.POSITIVE_INFINITY,$),this._maxOperationRetryTime=$}_getAuthToken(){var $=this;return(0,_e.Z)(function*(){if($._overrideAuthToken)return $._overrideAuthToken;const ae=$._authProvider.getImmediate({optional:!0});if(ae){const he=yield ae.getToken();if(null!==he)return he.accessToken}return null})()}_getAppCheckToken(){var $=this;return(0,_e.Z)(function*(){const ae=$._appCheckProvider.getImmediate({optional:!0});return ae?(yield ae.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach($=>$.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference($){return new Pn(this,$)}_makeRequest($,ae,he,Ae,Xe=!0){if(this._deleted)return new mt(tn());{const Qe=function hr(j,$,ae,he,Ae,Xe,Qe=!0){const P=Mn(j.urlParams),M=j.url+P,x=Object.assign({},j.headers);return function ri(j,$){$&&(j["X-Firebase-GMPID"]=$)}(x,$),function ar(j,$){null!==$&&$.length>0&&(j.Authorization="Firebase "+$)}(x,ae),function vr(j,$){j["X-Firebase-Storage-Version"]="webjs/"+($??"AppManager")}(x,Xe),function kr(j,$){null!==$&&(j["X-Firebase-AppCheck"]=$)}(x,he),new qt(M,j.method,x,j.body,j.successCodes,j.additionalRetryCodes,j.handler,j.errorHandler,j.timeout,j.progressCallback,Ae,Qe)}($,this._appId,he,Ae,ae,this._firebaseVersion,Xe);return this._requests.add(Qe),Qe.getPromise().then(()=>this._requests.delete(Qe),()=>this._requests.delete(Qe)),Qe}}makeRequestWithTokens($,ae){var he=this;return(0,_e.Z)(function*(){const[Ae,Xe]=yield Promise.all([he._getAuthToken(),he._getAppCheckToken()]);return he._makeRequest($,ae,Ae,Xe).getPromise()})()}}const Pr="@firebase/storage",Zi="storage";function Xr(j,$,ae){return function Er(j,$,ae){return j._throwIfRoot("uploadBytesResumable"),new nn(j,new cr($),ae)}(j=(0,Ge.m9)(j),$,ae)}function us(j){return ro(j=(0,Ge.m9)(j))}function qo(j,$){return function To(j,$){if($&&function zs(j){return/^[A-Za-z]+:\/\//.test(j)}($)){if(j instanceof Ti)return function ho(j,$){return new Pn(j,$)}(j,$);throw qn("To use ref(service, url), the first argument must be a Storage instance.")}return qs(j,$)}(j=(0,Ge.m9)(j),$)}function Yi(j=(0,ut.Mq)(),$){j=(0,Ge.m9)(j);const he=(0,ut.qX)(j,Zi).getImmediate({identifier:$}),Ae=(0,Ge.P0)("storage");return Ae&&function Ks(j,$,ae,he={}){!function Ci(j,$,ae,he={}){j.host=`${$}:${ae}`,j._protocol="http";const{mockUserToken:Ae}=he;Ae&&(j._overrideAuthToken="string"==typeof Ae?Ae:(0,Ge.Sg)(Ae,j.app.options.projectId))}(j,$,ae,he)}(he,...Ae),he}function Is(j,{instanceIdentifier:$}){const ae=j.getProvider("app").getImmediate(),he=j.getProvider("auth-internal"),Ae=j.getProvider("app-check-internal");return new Ti(ae,he,Ae,$,ut.Jn)}!function za(){(0,ut.Xd)(new fe.wA(Zi,Is,"PUBLIC").setMultipleInstances(!0)),(0,ut.KN)(Pr,"0.11.2",""),(0,ut.KN)(Pr,"0.11.2","esm2017")}();class Es{constructor($){return $}}const Ui="storage",cs=new g.OlP("angularfire2.storage-instances");function is(j){return($,ae)=>{const he=$.runOutsideAngular(()=>j(ae));return new Es(he)}}const Fo={provide:class Oo{constructor(){return(0,w.vb)(Ui)}},deps:[[new g.FiY,cs]]},Ai={provide:Es,useFactory:function ca(j,$){const ae=(0,w.JM)(Ui,j,$);return ae&&new Es(ae)},deps:[[new g.FiY,cs],we.Ot]};let so=(()=>{class j{constructor(){(0,xe.KN)("angularfire",w.q4.full,"gcs")}}return j.\u0275fac=function(ae){return new(ae||j)},j.\u0275mod=g.oAB({type:j}),j.\u0275inj=g.cJS({providers:[Ai,Fo]}),j})();function Os(j,...$){return{ngModule:so,providers:[{provide:cs,useFactory:is(j),multi:!0,deps:[g.R0b,g.zs3,w.HU,we.z6,[new g.FiY,ne.dh],[new g.FiY,le.nm],...$]}]}}const xi=(0,w.u3)(us,!0),Fs=(0,w.u3)(Yi,!0),Bi=(0,w.u3)(qo,!0),bs=(0,w.u3)(Xr,!0)},3530:(_n,lt,Y)=>{Y.d(lt,{q4:()=>na,HU:()=>oa,vb:()=>Ja,JM:()=>Vc,u3:()=>eu});var w=Y(8256),g=Y(259),we=Y(5861),ne=Y(6881),xe=Y(2090),le=Y(4859),_e=Y(1877);const ut=(E,A)=>A.some(F=>E instanceof F);let Ge,fe;const at=new WeakMap,pe=new WeakMap,wt=new WeakMap,ke=new WeakMap,It=new WeakMap;let Ct={get(E,A,F){if(E instanceof IDBTransaction){if("done"===A)return pe.get(E);if("objectStoreNames"===A)return E.objectStoreNames||wt.get(E);if("store"===A)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return Et(E[A])},set:(E,A,F)=>(E[A]=F,!0),has:(E,A)=>E instanceof IDBTransaction&&("done"===A||"store"===A)||A in E};function et(E){return"function"==typeof E?function _t(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...A){return E.apply(Ze(this),A),Et(at.get(this))}:function(...A){return Et(E.apply(Ze(this),A))}:function(A,...F){const J=E.call(Ze(this),A,...F);return wt.set(J,A.sort?A.sort():[A]),Et(J)}}(E):(E instanceof IDBTransaction&&function vn(E){if(pe.has(E))return;const A=new Promise((F,J)=>{const ve=()=>{E.removeEventListener("complete",Se),E.removeEventListener("error",He),E.removeEventListener("abort",He)},Se=()=>{F(),ve()},He=()=>{J(E.error||new DOMException("AbortError","AbortError")),ve()};E.addEventListener("complete",Se),E.addEventListener("error",He),E.addEventListener("abort",He)});pe.set(E,A)}(E),ut(E,function ge(){return Ge||(Ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Ct):E)}function Et(E){if(E instanceof IDBRequest)return function Tt(E){const A=new Promise((F,J)=>{const ve=()=>{E.removeEventListener("success",Se),E.removeEventListener("error",He)},Se=()=>{F(Et(E.result)),ve()},He=()=>{J(E.error),ve()};E.addEventListener("success",Se),E.addEventListener("error",He)});return A.then(F=>{F instanceof IDBCursor&&at.set(F,E)}).catch(()=>{}),It.set(A,E),A}(E);if(ke.has(E))return ke.get(E);const A=et(E);return A!==E&&(ke.set(E,A),It.set(A,E)),A}const Ze=E=>It.get(E),Ht=["get","getKey","getAll","getAllKeys","count"],Lt=["put","add","delete","clear"],wn=new Map;function Ve(E,A){if(!(E instanceof IDBDatabase)||A in E||"string"!=typeof A)return;if(wn.get(A))return wn.get(A);const F=A.replace(/FromIndex$/,""),J=A!==F,ve=Lt.includes(F);if(!(F in(J?IDBIndex:IDBObjectStore).prototype)||!ve&&!Ht.includes(F))return;const Se=function(){var He=(0,we.Z)(function*(Ft,...Nt){const dn=this.transaction(Ft,ve?"readwrite":"readonly");let Ln=dn.store;return J&&(Ln=Ln.index(Nt.shift())),(yield Promise.all([Ln[F](...Nt),ve&&dn.done]))[0]});return function(Nt){return He.apply(this,arguments)}}();return wn.set(A,Se),Se}!function ft(E){Ct=E(Ct)}(E=>({...E,get:(A,F,J)=>Ve(A,F)||E.get(A,F,J),has:(A,F)=>!!Ve(A,F)||E.has(A,F)}));const mn="@firebase/installations",Vt="0.6.4",qn=1e4,tn=`w:${Vt}`,Ne="FIS_v2",Me="https://firebaseinstallations.googleapis.com/v1",je=36e5,Ot=new xe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function an(E){return E instanceof xe.ZR&&E.code.includes("request-failed")}function Gt({projectId:E}){return`${Me}/projects/${E}/installations`}function xt(E){return{token:E.token,requestStatus:2,expiresIn:nr(E.expiresIn),creationTime:Date.now()}}function ln(E,A){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,we.Z)(function*(E,A){const J=(yield A.json()).error;return Ot.create("request-failed",{requestName:E,serverCode:J.code,serverMessage:J.message,serverStatus:J.status})})).apply(this,arguments)}function Vn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Hn(E){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,we.Z)(function*(E){const A=yield E();return A.status>=500&&A.status<600?E():A})).apply(this,arguments)}function nr(E){return Number(E.replace("s","000"))}function Jn(){return(Jn=(0,we.Z)(function*({appConfig:E,heartbeatServiceProvider:A},{fid:F}){const J=Gt(E),ve=Vn(E),Se=A.getImmediate({optional:!0});if(Se){const dn=yield Se.getHeartbeatsHeader();dn&&ve.append("x-firebase-client",dn)}const Ft={method:"POST",headers:ve,body:JSON.stringify({fid:F,authVersion:Ne,appId:E.appId,sdkVersion:tn})},Nt=yield Hn(()=>fetch(J,Ft));if(Nt.ok){const dn=yield Nt.json();return{fid:dn.fid||F,registrationStatus:2,refreshToken:dn.refreshToken,authToken:xt(dn.authToken)}}throw yield ln("Create Installation",Nt)})).apply(this,arguments)}function ar(E){return new Promise(A=>{setTimeout(A,E)})}const ri=/^[cdef][\w-]{21}$/,kr="";function hr(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const F=function Zr(E){return function vr(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return ri.test(F)?F:kr}catch{return kr}}function Cn(E){return`${E.appName}!${E.appId}`}const st=new Map;function Zt(E,A){const F=Cn(E);Gn(F,A),function Gr(E,A){const F=function zr(){return!Sn&&"BroadcastChannel"in self&&(Sn=new BroadcastChannel("[Firebase] FID Change"),Sn.onmessage=E=>{Gn(E.data.key,E.data.fid)}),Sn}();F&&F.postMessage({key:E,fid:A}),function Yn(){0===st.size&&Sn&&(Sn.close(),Sn=null)}()}(F,A)}function Gn(E,A){const F=st.get(E);if(F)for(const J of F)J(A)}let Sn=null;const pi="firebase-installations-database",Nn=1,Yr="firebase-installations-store";let cr=null;function ii(){return cr||(cr=function gt(E,A,{blocked:F,upgrade:J,blocking:ve,terminated:Se}={}){const He=indexedDB.open(E,A),Ft=Et(He);return J&&He.addEventListener("upgradeneeded",Nt=>{J(Et(He.result),Nt.oldVersion,Nt.newVersion,Et(He.transaction))}),F&&He.addEventListener("blocked",()=>F()),Ft.then(Nt=>{Se&&Nt.addEventListener("close",()=>Se()),ve&&Nt.addEventListener("versionchange",()=>ve())}).catch(()=>{}),Ft}(pi,Nn,{upgrade:(E,A)=>{0===A&&E.createObjectStore(Yr)}})),cr}function _r(E,A){return hn.apply(this,arguments)}function hn(){return(hn=(0,we.Z)(function*(E,A){const F=Cn(E),ve=(yield ii()).transaction(Yr,"readwrite"),Se=ve.objectStore(Yr),He=yield Se.get(F);return yield Se.put(A,F),yield ve.done,(!He||He.fid!==A.fid)&&Zt(E,A.fid),A})).apply(this,arguments)}function Vr(E){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,we.Z)(function*(E){const A=Cn(E),J=(yield ii()).transaction(Yr,"readwrite");yield J.objectStore(Yr).delete(A),yield J.done})).apply(this,arguments)}function zt(E,A){return rr.apply(this,arguments)}function rr(){return(rr=(0,we.Z)(function*(E,A){const F=Cn(E),ve=(yield ii()).transaction(Yr,"readwrite"),Se=ve.objectStore(Yr),He=yield Se.get(F),Ft=A(He);return void 0===Ft?yield Se.delete(F):yield Se.put(Ft,F),yield ve.done,Ft&&(!He||He.fid!==Ft.fid)&&Zt(E,Ft.fid),Ft})).apply(this,arguments)}function ce(E){return L.apply(this,arguments)}function L(){return L=(0,we.Z)(function*(E){let A;const F=yield zt(E.appConfig,J=>{const ve=function re(E){return Ee(E||{fid:hr(),registrationStatus:0})}(J),Se=function H(E,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ot.create("app-offline"))};const F={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},J=function ee(E,A){return Ie.apply(this,arguments)}(E,F);return{installationEntry:F,registrationPromise:J}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:oe(E)}:{installationEntry:A}}(E,ve);return A=Se.registrationPromise,Se.installationEntry});return F.fid===kr?{installationEntry:yield A}:{installationEntry:F,registrationPromise:A}}),L.apply(this,arguments)}function Ie(){return Ie=(0,we.Z)(function*(E,A){try{const F=yield function qt(E,A){return Jn.apply(this,arguments)}(E,A);return _r(E.appConfig,F)}catch(F){throw an(F)&&409===F.customData.serverCode?yield Vr(E.appConfig):yield _r(E.appConfig,{fid:A.fid,registrationStatus:0}),F}}),Ie.apply(this,arguments)}function oe(E){return ue.apply(this,arguments)}function ue(){return(ue=(0,we.Z)(function*(E){let A=yield te(E.appConfig);for(;1===A.registrationStatus;)yield ar(100),A=yield te(E.appConfig);if(0===A.registrationStatus){const{installationEntry:F,registrationPromise:J}=yield ce(E);return J||F}return A})).apply(this,arguments)}function te(E){return zt(E,A=>{if(!A)throw Ot.create("installation-not-found");return Ee(A)})}function Ee(E){return function Be(E){return 1===E.registrationStatus&&E.registrationTime+qn<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Rt(){return(Rt=(0,we.Z)(function*({appConfig:E,heartbeatServiceProvider:A},F){const J=function Ut(E,{fid:A}){return`${Gt(E)}/${A}/authTokens:generate`}(E,F),ve=function zn(E,{refreshToken:A}){const F=Vn(E);return F.append("Authorization",function or(E){return`${Ne} ${E}`}(A)),F}(E,F),Se=A.getImmediate({optional:!0});if(Se){const dn=yield Se.getHeartbeatsHeader();dn&&ve.append("x-firebase-client",dn)}const Ft={method:"POST",headers:ve,body:JSON.stringify({installation:{sdkVersion:tn,appId:E.appId}})},Nt=yield Hn(()=>fetch(J,Ft));if(Nt.ok)return xt(yield Nt.json());throw yield ln("Generate Auth Token",Nt)})).apply(this,arguments)}function Un(E){return gr.apply(this,arguments)}function gr(){return gr=(0,we.Z)(function*(E,A=!1){let F;const J=yield zt(E.appConfig,Se=>{if(!bn(Se))throw Ot.create("not-registered");const He=Se.authToken;if(!A&&function Rn(E){return 2===E.requestStatus&&!function Rr(E){const A=Date.now();return A<E.creationTime||E.creationTime+E.expiresIn<A+je}(E)}(He))return Se;if(1===He.requestStatus)return F=function Ue(E,A){return Pe.apply(this,arguments)}(E,A),Se;{if(!navigator.onLine)throw Ot.create("app-offline");const Ft=function lr(E){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:A})}(Se);return F=function Wt(E,A){return fn.apply(this,arguments)}(E,Ft),Ft}});return F?yield F:J.authToken}),gr.apply(this,arguments)}function Pe(){return(Pe=(0,we.Z)(function*(E,A){let F=yield ot(E.appConfig);for(;1===F.authToken.requestStatus;)yield ar(100),F=yield ot(E.appConfig);const J=F.authToken;return 0===J.requestStatus?Un(E,A):J})).apply(this,arguments)}function ot(E){return zt(E,A=>{if(!bn(A))throw Ot.create("not-registered");return function Cr(E){return 1===E.requestStatus&&E.requestTime+qn<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function fn(){return fn=(0,we.Z)(function*(E,A){try{const F=yield function nt(E,A){return Rt.apply(this,arguments)}(E,A),J=Object.assign(Object.assign({},A),{authToken:F});return yield _r(E.appConfig,J),F}catch(F){if(!an(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const J=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield _r(E.appConfig,J)}else yield Vr(E.appConfig);throw F}}),fn.apply(this,arguments)}function bn(E){return void 0!==E&&2===E.registrationStatus}function ts(){return(ts=(0,we.Z)(function*(E){const A=E,{installationEntry:F,registrationPromise:J}=yield ce(A);return J?J.catch(console.error):Un(A).catch(console.error),F.fid})).apply(this,arguments)}function _s(){return _s=(0,we.Z)(function*(E,A=!1){const F=E;return yield function On(E){return wr.apply(this,arguments)}(F),(yield Un(F,A)).token}),_s.apply(this,arguments)}function wr(){return(wr=(0,we.Z)(function*(E){const{registrationPromise:A}=yield ce(E);A&&(yield A)})).apply(this,arguments)}function me(E){return Ot.create("missing-app-config-values",{valueName:E})}const be="installations",yt=E=>{const A=E.getProvider("app").getImmediate(),F=function se(E){if(!E||!E.options)throw me("App Configuration");if(!E.name)throw me("App Name");const A=["projectId","apiKey","appId"];for(const F of A)if(!E.options[F])throw me(F);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(A);return{app:A,appConfig:F,heartbeatServiceProvider:(0,ne.qX)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Bt=E=>{const A=E.getProvider("app").getImmediate(),F=(0,ne.qX)(A,be).getImmediate();return{getId:()=>function ys(E){return ts.apply(this,arguments)}(F),getToken:ve=>function Wi(E){return _s.apply(this,arguments)}(F,ve)}};(function Fn(){(0,ne.Xd)(new le.wA(be,yt,"PUBLIC")),(0,ne.Xd)(new le.wA("installations-internal",Bt,"PRIVATE"))})(),(0,ne.KN)(mn,Vt),(0,ne.KN)(mn,Vt,"esm2017");const nn="@firebase/remote-config",Er=new xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zi{constructor(A,F,J,ve){this.client=A,this.storage=F,this.storageCache=J,this.logger=ve}isCachedDataFresh(A,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const J=Date.now()-F,ve=J<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${J}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ve}.`),ve}fetch(A){var F=this;return(0,we.Z)(function*(){const[J,ve]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(ve&&F.isCachedDataFresh(A.cacheMaxAgeMillis,J))return ve;A.eTag=ve&&ve.eTag;const Se=yield F.client.fetch(A),He=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Se.status&&He.push(F.storage.setLastSuccessfulFetchResponse(Se)),yield Promise.all(He),Se})()}}function Si(E=navigator){return E.languages&&E.languages[0]||E.language}class Wn{constructor(A,F,J,ve,Se,He){this.firebaseInstallations=A,this.sdkVersion=F,this.namespace=J,this.projectId=ve,this.apiKey=Se,this.appId=He}fetch(A){var F=this;return(0,we.Z)(function*(){const[J,ve]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),He=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Nt={sdk_version:F.sdkVersion,app_instance_id:J,app_instance_id_token:ve,app_id:F.appId,language_code:Si()},dn={method:"POST",headers:Ft,body:JSON.stringify(Nt)},Ln=fetch(He,dn),$n=new Promise((Ho,Da)=>{A.signal.addEventListener(()=>{const yu=new Error("The operation was aborted.");yu.name="AbortError",Da(yu)})});let co;try{yield Promise.race([Ln,$n]),co=yield Ln}catch(Ho){let Da="fetch-client-network";throw"AbortError"===Ho?.name&&(Da="fetch-timeout"),Er.create(Da,{originalErrorMessage:Ho?.message})}let fs=co.status;const uc=co.headers.get("ETag")||void 0;let cc,mu;if(200===co.status){let Ho;try{Ho=yield co.json()}catch(Da){throw Er.create("fetch-client-parse",{originalErrorMessage:Da?.message})}cc=Ho.entries,mu=Ho.state}if("INSTANCE_STATE_UNSPECIFIED"===mu?fs=500:"NO_CHANGE"===mu?fs=304:("NO_TEMPLATE"===mu||"EMPTY_CONFIG"===mu)&&(cc={}),304!==fs&&200!==fs)throw Er.create("fetch-status",{httpStatus:fs});return{status:fs,eTag:uc,config:cc}})()}}class Ps{constructor(A,F){this.client=A,this.storage=F}fetch(A){var F=this;return(0,we.Z)(function*(){const J=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(A,J)})()}attemptFetch(A,{throttleEndTimeMillis:F,backoffCount:J}){var ve=this;return(0,we.Z)(function*(){yield function yi(E,A){return new Promise((F,J)=>{const ve=Math.max(A-Date.now(),0),Se=setTimeout(F,ve);E.addEventListener(()=>{clearTimeout(Se),J(Er.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,F);try{const Se=yield ve.client.fetch(A);return yield ve.storage.deleteThrottleMetadata(),Se}catch(Se){if(!function Xr(E){if(!(E instanceof xe.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}(Se))throw Se;const He={throttleEndTimeMillis:Date.now()+(0,xe.$s)(J),backoffCount:J+1};return yield ve.storage.setThrottleMetadata(He),ve.attemptFetch(A,He)}})()}}class zo{constructor(A,F,J,ve,Se){this.app=A,this._client=F,this._storageCache=J,this._storage=ve,this._logger=Se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function us(E,A){const F=E.target.error||void 0;return Er.create(A,{originalErrorMessage:F&&F?.message})}const ks="app_namespace_store";class Ks{constructor(A,F,J,ve=function Yi(){return new Promise((E,A)=>{try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=J=>{A(us(J,"storage-open"))},F.onsuccess=J=>{E(J.target.result)},F.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(ks,{keyPath:"compositeKey"})}}catch(F){A(Er.create("storage-open",{originalErrorMessage:F?.message}))}})}()){this.appId=A,this.appName=F,this.namespace=J,this.openDbPromise=ve}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var F=this;return(0,we.Z)(function*(){const J=yield F.openDbPromise;return new Promise((ve,Se)=>{const Ft=J.transaction([ks],"readonly").objectStore(ks),Nt=F.createCompositeKey(A);try{const dn=Ft.get(Nt);dn.onerror=Ln=>{Se(us(Ln,"storage-get"))},dn.onsuccess=Ln=>{const $n=Ln.target.result;ve($n?$n.value:void 0)}}catch(dn){Se(Er.create("storage-get",{originalErrorMessage:dn?.message}))}})})()}set(A,F){var J=this;return(0,we.Z)(function*(){const ve=yield J.openDbPromise;return new Promise((Se,He)=>{const Nt=ve.transaction([ks],"readwrite").objectStore(ks),dn=J.createCompositeKey(A);try{const Ln=Nt.put({compositeKey:dn,value:F});Ln.onerror=$n=>{He(us($n,"storage-set"))},Ln.onsuccess=()=>{Se()}}catch(Ln){He(Er.create("storage-set",{originalErrorMessage:Ln?.message}))}})})()}delete(A){var F=this;return(0,we.Z)(function*(){const J=yield F.openDbPromise;return new Promise((ve,Se)=>{const Ft=J.transaction([ks],"readwrite").objectStore(ks),Nt=F.createCompositeKey(A);try{const dn=Ft.delete(Nt);dn.onerror=Ln=>{Se(us(Ln,"storage-delete"))},dn.onsuccess=()=>{ve()}}catch(dn){Se(Er.create("storage-delete",{originalErrorMessage:dn?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Aa{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,we.Z)(function*(){const F=A.storage.getLastFetchStatus(),J=A.storage.getLastSuccessfulFetchTimestampMillis(),ve=A.storage.getActiveConfig(),Se=yield F;Se&&(A.lastFetchStatus=Se);const He=yield J;He&&(A.lastSuccessfulFetchTimestampMillis=He);const Ft=yield ve;Ft&&(A.activeConfig=Ft)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Es(){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,we.Z)(function*(){if(!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}!function Wo(){(0,ne.Xd)(new le.wA("remote-config",function E(A,{instanceIdentifier:F}){const J=A.getProvider("app").getImmediate(),ve=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Er.create("registration-window");if(!(0,xe.hl)())throw Er.create("indexed-db-unavailable");const{projectId:Se,apiKey:He,appId:Ft}=J.options;if(!Se)throw Er.create("registration-project-id");if(!He)throw Er.create("registration-api-key");if(!Ft)throw Er.create("registration-app-id");const Nt=new Ks(Ft,J.name,F=F||"firebase"),dn=new Aa(Nt),Ln=new _e.Yd(nn);Ln.logLevel=_e.in.ERROR;const $n=new Wn(ve,ne.Jn,F,Se,He,Ft),co=new Ps($n,Nt),fs=new Zi(co,Nt,dn,Ln),uc=new zo(J,fs,dn,Nt,Ln);return function ns(E){const A=(0,xe.m9)(E);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(uc),uc},"PUBLIC").setMultipleInstances(!0)),(0,ne.KN)(nn,"0.4.4"),(0,ne.KN)(nn,"0.4.4","esm2017")}();const Oo=(E,A)=>A.some(F=>E instanceof F);let Ns,cs;const Fo=new WeakMap,Ai=new WeakMap,so=new WeakMap,Os=new WeakMap,po=new WeakMap;let Wr={get(E,A,F){if(E instanceof IDBTransaction){if("done"===A)return Ai.get(E);if("objectStoreNames"===A)return E.objectStoreNames||so.get(E);if("store"===A)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return wi(E[A])},set:(E,A,F)=>(E[A]=F,!0),has:(E,A)=>E instanceof IDBTransaction&&("done"===A||"store"===A)||A in E};function xi(E){return"function"==typeof E?function Ko(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function is(){return cs||(cs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...A){return E.apply(Fs(this),A),wi(Fo.get(this))}:function(...A){return wi(E.apply(Fs(this),A))}:function(A,...F){const J=E.call(Fs(this),A,...F);return so.set(J,A.sort?A.sort():[A]),wi(J)}}(E):(E instanceof IDBTransaction&&function Ds(E){if(Ai.has(E))return;const A=new Promise((F,J)=>{const ve=()=>{E.removeEventListener("complete",Se),E.removeEventListener("error",He),E.removeEventListener("abort",He)},Se=()=>{F(),ve()},He=()=>{J(E.error||new DOMException("AbortError","AbortError")),ve()};E.addEventListener("complete",Se),E.addEventListener("error",He),E.addEventListener("abort",He)});Ai.set(E,A)}(E),Oo(E,function ca(){return Ns||(Ns=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Wr):E)}function wi(E){if(E instanceof IDBRequest)return function go(E){const A=new Promise((F,J)=>{const ve=()=>{E.removeEventListener("success",Se),E.removeEventListener("error",He)},Se=()=>{F(wi(E.result)),ve()},He=()=>{J(E.error),ve()};E.addEventListener("success",Se),E.addEventListener("error",He)});return A.then(F=>{F instanceof IDBCursor&&Fo.set(F,E)}).catch(()=>{}),po.set(A,E),A}(E);if(Os.has(E))return Os.get(E);const A=xi(E);return A!==E&&(Os.set(E,A),po.set(A,E)),A}const Fs=E=>po.get(E);function Ur(E,A,{blocked:F,upgrade:J,blocking:ve,terminated:Se}={}){const He=indexedDB.open(E,A),Ft=wi(He);return J&&He.addEventListener("upgradeneeded",Nt=>{J(wi(He.result),Nt.oldVersion,Nt.newVersion,wi(He.transaction))}),F&&He.addEventListener("blocked",()=>F()),Ft.then(Nt=>{Se&&Nt.addEventListener("close",()=>Se()),ve&&Nt.addEventListener("versionchange",()=>ve())}).catch(()=>{}),Ft}function Br(E,{blocked:A}={}){const F=indexedDB.deleteDatabase(E);return A&&F.addEventListener("blocked",()=>A()),wi(F).then(()=>{})}const mo=["get","getKey","getAll","getAllKeys","count"],Bi=["put","add","delete","clear"],Zs=new Map;function ai(E,A){if(!(E instanceof IDBDatabase)||A in E||"string"!=typeof A)return;if(Zs.get(A))return Zs.get(A);const F=A.replace(/FromIndex$/,""),J=A!==F,ve=Bi.includes(F);if(!(F in(J?IDBIndex:IDBObjectStore).prototype)||!ve&&!mo.includes(F))return;const Se=function(){var He=(0,we.Z)(function*(Ft,...Nt){const dn=this.transaction(Ft,ve?"readwrite":"readonly");let Ln=dn.store;return J&&(Ln=Ln.index(Nt.shift())),(yield Promise.all([Ln[F](...Nt),ve&&dn.done]))[0]});return function(Nt){return He.apply(this,arguments)}}();return Zs.set(A,Se),Se}!function ls(E){Wr=E(Wr)}(E=>({...E,get:(A,F,J)=>ai(A,F)||E.get(A,F,J),has:(A,F)=>!!ai(A,F)||E.has(A,F)}));const bs="/firebase-messaging-sw.js",ei="/firebase-cloud-messaging-push-scope",j="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$="https://fcmregistrations.googleapis.com/v1",ae="google.c.a.c_id",he="google.c.a.c_l",Ae="google.c.a.ts",Xe="google.c.a.e";var P=(()=>{return(E=P||(P={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",P;var E})();function M(E){const A=new Uint8Array(E);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function x(E){const F=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),J=atob(F),ve=new Uint8Array(J.length);for(let Se=0;Se<J.length;++Se)ve[Se]=J.charCodeAt(Se);return ve}const q="fcm_token_details_db",Re=5,Dt="fcm_token_object_Store";function Qn(){return Qn=(0,we.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Se=>Se.name).includes(q))return null;let A=null;return(yield Ur(q,Re,{upgrade:(J=(0,we.Z)(function*(ve,Se,He,Ft){var Nt;if(Se<2||!ve.objectStoreNames.contains(Dt))return;const dn=Ft.objectStore(Dt),Ln=yield dn.index("fcmSenderId").get(E);if(yield dn.clear(),Ln)if(2===Se){const $n=Ln;if(!$n.auth||!$n.p256dh||!$n.endpoint)return;A={token:$n.fcmToken,createTime:null!==(Nt=$n.createTime)&&void 0!==Nt?Nt:Date.now(),subscriptionOptions:{auth:$n.auth,p256dh:$n.p256dh,endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:"string"==typeof $n.vapidKey?$n.vapidKey:M($n.vapidKey)}}}else if(3===Se){const $n=Ln;A={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:M($n.auth),p256dh:M($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:M($n.vapidKey)}}}else if(4===Se){const $n=Ln;A={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:M($n.auth),p256dh:M($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:M($n.vapidKey)}}}}),function(Se,He,Ft,Nt){return J.apply(this,arguments)})})).close(),yield Br(q),yield Br("fcm_vapid_details_db"),yield Br("undefined"),function Je(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:A}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var J}),Qn.apply(this,arguments)}const Qt="firebase-messaging-database",Qi=1,$r="firebase-messaging-store";let Kn=null;function Ar(){return Kn||(Kn=Ur(Qt,Qi,{upgrade:(E,A)=>{0===A&&E.createObjectStore($r)}})),Kn}function Mi(E){return fr.apply(this,arguments)}function fr(){return fr=(0,we.Z)(function*(E){const A=xa(E),J=yield(yield Ar()).transaction($r).objectStore($r).get(A);if(J)return J;{const ve=yield function En(E){return Qn.apply(this,arguments)}(E.appConfig.senderId);if(ve)return yield yo(E,ve),ve}}),fr.apply(this,arguments)}function yo(E,A){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,we.Z)(function*(E,A){const F=xa(E),ve=(yield Ar()).transaction($r,"readwrite");return yield ve.objectStore($r).put(A,F),yield ve.done,A})).apply(this,arguments)}function Zo(){return(Zo=(0,we.Z)(function*(E){const A=xa(E),J=(yield Ar()).transaction($r,"readwrite");yield J.objectStore($r).delete(A),yield J.done})).apply(this,arguments)}function xa({appConfig:E}){return E.appId}const Or=new xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function la(E,A){return ui.apply(this,arguments)}function ui(){return(ui=(0,we.Z)(function*(E,A){const F=yield So(E),J=xu(A),ve={method:"POST",headers:F,body:JSON.stringify(J)};let Se;try{Se=yield(yield fetch(Ji(E.appConfig),ve)).json()}catch(He){throw Or.create("token-subscribe-failed",{errorInfo:He?.toString()})}if(Se.error)throw Or.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw Or.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function lu(){return(lu=(0,we.Z)(function*(E,A){const F=yield So(E),J=xu(A.subscriptionOptions),ve={method:"PATCH",headers:F,body:JSON.stringify(J)};let Se;try{Se=yield(yield fetch(`${Ji(E.appConfig)}/${A.token}`,ve)).json()}catch(He){throw Or.create("token-update-failed",{errorInfo:He?.toString()})}if(Se.error)throw Or.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw Or.create("token-update-no-token");return Se.token})).apply(this,arguments)}function Qs(E,A){return qa.apply(this,arguments)}function qa(){return(qa=(0,we.Z)(function*(E,A){const J={method:"DELETE",headers:yield So(E)};try{const Se=yield(yield fetch(`${Ji(E.appConfig)}/${A}`,J)).json();if(Se.error)throw Or.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(ve){throw Or.create("token-unsubscribe-failed",{errorInfo:ve?.toString()})}})).apply(this,arguments)}function Ji({projectId:E}){return`${$}/projects/${E}/registrations`}function So(E){return dr.apply(this,arguments)}function dr(){return(dr=(0,we.Z)(function*({appConfig:E,installations:A}){const F=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function xu({p256dh:E,auth:A,endpoint:F,vapidKey:J}){const ve={web:{endpoint:F,auth:A,p256dh:E}};return J!==j&&(ve.web.applicationPubKey=J),ve}const Yo=6048e5;function wo(){return wo=(0,we.Z)(function*(E){const A=yield function Pi(E,A){return Vo.apply(this,arguments)}(E.swRegistration,E.vapidKey),F={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:A.endpoint,auth:M(A.getKey("auth")),p256dh:M(A.getKey("p256dh"))},J=yield Mi(E.firebaseDependencies);if(J){if(function ji(E,A){return A.vapidKey===E.vapidKey&&A.endpoint===E.endpoint&&A.auth===E.auth&&A.p256dh===E.p256dh}(J.subscriptionOptions,F))return Date.now()>=J.createTime+Yo?function da(E,A){return Io.apply(this,arguments)}(E,{token:J.token,createTime:Date.now(),subscriptionOptions:F}):J.token;try{yield Qs(E.firebaseDependencies,J.token)}catch(ve){console.warn(ve)}return oo(E.firebaseDependencies,F)}return oo(E.firebaseDependencies,F)}),wo.apply(this,arguments)}function Ls(){return Ls=(0,we.Z)(function*(E){const A=yield Mi(E.firebaseDependencies);A&&(yield Qs(E.firebaseDependencies,A.token),yield function Ys(E){return Zo.apply(this,arguments)}(E.firebaseDependencies));const F=yield E.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()}),Ls.apply(this,arguments)}function Io(){return Io=(0,we.Z)(function*(E,A){try{const F=yield function _o(E,A){return lu.apply(this,arguments)}(E.firebaseDependencies,A),J=Object.assign(Object.assign({},A),{token:F,createTime:Date.now()});return yield yo(E.firebaseDependencies,J),F}catch(F){throw yield function Lo(E){return Ls.apply(this,arguments)}(E),F}}),Io.apply(this,arguments)}function oo(E,A){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,we.Z)(function*(E,A){const J={token:yield la(E,A),createTime:Date.now(),subscriptionOptions:A};return yield yo(E,J),J.token})).apply(this,arguments)}function Vo(){return(Vo=(0,we.Z)(function*(E,A){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:x(A)})})).apply(this,arguments)}function Ts(E){const A={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Kr(E,A){if(!A.notification)return;E.notification={};const F=A.notification.title;F&&(E.notification.title=F);const J=A.notification.body;J&&(E.notification.body=J);const ve=A.notification.image;ve&&(E.notification.image=ve);const Se=A.notification.icon;Se&&(E.notification.icon=Se)}(A,E),function Mu(E,A){A.data&&(E.data=A.data)}(A,E),function S(E,A){var F,J,ve,Se,He;if(!(A.fcmOptions||null!==(F=A.notification)&&void 0!==F&&F.click_action))return;E.fcmOptions={};const Ft=null!==(ve=null===(J=A.fcmOptions)||void 0===J?void 0:J.link)&&void 0!==ve?ve:null===(Se=A.notification)||void 0===Se?void 0:Se.click_action;Ft&&(E.fcmOptions.link=Ft);const Nt=null===(He=A.fcmOptions)||void 0===He?void 0:He.analytics_label;Nt&&(E.fcmOptions.analyticsLabel=Nt)}(A,E),A}function k(E,A){const F=[];for(let J=0;J<E.length;J++)F.push(E.charAt(J)),J<A.length&&F.push(A.charAt(J));return F.join("")}function de(E){return Or.create("missing-app-config-values",{valueName:E})}k("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),k("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ze{constructor(A,F,J){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ve=function W(E){if(!E||!E.options)throw de("App Configuration Object");if(!E.name)throw de("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:F}=E;for(const J of A)if(!F[J])throw de(J);return{appName:E.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ve,installations:F,analyticsProvider:J}}_delete(){return Promise.resolve()}}function it(E){return rn.apply(this,arguments)}function rn(){return(rn=(0,we.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(bs,{scope:ei}),E.swRegistration.update().catch(()=>{})}catch(A){throw Or.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function Tr(){return(Tr=(0,we.Z)(function*(E,A){if(!A&&!E.swRegistration&&(yield it(E)),A||!E.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Or.create("invalid-sw-registration");E.swRegistration=A}})).apply(this,arguments)}function Dn(){return(Dn=(0,we.Z)(function*(E,A){A?E.vapidKey=A:E.vapidKey||(E.vapidKey=j)})).apply(this,arguments)}function An(){return An=(0,we.Z)(function*(E,A){if(!navigator)throw Or.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Or.create("permission-blocked");return yield function Dr(E,A){return Dn.apply(this,arguments)}(E,A?.vapidKey),yield function mr(E,A){return Tr.apply(this,arguments)}(E,A?.serviceWorkerRegistration),function vo(E){return wo.apply(this,arguments)}(E)}),An.apply(this,arguments)}function ci(){return(ci=(0,we.Z)(function*(E,A,F){const J=function Eo(E){switch(E){case P.NOTIFICATION_CLICKED:return"notification_open";case P.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(J,{message_id:F[ae],message_name:F[he],message_time:F[Ae],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ht(){return ht=(0,we.Z)(function*(E,A){const F=A.data;if(!F.isFirebaseMessaging)return;E.onMessageHandler&&F.messageType===P.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ts(F)):E.onMessageHandler.next(Ts(F)));const J=F.data;(function B(E){return"object"==typeof E&&!!E&&ae in E})(J)&&"1"===J[Xe]&&(yield function Sr(E,A,F){return ci.apply(this,arguments)}(E,F.messageType,J))}),ht.apply(this,arguments)}const Fr="@firebase/messaging",Js=E=>{const A=new ze(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function ha(E,A){return ht.apply(this,arguments)}(A,F)),A},Jt=E=>{const A=E.getProvider("messaging").getImmediate();return{getToken:J=>function jr(E,A){return An.apply(this,arguments)}(A,J)}};function Uo(){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,we.Z)(function*(){try{yield(0,xe.eu)()}catch{return!1}return typeof window<"u"&&(0,xe.hl)()&&(0,xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function un(){(0,ne.Xd)(new le.wA("messaging",Js,"PUBLIC")),(0,ne.Xd)(new le.wA("messaging-internal",Jt,"PRIVATE")),(0,ne.KN)(Fr,"0.12.4"),(0,ne.KN)(Fr,"0.12.4","esm2017")}();const Wa="analytics",rc="firebase_id",ao="origin",Ru=6e4,li="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ma="https://www.googletagmanager.com/gtag/js",sn=new _e.Yd("@firebase/analytics"),ki=new xe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function di(E){if(!E.startsWith(Ma)){const A=ki.create("invalid-gtag-resource",{gtagURL:E});return sn.warn(A.message),""}return E}function gn(E){return Promise.all(E.map(A=>A.catch(F=>F)))}function Mt(){return(Mt=(0,we.Z)(function*(E,A,F,J,ve,Se){const He=J[ve];try{if(He)yield A[He];else{const Nt=(yield gn(F)).find(dn=>dn.measurementId===ve);Nt&&(yield A[Nt.appId])}}catch(Ft){sn.error(Ft)}E("config",ve,Se)})).apply(this,arguments)}function du(){return(du=(0,we.Z)(function*(E,A,F,J,ve){try{let Se=[];if(ve&&ve.send_to){let He=ve.send_to;Array.isArray(He)||(He=[He]);const Ft=yield gn(F);for(const Nt of He){const dn=Ft.find($n=>$n.measurementId===Nt),Ln=dn&&A[dn.appId];if(!Ln){Se=[];break}Se.push(Ln)}}0===Se.length&&(Se=Object.values(A)),yield Promise.all(Se),E("event",J,ve||{})}catch(Se){sn.error(Se)}})).apply(this,arguments)}const ic=30,Xo=new class Ka{constructor(A={},F=1e3){this.throttleMetadata=A,this.intervalMillis=F}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,F){this.throttleMetadata[A]=F}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function eo(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function ds(){return(ds=(0,we.Z)(function*(E){var A;const{appId:F,apiKey:J}=E,ve={method:"GET",headers:eo(J)},Se=li.replace("{app-id}",F),He=yield fetch(Se,ve);if(200!==He.status&&304!==He.status){let Ft="";try{const Nt=yield He.json();null!==(A=Nt.error)&&void 0!==A&&A.message&&(Ft=Nt.error.message)}catch{}throw ki.create("config-fetch-failed",{httpStatus:He.status,responseMessage:Ft})}return He.json()})).apply(this,arguments)}function Ss(){return(Ss=(0,we.Z)(function*(E,A=Xo,F){const{appId:J,apiKey:ve,measurementId:Se}=E.options;if(!J)throw ki.create("no-app-id");if(!ve){if(Se)return{measurementId:Se,appId:J};throw ki.create("no-api-key")}const He=A.getThrottleMetadata(J)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ft=new ku;return setTimeout((0,we.Z)(function*(){Ft.abort()}),void 0!==F?F:Ru),hu({appId:J,apiKey:ve,measurementId:Se},He,Ft,A)})).apply(this,arguments)}function hu(E,A,F){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,we.Z)(function*(E,{throttleEndTimeMillis:A,backoffCount:F},J,ve=Xo){var Se;const{appId:He,measurementId:Ft}=E;try{yield function Ao(E,A){return new Promise((F,J)=>{const ve=Math.max(A-Date.now(),0),Se=setTimeout(F,ve);E.addEventListener(()=>{clearTimeout(Se),J(ki.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(J,A)}catch(Nt){if(Ft)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${Nt?.message}]`),{appId:He,measurementId:Ft};throw Nt}try{const Nt=yield function Za(E){return ds.apply(this,arguments)}(E);return ve.deleteThrottleMetadata(He),Nt}catch(Nt){const dn=Nt;if(!function Us(E){if(!(E instanceof xe.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}(dn)){if(ve.deleteThrottleMetadata(He),Ft)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${dn?.message}]`),{appId:He,measurementId:Ft};throw Nt}const Ln=503===Number(null===(Se=dn?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,xe.$s)(F,ve.intervalMillis,ic):(0,xe.$s)(F,ve.intervalMillis),$n={throttleEndTimeMillis:Date.now()+Ln,backoffCount:F+1};return ve.setThrottleMetadata(He,$n),sn.debug(`Calling attemptFetch again in ${Ln} millis`),hu(E,$n,J,ve)}}),Oe.apply(this,arguments)}class ku{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let br,Pa;function fu(){return(fu=(0,we.Z)(function*(E,A,F,J,ve){if(ve&&ve.global)E("event",F,J);else{const Se=yield A;E("event",F,Object.assign(Object.assign({},J),{send_to:Se}))}})).apply(this,arguments)}function ka(){return(ka=(0,we.Z)(function*(){if(!(0,xe.hl)())return sn.warn(ki.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xe.eu)()}catch(E){return sn.warn(ki.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Mo(){return Mo=(0,we.Z)(function*(E,A,F,J,ve,Se,He){var Ft;const Nt=function ea(E){return Ss.apply(this,arguments)}(E);Nt.then(fs=>{F[fs.measurementId]=fs.appId,E.options.measurementId&&fs.measurementId!==E.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${fs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fs=>sn.error(fs)),A.push(Nt);const dn=function xo(){return ka.apply(this,arguments)}().then(fs=>{if(fs)return J.getId()}),[Ln,$n]=yield Promise.all([Nt,dn]);(function Xs(E){const A=window.document.getElementsByTagName("script");for(const F of Object.values(A))if(F.src&&F.src.includes(Ma)&&F.src.includes(E))return F;return null})(Se)||function pr(E,A){const F=function Ni(E,A){let F;return window.trustedTypes&&(F=window.trustedTypes.createPolicy(E,A)),F}("firebase-js-sdk-policy",{createScriptURL:di}),J=document.createElement("script"),ve=`${Ma}?l=${E}&id=${A}`;J.src=F?F?.createScriptURL(ve):ve,J.async=!0,document.head.appendChild(J)}(Se,Ln.measurementId),Pa&&(ve("consent","default",Pa),function Ya(E){Pa=E}(void 0)),ve("js",new Date);const co=null!==(Ft=He?.config)&&void 0!==Ft?Ft:{};return co[ao]="firebase",co.update=!0,null!=$n&&(co[rc]=$n),ve("config",Ln.measurementId,co),br&&(ve("set",br),function Ii(E){br=E}(void 0)),Ln.measurementId}),Mo.apply(this,arguments)}class Fu{constructor(A){this.app=A}_delete(){return delete _a[this.app.options.appId],Promise.resolve()}}let _a={},_=[];const v={};let N,z,m="dataLayer",T="gtag",Q=!1;function $t(E,A,F){!function tt(){const E=[];if((0,xe.ru)()&&E.push("This is a browser extension environment."),(0,xe.zI)()||E.push("Cookies are not available."),E.length>0){const A=E.map((J,ve)=>`(${ve+1}) ${J}`).join(" "),F=ki.create("invalid-analytics-context",{errorInfo:A});sn.warn(F.message)}}();const J=E.options.appId;if(!J)throw ki.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw ki.create("no-api-key");sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_a[J])throw ki.create("already-exists",{id:J});if(!Q){!function Jo(E){let A=[];Array.isArray(window[E])?A=window[E]:window[E]=A}(m);const{wrappedGtag:Se,gtagCore:He}=function Pu(E,A,F,J,ve){let Se=function(...He){window[J].push(arguments)};return window[ve]&&"function"==typeof window[ve]&&(Se=window[ve]),window[ve]=function Bo(E,A,F,J){function Se(){return Se=(0,we.Z)(function*(He,...Ft){try{if("event"===He){const[Nt,dn]=Ft;yield function Vs(E,A,F,J,ve){return du.apply(this,arguments)}(E,A,F,Nt,dn)}else if("config"===He){const[Nt,dn]=Ft;yield function hi(E,A,F,J,ve,Se){return Mt.apply(this,arguments)}(E,A,F,J,Nt,dn)}else if("consent"===He){const[Nt]=Ft;E("consent","update",Nt)}else if("get"===He){const[Nt,dn,Ln]=Ft;E("get",Nt,dn,Ln)}else if("set"===He){const[Nt]=Ft;E("set",Nt)}else E(He,...Ft)}catch(Nt){sn.error(Nt)}}),Se.apply(this,arguments)}return function ve(He){return Se.apply(this,arguments)}}(Se,E,A,F),{gtagCore:Se,wrappedGtag:window[ve]}}(_a,_,v,m,T);z=Se,N=He,Q=!0}return _a[J]=function ya(E,A,F,J,ve,Se,He){return Mo.apply(this,arguments)}(E,_,v,A,N,m,F),new Fu(E)}function Xi(){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,we.Z)(function*(){if((0,xe.ru)()||!(0,xe.zI)()||!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}const Fa="@firebase/analytics";!function fi(){(0,ne.Xd)(new le.wA(Wa,(A,{options:F})=>$t(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,ne.Xd)(new le.wA("analytics-internal",function E(A){try{const F=A.getProvider(Wa).getImmediate();return{logEvent:(J,ve,Se)=>function Oa(E,A,F,J){E=(0,xe.m9)(E),function ga(E,A,F,J,ve){return fu.apply(this,arguments)}(z,_a[E.app.options.appId],A,F,J).catch(ve=>sn.error(ve))}(F,J,ve,Se)}}catch(F){throw ki.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,ne.KN)(Fa,"0.10.0"),(0,ne.KN)(Fa,"0.10.0","esm2017")}();var La=Y(727);class $o extends La.w0{constructor(A,F){super()}schedule(A,F=0){return this}}const $s={setInterval(E,A,...F){const{delegate:J}=$s;return J?.setInterval?J.setInterval(E,A,...F):setInterval(E,A,...F)},clearInterval(E){const{delegate:A}=$s;return(A?.clearInterval||clearInterval)(E)},delegate:void 0};var fd=Y(8737);class oc extends $o{constructor(A,F){super(A,F),this.scheduler=A,this.work=F,this.pending=!1}schedule(A,F=0){var J;if(this.closed)return this;this.state=A;const ve=this.id,Se=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(Se,ve,F)),this.pending=!0,this.delay=F,this.id=null!==(J=this.id)&&void 0!==J?J:this.requestAsyncId(Se,this.id,F),this}requestAsyncId(A,F,J=0){return $s.setInterval(A.flush.bind(A,this),J)}recycleAsyncId(A,F,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return F;null!=F&&$s.clearInterval(F)}execute(A,F){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(A,F);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,F){let ve,J=!1;try{this.work(A)}catch(Se){J=!0,ve=Se||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),ve}unsubscribe(){if(!this.closed){const{id:A,scheduler:F}=this,{actions:J}=F;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fd.P)(J,this),null!=A&&(this.id=this.recycleAsyncId(F,A,null)),this.delay=null,super.unsubscribe()}}}const pd={now:()=>(pd.delegate||Date).now(),delegate:void 0};class uo{constructor(A,F=uo.now){this.schedulerActionCtor=A,this.now=F}schedule(A,F=0,J){return new this.schedulerActionCtor(this,A).schedule(J,F)}}uo.now=pd.now;class Li extends uo{constructor(A,F=uo.now){super(A,F),this.actions=[],this._active=!1}flush(A){const{actions:F}=this;if(this._active)return void F.push(A);let J;this._active=!0;do{if(J=A.execute(A.state,A.delay))break}while(A=F.shift());if(this._active=!1,J){for(;A=F.shift();)A.unsubscribe();throw J}}}const wa=new class va extends Li{}(class hs extends oc{constructor(A,F){super(A,F),this.scheduler=A,this.work=F}schedule(A,F=0){return F>0?super.schedule(A,F):(this.delay=F,this.state=A,this.scheduler.flush(this),this)}execute(A,F){return F>0||this.closed?super.execute(A,F):this._execute(A,F)}requestAsyncId(A,F,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(A,F,J):(A.flush(this),0)}}),Qa=new Li(oc);var Ia=Y(9751),ta=Y(8505),pu=Y(9468),Ea=Y(5363);const na=new w.GfV("7.6.1"),ra="__angularfire_symbol__analyticsIsSupportedValue",ia="__angularfire_symbol__analyticsIsSupported",Lc="__angularfire_symbol__remoteConfigIsSupportedValue",sa="__angularfire_symbol__remoteConfigIsSupported",gu="__angularfire_symbol__messagingIsSupportedValue",Lu="__angularfire_symbol__messagingIsSupported";function Vc(E,A,F){if(A){if(1===A.length)return A[0];const Se=A.filter(He=>He.app===F);if(1===Se.length)return Se[0]}return F.container.getProvider(E).getImmediate({optional:!0})}globalThis[ia]||(globalThis[ia]=Xi().then(E=>globalThis[ra]=E).catch(()=>globalThis[ra]=!1)),globalThis[Lu]||(globalThis[Lu]=Uo().then(E=>globalThis[gu]=E).catch(()=>globalThis[gu]=!1)),globalThis[sa]||(globalThis[sa]=Es().then(E=>globalThis[Lc]=E).catch(()=>globalThis[Lc]=!1));const Ja=(E,A)=>{const F=A?[A]:(0,g.C6)(),J=[];return F.forEach(ve=>{ve.container.getProvider(E).instances.forEach(He=>{J.includes(He)||J.push(He)})}),J};function jo(){}class Xa{constructor(A,F=wa){this.zone=A,this.delegate=F}now(){return this.delegate.now()}schedule(A,F,J){const ve=this.zone;return this.delegate.schedule(function(He){ve.runGuarded(()=>{A.apply(this,[He])})},F,J)}}class Dl{constructor(A){this.zone=A,this.task=null}call(A,F){const J=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jo,{},jo,jo)),F.pipe((0,ta.b)({next:J,complete:J,error:J})).subscribe(A).add(J)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oa=(()=>{class E{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new Xa(Zone.current)),this.insideAngular=F.run(()=>new Xa(Zone.current,Qa)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(F){return new(F||E)(w.LFG(w.R0b))},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ua(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Ei(E){return Ua().ngZone.run(()=>E())}function Ba(E){return Ua(),function ac(E){return function(F){return(F=F.lift(new Dl(E.ngZone))).pipe((0,pu.R)(E.outsideAngular),(0,Ea.Q)(E.insideAngular))}}(Ua())(E)}const Tl=(E,A)=>function(){const J=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),Ei(()=>E.apply(void 0,J))},eu=(E,A)=>function(){let F;const J=arguments;for(let Se=0;Se<arguments.length;Se++)"function"==typeof J[Se]&&(A&&(F||(F=Ei(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jo,{},jo,jo)))),J[Se]=Tl(J[Se],F));const ve=function bl(E){return Ua().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,J));if(!A){if(ve instanceof Ia.y){const Se=Ua();return ve.pipe((0,pu.R)(Se.outsideAngular),(0,Ea.Q)(Se.insideAngular))}return Ei(()=>ve)}return ve instanceof Ia.y?ve.pipe(Ba):ve instanceof Promise?Ei(()=>new Promise((Se,He)=>ve.then(Ft=>Ei(()=>Se(Ft)),Ft=>Ei(()=>He(Ft))))):"function"==typeof ve&&F?function(){return setTimeout(()=>{F&&"scheduled"===F.state&&F.invoke()},10),ve.apply(this,arguments)}:Ei(()=>ve)}},2090:(_n,lt,Y)=>{Y.d(lt,{$s:()=>Vr,BH:()=>et,L:()=>Ge,LL:()=>vt,P0:()=>Ct,Pz:()=>_t,Sg:()=>Et,UG:()=>dt,US:()=>le,ZR:()=>mt,aH:()=>ft,b$:()=>wn,eu:()=>Me,hl:()=>Ne,m9:()=>rr,ne:()=>Cn,pd:()=>hr,q4:()=>vn,ru:()=>Lt,tV:()=>fe,uI:()=>gt,vZ:()=>Jn,w1:()=>mn,xO:()=>ri,xb:()=>or,z$:()=>Ze,zI:()=>je,zd:()=>kr});const ne=function(ce){const L=[];let re=0;for(let H=0;H<ce.length;H++){let ee=ce.charCodeAt(H);ee<128?L[re++]=ee:ee<2048?(L[re++]=ee>>6|192,L[re++]=63&ee|128):55296==(64512&ee)&&H+1<ce.length&&56320==(64512&ce.charCodeAt(H+1))?(ee=65536+((1023&ee)<<10)+(1023&ce.charCodeAt(++H)),L[re++]=ee>>18|240,L[re++]=ee>>12&63|128,L[re++]=ee>>6&63|128,L[re++]=63&ee|128):(L[re++]=ee>>12|224,L[re++]=ee>>6&63|128,L[re++]=63&ee|128)}return L},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,L){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const re=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let ee=0;ee<ce.length;ee+=3){const Ie=ce[ee],oe=ee+1<ce.length,ue=oe?ce[ee+1]:0,te=ee+2<ce.length,Ee=te?ce[ee+2]:0;let Rt=(15&ue)<<2|Ee>>6,Ut=63&Ee;te||(Ut=64,oe||(Rt=64)),H.push(re[Ie>>2],re[(3&Ie)<<4|ue>>4],re[Rt],re[Ut])}return H.join("")},encodeString(ce,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(ce):this.encodeByteArray(ne(ce),L)},decodeString(ce,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(ce):function(ce){const L=[];let re=0,H=0;for(;re<ce.length;){const ee=ce[re++];if(ee<128)L[H++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Ie=ce[re++];L[H++]=String.fromCharCode((31&ee)<<6|63&Ie)}else if(ee>239&&ee<365){const te=((7&ee)<<18|(63&ce[re++])<<12|(63&ce[re++])<<6|63&ce[re++])-65536;L[H++]=String.fromCharCode(55296+(te>>10)),L[H++]=String.fromCharCode(56320+(1023&te))}else{const Ie=ce[re++],oe=ce[re++];L[H++]=String.fromCharCode((15&ee)<<12|(63&Ie)<<6|63&oe)}}return L.join("")}(this.decodeStringToByteArray(ce,L))},decodeStringToByteArray(ce,L){this.init_();const re=L?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let ee=0;ee<ce.length;){const Ie=re[ce.charAt(ee++)],ue=ee<ce.length?re[ce.charAt(ee)]:0;++ee;const Ee=ee<ce.length?re[ce.charAt(ee)]:64;++ee;const nt=ee<ce.length?re[ce.charAt(ee)]:64;if(++ee,null==Ie||null==ue||null==Ee||null==nt)throw new _e;H.push(Ie<<2|ue>>4),64!==Ee&&(H.push(ue<<4&240|Ee>>2),64!==nt&&H.push(Ee<<6&192|nt))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ge=function(ce){return function(ce){const L=ne(ce);return le.encodeByteArray(L,!0)}(ce).replace(/\./g,"")},fe=function(ce){try{return le.decodeString(ce,!0)}catch(L){console.error("base64Decode failed: ",L)}return null},Tt=()=>{try{return function pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ce=process.env.__FIREBASE_DEFAULTS__;return ce?JSON.parse(ce):void 0})()||(()=>{if(typeof document>"u")return;let ce;try{ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=ce&&fe(ce[1]);return L&&JSON.parse(L)})()}catch(ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ce}`)}},vn=ce=>{var L,re;return null===(re=null===(L=Tt())||void 0===L?void 0:L.emulatorHosts)||void 0===re?void 0:re[ce]},Ct=ce=>{const L=vn(ce);if(!L)return;const re=L.lastIndexOf(":");if(re<=0||re+1===L.length)throw new Error(`Invalid host ${L} with no separate hostname and port!`);const H=parseInt(L.substring(re+1),10);return"["===L[0]?[L.substring(1,re-1),H]:[L.substring(0,re),H]},ft=()=>{var ce;return null===(ce=Tt())||void 0===ce?void 0:ce.config},_t=ce=>{var L;return null===(L=Tt())||void 0===L?void 0:L[`_${ce}`]};class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,re)=>{this.resolve=L,this.reject=re})}wrapCallback(L){return(re,H)=>{re?this.reject(re):this.resolve(H),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(re):L(re,H))}}}function Et(ce,L){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=L||"demo-project",ee=ce.iat||0,Ie=ce.sub||ce.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:ee,exp:ee+3600,auth_time:ee,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[Ge(JSON.stringify({alg:"none",type:"JWT"})),Ge(JSON.stringify(oe)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function gt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function dt(){var ce;const L=null===(ce=Tt())||void 0===ce?void 0:ce.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Lt(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function wn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mn(){const ce=Ze();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function Ne(){try{return"object"==typeof indexedDB}catch{return!1}}function Me(){return new Promise((ce,L)=>{try{let re=!0;const H="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(H);ee.onsuccess=()=>{ee.result.close(),re||self.indexedDB.deleteDatabase(H),ce(!0)},ee.onupgradeneeded=()=>{re=!1},ee.onerror=()=>{var Ie;L((null===(Ie=ee.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(re){L(re)}})}function je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class mt extends Error{constructor(L,re,H){super(re),this.code=L,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(L,re,H){this.service=L,this.serviceName=re,this.errors=H}create(L,...re){const H=re[0]||{},ee=`${this.service}/${L}`,Ie=this.errors[L],oe=Ie?function Ot(ce,L){return ce.replace(an,(re,H)=>{const ee=L[H];return null!=ee?String(ee):`<${H}?>`})}(Ie,H):"Error";return new mt(ee,`${this.serviceName}: ${oe} (${ee}).`,H)}}const an=/\{\$([^}]+)}/g;function or(ce){for(const L in ce)if(Object.prototype.hasOwnProperty.call(ce,L))return!1;return!0}function Jn(ce,L){if(ce===L)return!0;const re=Object.keys(ce),H=Object.keys(L);for(const ee of re){if(!H.includes(ee))return!1;const Ie=ce[ee],oe=L[ee];if(ar(Ie)&&ar(oe)){if(!Jn(Ie,oe))return!1}else if(Ie!==oe)return!1}for(const ee of H)if(!re.includes(ee))return!1;return!0}function ar(ce){return null!==ce&&"object"==typeof ce}function ri(ce){const L=[];for(const[re,H]of Object.entries(ce))Array.isArray(H)?H.forEach(ee=>{L.push(encodeURIComponent(re)+"="+encodeURIComponent(ee))}):L.push(encodeURIComponent(re)+"="+encodeURIComponent(H));return L.length?"&"+L.join("&"):""}function kr(ce){const L={};return ce.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[ee,Ie]=H.split("=");L[decodeURIComponent(ee)]=decodeURIComponent(Ie)}}),L}function hr(ce){const L=ce.indexOf("?");if(!L)return"";const re=ce.indexOf("#",L);return ce.substring(L,re>0?re:void 0)}function Cn(ce,L){const re=new st(ce,L);return re.subscribe.bind(re)}class st{constructor(L,re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(()=>{L(this)}).catch(H=>{this.error(H)})}next(L){this.forEachObserver(re=>{re.next(L)})}error(L){this.forEachObserver(re=>{re.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,re,H){let ee;if(void 0===L&&void 0===re&&void 0===H)throw new Error("Missing Observer.");ee=function In(ce,L){if("object"!=typeof ce||null===ce)return!1;for(const re of L)if(re in ce&&"function"==typeof ce[re])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:re,complete:H},void 0===ee.next&&(ee.next=Tn),void 0===ee.error&&(ee.error=Tn),void 0===ee.complete&&(ee.complete=Tn);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Ie}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let re=0;re<this.observers.length;re++)this.sendOne(re,L)}sendOne(L,re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{re(this.observers[L])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tn(){}const cr=1e3,ii=2,_r=144e5,hn=.5;function Vr(ce,L=cr,re=ii){const H=L*Math.pow(re,ce),ee=Math.round(hn*H*(Math.random()-.5)*2);return Math.min(_r,H+ee)}function rr(ce){return ce&&ce._delegate?ce._delegate:ce}},5522:(_n,lt,Y)=>{Y.d(lt,{S:()=>at});var w=Y(5861),g=Y(433),we=Y(391),ne=Y(8256),xe=Y(254),le=Y(6557),_e=Y(6895);function ut(pe,wt){1&pe&&(ne.TgZ(0,"span",20),ne._uU(1," Title is mandatory. "),ne.qZA())}function Ge(pe,wt){1&pe&&(ne.TgZ(0,"span",20),ne._uU(1," Author is mandatory. "),ne.qZA())}function fe(pe,wt){1&pe&&(ne.TgZ(0,"span",20),ne._uU(1," Description is mandatory. "),ne.qZA())}function ge(pe,wt){1&pe&&(ne.TgZ(0,"span",20),ne._uU(1," Genre is mandatory. "),ne.qZA())}function Ke(pe,wt){1&pe&&(ne.TgZ(0,"span",20),ne._uU(1," Rating is mandatory "),ne.qZA())}let at=(()=>{class pe{constructor(ke,It,Tt,vn){this.backendService=ke,this.router=It,this.route=Tt,this.fb=vn,this.movie=new we.G,this.idFromRoute=null,this.saved=!1}ngOnInit(){this.form=this.fb.group({title:[null,{validators:g.kI.required}],author:[null,{validators:g.kI.required}],genre:[null,{validators:g.kI.required}],description:[null,{validators:g.kI.required}],img:[null],rating:[null,{validators:g.kI.required}],bookmarked:[!1],releaseDate:[null]}),this.route.paramMap.subscribe(ke=>{this.idFromRoute=ke.get("id")?ke.get("id"):null,console.log(this.idFromRoute),this.idFromRoute&&this.backendService.getMovie(this.idFromRoute).subscribe(It=>{this.movie=It,console.log(this.movie),this.form.patchValue(this.movie),console.log("title: "+this.movie.title)})})}get title(){return this.form.controls.title}get author(){return this.form.controls.author}get description(){return this.form.controls.description}get genre(){return this.form.controls.genre}get rating(){return this.form.controls.rating}selectImg(ke){const It=ke.target;It.files&&It.files[0]&&(this.file=It.files[0],console.log(this.file.name))}onSubmit(){var ke=this;return(0,w.Z)(function*(){ke.saved=!0;const It={...ke.form.value};if(ke.idFromRoute){const Tt=ke.backendService.createMovieID();if(ke.file){const vn="movies/"+Tt+"/"+ke.file.name;It.img=yield ke.backendService.uploadImg(vn,ke.file),console.log("test"),console.log("img: "+It.img)}else It.img=ke.movie.img;console.log(ke.idFromRoute),ke.backendService.updateMovie(It,ke.idFromRoute),yield ke.router.navigate(["/list"])}else ke.backendService.addMovie(It).subscribe(Tt=>{ke.router.navigate(["/list"])})})()}canDeactivate(){return!!this.saved||confirm("Do u want to discard changes made?")}cancel(){this.router.navigate(["list"])}static#e=this.\u0275fac=function(It){return new(It||pe)(ne.Y36(xe.v),ne.Y36(le.F0),ne.Y36(le.gz),ne.Y36(g.qu))};static#t=this.\u0275cmp=ne.Xpm({type:pe,selectors:[["app-add-movie"]],decls:39,vars:7,consts:[[1,"container","mt-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title",1,"form-control"],["class","help-block",4,"ngIf"],["for","author"],["type","text","id","author","formControlName","author",1,"form-control"],["for","description"],["type","text","id","description","formControlName","description",1,"form-control",2,"min-height","100px"],["for","genre"],["type","text","id","genre","formControlName","genre",1,"form-control"],["for","releaseDate"],["type","date","id","releaseDate","formControlName","releaseDate","placeholder","Enter Release date",1,"form-control"],["for","rating"],["type","number","min","0","max","5","id","rating","formControlName","rating","placeholder","Enter Rating",1,"form-control"],["for","img"],["type","file","id","img",1,"form-control",3,"change"],["type","button",1,"btn","btn_add_movie","m-2","float-end",3,"click"],["type","submit",1,"btn","btn_add_movie","m-2","float-end",3,"disabled"],[1,"help-block"]],template:function(It,Tt){1&It&&(ne.TgZ(0,"div",0)(1,"form",1),ne.NdJ("ngSubmit",function(){return Tt.onSubmit()}),ne.TgZ(2,"div",2)(3,"label",3),ne._uU(4,"Title"),ne.qZA(),ne._UZ(5,"input",4),ne.YNc(6,ut,2,0,"span",5),ne.qZA(),ne.TgZ(7,"div",2)(8,"label",6),ne._uU(9,"Author"),ne.qZA(),ne._UZ(10,"input",7),ne.YNc(11,Ge,2,0,"span",5),ne.qZA(),ne.TgZ(12,"div",2)(13,"label",8),ne._uU(14,"Description"),ne.qZA(),ne._UZ(15,"textarea",9),ne.YNc(16,fe,2,0,"span",5),ne.qZA(),ne.TgZ(17,"div",2)(18,"label",10),ne._uU(19,"Genre"),ne.qZA(),ne._UZ(20,"input",11),ne.YNc(21,ge,2,0,"span",5),ne.qZA(),ne.TgZ(22,"div",2)(23,"label",12),ne._uU(24,"Release date *"),ne.qZA(),ne._UZ(25,"input",13),ne.qZA(),ne.TgZ(26,"div",2)(27,"label",14),ne._uU(28,"Rating"),ne.qZA(),ne._UZ(29,"input",15),ne.YNc(30,Ke,2,0,"span",5),ne.qZA(),ne.TgZ(31,"div",2)(32,"label",16),ne._uU(33,"Image *"),ne.qZA(),ne.TgZ(34,"input",17),ne.NdJ("change",function(Ct){return Tt.selectImg(Ct)}),ne.qZA()(),ne.TgZ(35,"button",18),ne.NdJ("click",function(){return Tt.cancel()}),ne._uU(36,"Cancel"),ne.qZA(),ne.TgZ(37,"button",19),ne._uU(38,"Submit"),ne.qZA()()()),2&It&&(ne.xp6(1),ne.Q6J("formGroup",Tt.form),ne.xp6(5),ne.Q6J("ngIf",!Tt.title.valid&&Tt.title.touched),ne.xp6(5),ne.Q6J("ngIf",!Tt.author.valid&&Tt.author.touched),ne.xp6(5),ne.Q6J("ngIf",!Tt.description.valid&&Tt.description.touched),ne.xp6(5),ne.Q6J("ngIf",!Tt.genre.valid&&Tt.genre.touched),ne.xp6(9),ne.Q6J("ngIf",!Tt.rating.valid&&Tt.rating.touched),ne.xp6(7),ne.Q6J("disabled",!Tt.form.valid))},dependencies:[_e.O5,g._Y,g.Fj,g.wV,g.JJ,g.JL,g.qQ,g.Fd,g.sg,g.u]})}return pe})()},9730:(_n,lt,Y)=>{Y.d(lt,{u:()=>le});var w=Y(4004),g=Y(8256),we=Y(254),ne=Y(2891),xe=Y(6557);let le=(()=>{class _e{constructor(Ge,fe,ge){this.backend=Ge,this.authService=fe,this.router=ge}canActivate(Ge,fe){return console.log(this.authService.getUid()),this.backend.getAdmin(this.authService.getUid()).pipe((0,w.U)(ge=>!!ge))}canLoad(Ge){return this.backend.getAdmin(this.authService.getUid()).pipe((0,w.U)(fe=>!!fe||(this.router.navigate(["/login"]),!1)))}static#e=this.\u0275fac=function(fe){return new(fe||_e)(g.LFG(we.v),g.LFG(ne.e),g.LFG(xe.F0))};static#t=this.\u0275prov=g.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},2891:(_n,lt,Y)=>{Y.d(lt,{e:()=>xe});var w=Y(2309),g=Y(7579),we=Y(8256),ne=Y(6557);let xe=(()=>{class le{constructor(ut,Ge){this.router=ut,this.auth=Ge,this.id="",this.userActivated=new g.x,localStorage.getItem("token")&&(this.token=localStorage.getItem("token"))}login(ut,Ge){return(0,w.e5)(this.auth,ut,Ge).then(()=>this.auth.currentUser?.getIdToken().then(fe=>(this.token=fe,localStorage.setItem("username",ut),localStorage.setItem("token",fe),!0))).catch(fe=>(console.log(fe),!1))}signup(ut,Ge){return(0,w.Xb)(this.auth,ut,Ge).catch(fe=>(console.log(fe),fe)).then(()=>(console.log("success"),"success"))}isLoggedIn(){return null!=this.token}logout(){this.auth.signOut(),this.token=null,localStorage.removeItem("token"),localStorage.removeItem("username"),this.router.navigate(["login"])}getUid(){return this.auth.currentUser?.uid}activateUser(ut){this.userActivated.next(ut)}getEmails(){return this.auth.currentUser?this.auth.currentUser.email:""}static#e=this.\u0275fac=function(Ge){return new(Ge||le)(we.LFG(ne.F0),we.LFG(w.gx))};static#t=this.\u0275prov=we.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})()},254:(_n,lt,Y)=>{Y.d(lt,{v:()=>le});var w=Y(5861),g=Y(4102),we=Y(8032),ne=Y(8996),xe=Y(8256);let le=(()=>{class _e{constructor(Ge,fe){this.db=Ge,this.storage=fe}getMovies(){return(0,g.BS)((0,g.hJ)(this.db,"movies"),{idField:"id"})}getBookmarks(){return(0,g.BS)((0,g.IO)((0,g.hJ)(this.db,"movies"),(0,g.ar)("bookmarked","==",!0)))}getMovie(Ge){return(0,g._1)((0,g.JU)(this.db,"/movies/"+Ge))}addMovie(Ge){const fe=(0,g.hJ)(this.db,"/movies");return(0,ne.D)((0,g.ET)(fe,Ge))}updateMovie(Ge,fe){const ge=(0,g.JU)(this.db,"/movies/"+fe);return(0,ne.D)((0,g.r7)(ge,Ge))}uploadImg(Ge,fe){var ge=this;return(0,w.Z)(function*(){const Ke=(0,we.iH)(ge.storage,Ge);yield(0,we.B0)(Ke,fe);const pe=yield(0,we.Jt)(Ke);return console.log(pe),pe})()}createMovieID(){return Math.random().toString(36).substring(2)}deleteMovie(Ge){const fe=(0,g.JU)(this.db,"/movies/"+Ge);return(0,ne.D)((0,g.oe)(fe))}getAdmin(Ge){return(0,g._1)((0,g.JU)(this.db,"/administrators/"+Ge))}static#e=this.\u0275fac=function(fe){return new(fe||_e)(xe.LFG(g.gg),xe.LFG(we.Ke))};static#t=this.\u0275prov=xe.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},8339:(_n,lt,Y)=>{Y.d(lt,{G:()=>g});var w=Y(8256);let g=(()=>{class we{canDeactivate(xe,le,_e,ut){return xe.canDeactivate()}static#e=this.\u0275fac=function(le){return new(le||we)};static#t=this.\u0275prov=w.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})()},391:(_n,lt,Y)=>{Y.d(lt,{G:()=>w});class w{constructor(we,ne="",xe="",le="",_e="",ut=0,Ge="",fe=new Date,ge=!1){this.id=we,this.title=ne,this.author=xe,this.img=le,this.genre=_e,this.rating=ut,this.description=Ge,this.releaseDate=fe,this.bookmarked=ge}}},2932:(_n,lt,Y)=>{var w=Y(1481),g=Y(8256),we=Y(6895);function ne(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"a",12),g.NdJ("keyup.enter",function(){g.CHM(H),g.oxw(3);const Ie=g.MAs(1);return g.KtG(Ie.previous())})("click",function(){g.CHM(H),g.oxw(3);const Ie=g.MAs(1);return g.KtG(Ie.previous())}),g._uU(1),g.TgZ(2,"span",13),g._uU(3),g.qZA()()}if(2&L){const H=g.oxw(3);g.xp6(1),g.hij(" ",H.previousLabel," "),g.xp6(2),g.Oqu(H.screenReaderPageLabel)}}function xe(L,re){if(1&L&&(g.TgZ(0,"span",14),g._uU(1),g.TgZ(2,"span",13),g._uU(3),g.qZA()()),2&L){const H=g.oxw(3);g.xp6(1),g.hij(" ",H.previousLabel," "),g.xp6(2),g.Oqu(H.screenReaderPageLabel)}}function le(L,re){if(1&L&&(g.TgZ(0,"li",9),g.YNc(1,ne,4,2,"a",10),g.YNc(2,xe,4,2,"span",11),g.qZA()),2&L){g.oxw(2);const H=g.MAs(1);g.ekj("disabled",H.isFirstPage()),g.xp6(1),g.Q6J("ngIf",1<H.getCurrent()),g.xp6(1),g.Q6J("ngIf",H.isFirstPage())}}function _e(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"a",12),g.NdJ("keyup.enter",function(){g.CHM(H);const Ie=g.oxw().$implicit;g.oxw(2);const oe=g.MAs(1);return g.KtG(oe.setCurrent(Ie.value))})("click",function(){g.CHM(H);const Ie=g.oxw().$implicit;g.oxw(2);const oe=g.MAs(1);return g.KtG(oe.setCurrent(Ie.value))}),g.TgZ(1,"span",13),g._uU(2),g.qZA(),g.TgZ(3,"span"),g._uU(4),g.ALo(5,"number"),g.qZA()()}if(2&L){const H=g.oxw().$implicit,ee=g.oxw(2);g.xp6(2),g.hij("",ee.screenReaderPageLabel," "),g.xp6(2),g.Oqu("..."===H.label?H.label:g.xi3(5,2,H.label,""))}}function ut(L,re){if(1&L&&(g.ynx(0),g.TgZ(1,"span",16)(2,"span",13),g._uU(3),g.qZA(),g.TgZ(4,"span"),g._uU(5),g.ALo(6,"number"),g.qZA()(),g.BQk()),2&L){const H=g.oxw().$implicit,ee=g.oxw(2);g.xp6(3),g.hij("",ee.screenReaderCurrentLabel," "),g.xp6(2),g.Oqu("..."===H.label?H.label:g.xi3(6,2,H.label,""))}}function Ge(L,re){if(1&L&&(g.TgZ(0,"li"),g.YNc(1,_e,6,5,"a",10),g.YNc(2,ut,7,5,"ng-container",15),g.qZA()),2&L){const H=re.$implicit;g.oxw(2);const ee=g.MAs(1);g.ekj("current",ee.getCurrent()===H.value)("ellipsis","..."===H.label),g.xp6(1),g.Q6J("ngIf",ee.getCurrent()!==H.value),g.xp6(1),g.Q6J("ngIf",ee.getCurrent()===H.value)}}function fe(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"a",12),g.NdJ("keyup.enter",function(){g.CHM(H),g.oxw(3);const Ie=g.MAs(1);return g.KtG(Ie.next())})("click",function(){g.CHM(H),g.oxw(3);const Ie=g.MAs(1);return g.KtG(Ie.next())}),g._uU(1),g.TgZ(2,"span",13),g._uU(3),g.qZA()()}if(2&L){const H=g.oxw(3);g.xp6(1),g.hij(" ",H.nextLabel," "),g.xp6(2),g.Oqu(H.screenReaderPageLabel)}}function ge(L,re){if(1&L&&(g.TgZ(0,"span",14),g._uU(1),g.TgZ(2,"span",13),g._uU(3),g.qZA()()),2&L){const H=g.oxw(3);g.xp6(1),g.hij(" ",H.nextLabel," "),g.xp6(2),g.Oqu(H.screenReaderPageLabel)}}function Ke(L,re){if(1&L&&(g.TgZ(0,"li",17),g.YNc(1,fe,4,2,"a",10),g.YNc(2,ge,4,2,"span",11),g.qZA()),2&L){g.oxw(2);const H=g.MAs(1);g.ekj("disabled",H.isLastPage()),g.xp6(1),g.Q6J("ngIf",!H.isLastPage()),g.xp6(1),g.Q6J("ngIf",H.isLastPage())}}function at(L,re){if(1&L&&(g.TgZ(0,"ul",4),g.YNc(1,le,3,4,"li",5),g.TgZ(2,"li",6),g._uU(3),g.qZA(),g.YNc(4,Ge,3,6,"li",7),g.YNc(5,Ke,3,4,"li",8),g.qZA()),2&L){const H=g.oxw(),ee=g.MAs(1);g.ekj("responsive",H.responsive),g.xp6(1),g.Q6J("ngIf",H.directionLinks),g.xp6(2),g.AsE(" ",ee.getCurrent()," / ",ee.getLastPage()," "),g.xp6(1),g.Q6J("ngForOf",ee.pages)("ngForTrackBy",H.trackByIndex),g.xp6(1),g.Q6J("ngIf",H.directionLinks)}}class pe{constructor(){this.change=new g.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(re){return null==re.id&&(re.id=this.DEFAULT_ID),this.instances[re.id]?this.updateInstance(re):(this.instances[re.id]=re,!0)}updateInstance(re){let H=!1;for(let ee in this.instances[re.id])re[ee]!==this.instances[re.id][ee]&&(this.instances[re.id][ee]=re[ee],H=!0);return H}getCurrentPage(re){return this.instances[re]?this.instances[re].currentPage:1}setCurrentPage(re,H){if(this.instances[re]){let ee=this.instances[re];H<=Math.ceil(ee.totalItems/ee.itemsPerPage)&&1<=H&&(this.instances[re].currentPage=H,this.change.emit(re))}}setTotalItems(re,H){this.instances[re]&&0<=H&&(this.instances[re].totalItems=H,this.change.emit(re))}setItemsPerPage(re,H){this.instances[re]&&(this.instances[re].itemsPerPage=H,this.change.emit(re))}getInstance(re=this.DEFAULT_ID){return this.instances[re]?this.clone(this.instances[re]):{}}clone(re){var H={};for(var ee in re)re.hasOwnProperty(ee)&&(H[ee]=re[ee]);return H}}const wt=Number.MAX_SAFE_INTEGER;let ke=(()=>{class L{constructor(H){this.service=H,this.state={}}transform(H,ee){if(!(H instanceof Array)){let Rt=ee.id||this.service.defaultId();return this.state[Rt]?this.state[Rt].slice:H}let te,Ee,Ie=ee.totalItems&&ee.totalItems!==H.length,oe=this.createInstance(H,ee),ue=oe.id,Be=oe.itemsPerPage,nt=this.service.register(oe);if(!Ie&&H instanceof Array){if(Be=+Be||wt,te=(oe.currentPage-1)*Be,Ee=te+Be,this.stateIsIdentical(ue,H,te,Ee))return this.state[ue].slice;{let Ut=H.slice(te,Ee);return this.saveState(ue,H,Ut,te,Ee),this.service.change.emit(ue),Ut}}return nt&&this.service.change.emit(ue),this.saveState(ue,H,H,te,Ee),H}createInstance(H,ee){return this.checkConfig(ee),{id:null!=ee.id?ee.id:this.service.defaultId(),itemsPerPage:+ee.itemsPerPage||0,currentPage:+ee.currentPage||1,totalItems:+ee.totalItems||H.length}}checkConfig(H){const Ie=["itemsPerPage","currentPage"].filter(oe=>!(oe in H));if(0<Ie.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${Ie.join(", ")}`)}saveState(H,ee,Ie,oe,ue){this.state[H]={collection:ee,size:ee.length,slice:Ie,start:oe,end:ue}}stateIsIdentical(H,ee,Ie,oe){let ue=this.state[H];return!(!ue||ue.size!==ee.length||ue.start!==Ie||ue.end!==oe)&&ue.slice.every((Ee,Be)=>Ee===ee[Ie+Be])}}return L.\u0275fac=function(H){return new(H||L)(g.Y36(pe,16))},L.\u0275pipe=g.Yjl({name:"paginate",type:L,pure:!1}),L})(),vn=(()=>{class L{constructor(H,ee){this.service=H,this.changeDetectorRef=ee,this.maxSize=7,this.pageChange=new g.vpe,this.pageBoundsCorrection=new g.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(Ie=>{this.id===Ie&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(H){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(H){this.pageChange.emit(H)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let H=this.service.getInstance(this.id);return H.totalItems<1?1:Math.ceil(H.totalItems/H.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let H=this.service.getInstance(this.id);const ee=this.outOfBoundCorrection(H);ee!==H.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(ee),this.pages=this.createPageArray(H.currentPage,H.itemsPerPage,H.totalItems,this.maxSize)}):this.pages=this.createPageArray(H.currentPage,H.itemsPerPage,H.totalItems,this.maxSize)}outOfBoundCorrection(H){const ee=Math.ceil(H.totalItems/H.itemsPerPage);return ee<H.currentPage&&0<ee?ee:H.currentPage<1?1:H.currentPage}createPageArray(H,ee,Ie,oe){oe=+oe;let ue=[];const te=Math.max(Math.ceil(Ie/ee),1),Ee=Math.ceil(oe/2),Be=H<=Ee,nt=te-Ee<H,Rt=!Be&&!nt;let Ut=oe<te,Un=1;for(;Un<=te&&Un<=oe;){let gr,Ue=this.calculatePageNumber(Un,H,oe,te);gr=Ut&&(2===Un&&(Rt||nt)||Un===oe-1&&(Rt||Be))?"...":Ue,ue.push({label:gr,value:Ue}),Un++}return ue}calculatePageNumber(H,ee,Ie,oe){let ue=Math.ceil(Ie/2);return H===Ie?oe:1===H?H:Ie<oe?oe-ue<ee?oe-Ie+H:ue<ee?ee-ue+H:H:H}}return L.\u0275fac=function(H){return new(H||L)(g.Y36(pe),g.Y36(g.sBO))},L.\u0275dir=g.lG2({type:L,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[g.TTD]}),L})();function Ct(L){return!!L&&"false"!==L}let ft=(()=>{class L{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new g.vpe,this.pageBoundsCorrection=new g.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(H){this._directionLinks=Ct(H)}get autoHide(){return this._autoHide}set autoHide(H){this._autoHide=Ct(H)}get responsive(){return this._responsive}set responsive(H){this._responsive=Ct(H)}trackByIndex(H){return H}}return L.\u0275fac=function(H){return new(H||L)},L.\u0275cmp=g.Xpm({type:L,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(H,ee){if(1&H&&(g.TgZ(0,"pagination-template",0,1),g.NdJ("pageChange",function(oe){return ee.pageChange.emit(oe)})("pageBoundsCorrection",function(oe){return ee.pageBoundsCorrection.emit(oe)}),g.TgZ(2,"nav",2),g.YNc(3,at,6,8,"ul",3),g.qZA()()),2&H){const Ie=g.MAs(1);g.Q6J("id",ee.id)("maxSize",ee.maxSize),g.xp6(2),g.uIk("aria-label",ee.screenReaderPaginationLabel),g.xp6(1),g.Q6J("ngIf",!(ee.autoHide&&Ie.pages.length<=1))}},dependencies:[vn,we.O5,we.sg,we.JJ],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),L})(),_t=(()=>{class L{}return L.\u0275fac=function(H){return new(H||L)},L.\u0275mod=g.oAB({type:L}),L.\u0275inj=g.cJS({providers:[pe],imports:[[we.ez]]}),L})();var et=Y(6557),Et=Y(2891);function Ze(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"li",8)(1,"a",13),g._uU(2),g.qZA()(),g.TgZ(3,"li",8)(4,"a",14),g.NdJ("click",function(){g.CHM(H);const Ie=g.oxw();return g.KtG(Ie.onLogout())}),g._uU(5,"LogOut"),g.qZA()()}if(2&L){const H=g.oxw();g.xp6(2),g.hij("Welcome: ",H.user,"")}}function gt(L,re){1&L&&(g.TgZ(0,"li",8)(1,"a",15),g._uU(2,"Sign Up"),g.qZA()(),g.TgZ(3,"li",8)(4,"a",16),g._uU(5,"Login"),g.qZA()())}const dt=function(){return{exact:!0}};let Ht=(()=>{class L{constructor(H){this.auth_service=H,this.user=""}ngOnInit(){this.auth_service.userActivated.subscribe({next:H=>{this.user=H}}),this.user=localStorage.getItem("username")}onLogout(){this.auth_service.logout()}get authService(){return this.auth_service}ngOnDestroy(){this.auth_service.userActivated&&this.auth_service.userActivated.unsubscribe()}static#e=this.\u0275fac=function(ee){return new(ee||L)(g.Y36(Et.e))};static#t=this.\u0275cmp=g.Xpm({type:L,selectors:[["app-navbar"]],decls:17,vars:4,consts:[[1,"navbar","navbar-expand-lg","nav","navbar-dark"],[1,"container-fluid"],["routerLinkActive","active-nav","routerLink","",1,"navbar-brand","nav-text"],["src","assets/img/logo.jpg",1,"logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","m-2"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLinkActive","active-nav","routerLink","/movies",1,"nav-link","nav-text",3,"routerLinkActiveOptions"],["routerLinkActive","active-nav","routerLink","/list",1,"nav-link","nav-text"],[1,"navbar-nav","ms-auto"],[3,"ngIf"],[1,"nav-link","nav-text"],[1,"nav-link","nav-text",3,"click"],["routerLink","/signup","routerLinkActive","active",1,"nav-link","nav-text"],["routerLink","/login","routerLinkActive","active",1,"nav-link","nav-text"]],template:function(ee,Ie){1&ee&&(g.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),g._UZ(3,"img",3),g.qZA(),g.TgZ(4,"button",4),g._UZ(5,"span",5),g.qZA(),g.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),g._uU(10,"Movies"),g.qZA()(),g.TgZ(11,"li",8)(12,"a",10),g._uU(13,"Overview"),g.qZA()()(),g.TgZ(14,"ul",11),g.YNc(15,Ze,6,1,"ng-template",12),g.YNc(16,gt,6,0,"ng-template",12),g.qZA()()()()),2&ee&&(g.xp6(9),g.Q6J("routerLinkActiveOptions",g.DdM(3,dt)),g.xp6(6),g.Q6J("ngIf",Ie.authService.isLoggedIn()),g.xp6(1),g.Q6J("ngIf",!Ie.authService.isLoggedIn()))},dependencies:[we.O5,et.rH,et.Od],styles:[".nav-text[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-family:Shrinkhand,serif}.nav-link[_ngcontent-%COMP%]:hover, .active-nav[_ngcontent-%COMP%]{color:#c3073f}.nav[_ngcontent-%COMP%]{background-color:#1a1a1d}.nav-link[_ngcontent-%COMP%]{cursor:pointer}.logo[_ngcontent-%COMP%]{width:100%;height:75px}.navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-left:30px;margin-right:30px}.navbar-toggler[_ngcontent-%COMP%]{border-color:#c3073f}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url\\(\\d\\a \\ (\"data:image/svg+xml; charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(195, 7, 63, 0.8)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E\")}"]})}return L})(),Lt=(()=>{class L{constructor(){this.title="project"}static#e=this.\u0275fac=function(ee){return new(ee||L)};static#t=this.\u0275cmp=g.Xpm({type:L,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container-fluid"]],template:function(ee,Ie){1&ee&&(g.TgZ(0,"div",0),g._UZ(1,"app-navbar")(2,"router-outlet"),g.qZA())},dependencies:[et.lC,Ht]})}return L})();var wn=Y(3692);const Ve_firebase={apiKey:"AIzaSyAwoWRpe5hUlvKWfgeIUXXJqCeeUxk2t0w",authDomain:"movies-d069d.firebaseapp.com",projectId:"movies-d069d",storageBucket:"movies-d069d.appspot.com",messagingSenderId:"17118916115",appId:"1:17118916115:web:ccb39b39fcbb62b7add9e6",measurementId:"G-Q2T1F2LJK0"};var mn=Y(4102),Vt=Y(2309),qn=Y(8032),tn=Y(433);let Ne=(()=>{class L{constructor(H,ee){this.ref=H,this.renderer=ee}ngOnInit(){this.renderer.setStyle(this.ref.nativeElement,"font-style","italic")}static#e=this.\u0275fac=function(ee){return new(ee||L)(g.Y36(g.SBq),g.Y36(g.Qsj))};static#t=this.\u0275dir=g.lG2({type:L,selectors:[["","appCursive",""]]})}return L})(),Me=(()=>{class L{constructor(H){this.auth_service=H}ngOnInit(){}static#e=this.\u0275fac=function(ee){return new(ee||L)(g.Y36(Et.e))};static#t=this.\u0275cmp=g.Xpm({type:L,selectors:[["app-home"]],decls:9,vars:0,consts:[[1,"background"],[1,"container"],["appCursive","",1,"text-center","bg-text"],[1,""]],template:function(ee,Ie){1&ee&&(g._UZ(0,"div",0),g.TgZ(1,"div",1)(2,"div",2)(3,"h1",3),g._uU(4,"Movies"),g.qZA(),g.TgZ(5,"h3"),g._uU(6,"Create an account or Login to find your favorite movies."),g.qZA(),g.TgZ(7,"p"),g._uU(8,"Search for movies, add them to your bookmarks."),g.qZA()()())},dependencies:[Ne],styles:[".background[_ngcontent-%COMP%]{background-image:url(/assets/homeMovies.jpg);height:100%;min-height:625px;filter:blur(2px);-webkit-filter:blur(2px);background-position:center;background-repeat:no-repeat;background-size:cover}.bg-text[_ngcontent-%COMP%]{background-color:#000;background-color:#0006;color:#fff;font-weight:700;border:3px solid white;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;width:80%;padding:20px;text-align:center}@media only screen and (max-width: 1000px){.bg-text[_ngcontent-%COMP%]{background-color:#000;background-color:#0006;color:#fff;font-weight:700;border:3px solid white;position:absolute;top:65%;left:50%;transform:translate(-50%,-65%);z-index:2;width:80%;padding:20px;text-align:center}}@media only screen and (max-width: 400px){.bg-text[_ngcontent-%COMP%]{background-color:#000;background-color:#0006;color:#fff;font-weight:700;border:3px solid white;position:absolute;top:75%;left:50%;transform:translate(-50%,-75%);z-index:2;width:80%;padding:20px;text-align:center}}"]})}return L})();var je=Y(254);let $e=(()=>{class L{constructor(){this.enteredSearchValue="",this.searchTextChanged=new g.vpe}onSearchTextChanged(){this.searchTextChanged.emit(this.enteredSearchValue)}static#e=this.\u0275fac=function(ee){return new(ee||L)};static#t=this.\u0275cmp=g.Xpm({type:L,selectors:[["app-searchbar"]],outputs:{searchTextChanged:"searchTextChanged"},decls:2,vars:1,consts:[["role","search",1,"d-flex","search-field"],["type","text","name","search","placeholder","Search for a movie","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange","input"]],template:function(ee,Ie){1&ee&&(g.TgZ(0,"form",0)(1,"input",1),g.NdJ("ngModelChange",function(ue){return Ie.enteredSearchValue=ue})("input",function(){return Ie.onSearchTextChanged()}),g.qZA()()),2&ee&&(g.xp6(1),g.Q6J("ngModel",Ie.enteredSearchValue))},dependencies:[tn._Y,tn.Fj,tn.JJ,tn.JL,tn.On,tn.F],styles:[".search-field[_ngcontent-%COMP%]{margin:auto;width:50%}@media only screen and (max-width: 600px){.search-field[_ngcontent-%COMP%]{width:95%;min-width:300px}}"]})}return L})(),mt=(()=>{class L{transform(H){return new Array(H)}static#e=this.\u0275fac=function(ee){return new(ee||L)};static#t=this.\u0275pipe=g.Yjl({name:"toArray",type:L,pure:!0})}return L})(),vt=(()=>{class L{transform(H,ee,Ie){if(0===H.length||""===ee)return H;{const oe=[];for(const ue of H)ue[Ie].toLowerCase().includes(ee.toLowerCase())&&oe.push(ue);return oe}}static#e=this.\u0275fac=function(ee){return new(ee||L)};static#t=this.\u0275pipe=g.Yjl({name:"filter",type:L,pure:!1})}return L})();function Ot(L,re){if(1&L&&(g.TgZ(0,"p",9),g._uU(1),g.qZA()),2&L){const H=g.oxw();g.xp6(1),g.hij("Number of movies: ",H.movies.length,"")}}function an(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"button",10),g.NdJ("click",function(){g.CHM(H);const Ie=g.oxw();return g.KtG(Ie.toggle())}),g._uU(1,"Show Bookmarks"),g.qZA()}}function Gt(L,re){if(1&L&&(g.TgZ(0,"p",9),g._uU(1),g.qZA()),2&L){const H=g.oxw();g.xp6(1),g.hij("Number of movies: ",H.bookmarked.length,"")}}function xt(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"button",10),g.NdJ("click",function(){g.CHM(H);const Ie=g.oxw();return g.KtG(Ie.toggle())}),g._uU(1,"Show All Movies"),g.qZA()}}function ln(L,re){1&L&&(g.TgZ(0,"p"),g._uU(1,"No Movies found!"),g.qZA())}function Yt(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"i",20),g.NdJ("click",function(){g.CHM(H);const Ie=g.oxw().$implicit,oe=g.oxw(2);return g.KtG(oe.bookmark(Ie))}),g.qZA()}}function Vn(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"i",21),g.NdJ("click",function(){g.CHM(H);const Ie=g.oxw().$implicit,oe=g.oxw(2);return g.KtG(oe.bookmark(Ie))}),g.qZA()}}function zn(L,re){1&L&&(g.TgZ(0,"ul")(1,"li",22),g._UZ(2,"i",23),g.qZA()())}function Hn(L,re){if(1&L&&(g.ynx(0),g.TgZ(1,"div",12)(2,"div",13),g._UZ(3,"img",14),g.TgZ(4,"div",15),g.YNc(5,Yt,1,0,"i",16),g.YNc(6,Vn,1,0,"i",17),g.TgZ(7,"h4",18),g._uU(8),g.ALo(9,"slice"),g.qZA(),g.TgZ(10,"p"),g._uU(11),g.qZA(),g.TgZ(12,"p"),g._uU(13),g.qZA(),g.TgZ(14,"p",19),g._uU(15,"Rating: "),g.qZA(),g.YNc(16,zn,3,0,"ul",11),g.ALo(17,"toArray"),g.qZA()()(),g.BQk()),2&L){const H=re.$implicit;g.xp6(3),g.s9C("src",H.img?H.img:"assets/img/Image_not_found.jpg",g.LSH),g.s9C("routerLink",H.id),g.xp6(2),g.Q6J("ngIf",!H.bookmarked),g.xp6(1),g.Q6J("ngIf",H.bookmarked),g.xp6(2),g.hij("Title: ",g.Dn7(9,8,H.title,0,15),""),g.xp6(3),g.hij("Author: ",H.author,""),g.xp6(2),g.hij("Release date: ",H.releaseDate,""),g.xp6(3),g.Q6J("ngForOf",g.lcZ(17,12,H.rating))}}const Mn=function(L){return{itemsPerPage:12,currentPage:L}};function nr(L,re){if(1&L&&(g.TgZ(0,"div"),g.YNc(1,ln,2,0,"p",6),g.YNc(2,Hn,18,14,"ng-container",11),g.ALo(3,"paginate"),g.ALo(4,"filter"),g.qZA()),2&L){const H=g.oxw();g.xp6(1),g.Q6J("ngIf",0==H.bookmarked.length),g.xp6(1),g.Q6J("ngForOf",g.xi3(3,2,g.Dn7(4,5,H.bookmarked,H.filterStatus,"title"),g.VKq(9,Mn,H.p)))}}function or(L,re){1&L&&(g.TgZ(0,"p"),g._uU(1,"No Movies found!"),g.qZA())}function qt(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"i",20),g.NdJ("click",function(){g.CHM(H);const Ie=g.oxw().$implicit,oe=g.oxw(2);return g.KtG(oe.bookmark(Ie))}),g.qZA()}}function Jn(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"i",21),g.NdJ("click",function(){g.CHM(H);const Ie=g.oxw().$implicit,oe=g.oxw(2);return g.KtG(oe.bookmark(Ie))}),g.qZA()}}function ar(L,re){1&L&&(g.TgZ(0,"ul")(1,"li",22),g._UZ(2,"i",23),g.qZA()())}function vr(L,re){if(1&L&&(g.ynx(0),g.TgZ(1,"div",12)(2,"div",13),g._UZ(3,"img",14),g.TgZ(4,"div",15),g.YNc(5,qt,1,0,"i",16),g.YNc(6,Jn,1,0,"i",17),g.TgZ(7,"h4",18),g._uU(8),g.ALo(9,"slice"),g.qZA(),g.TgZ(10,"p"),g._uU(11),g.qZA(),g.TgZ(12,"p"),g._uU(13),g.qZA(),g.TgZ(14,"p",19),g._uU(15,"Rating: "),g.qZA(),g.YNc(16,ar,3,0,"ul",11),g.ALo(17,"toArray"),g.qZA()()(),g.BQk()),2&L){const H=re.$implicit;g.xp6(3),g.s9C("src",H.img?H.img:"assets/img/Image_not_found.jpg",g.LSH),g.s9C("routerLink",H.id),g.xp6(2),g.Q6J("ngIf",!H.bookmarked),g.xp6(1),g.Q6J("ngIf",H.bookmarked),g.xp6(2),g.hij("Title: ",g.Dn7(9,8,H.title,0,15),""),g.xp6(3),g.hij("Author: ",H.author,""),g.xp6(2),g.hij("Release date: ",H.releaseDate,""),g.xp6(3),g.Q6J("ngForOf",g.lcZ(17,12,H.rating))}}function ri(L,re){if(1&L&&(g.TgZ(0,"div"),g.YNc(1,or,2,0,"p",6),g.YNc(2,vr,18,14,"ng-container",11),g.ALo(3,"paginate"),g.ALo(4,"filter"),g.qZA()),2&L){const H=g.oxw();g.xp6(1),g.Q6J("ngIf",0==H.movies.length),g.xp6(1),g.Q6J("ngForOf",g.xi3(3,2,g.Dn7(4,5,H.movies,H.filterStatus,"title"),g.VKq(9,Mn,H.p)))}}let kr=(()=>{class L{constructor(H,ee){this.backendService=H,this.auth_service=ee,this.movies=[],this.bookmarked=[],this.showBookmarked=!1,this.p=1,this.filterStatus=""}ngOnInit(){this.movies=[],this.onGetMovies(),this.onGetBookmarks()}onGetMovies(){this.movieSubscription=this.backendService.getMovies().subscribe(H=>{this.movies=H})}onGetBookmarks(){this.movieSubscription=this.backendService.getBookmarks().subscribe(H=>{this.bookmarked=H})}bookmark(H){H.bookmarked?(H.bookmarked=!1,this.backendService.updateMovie(H,H.id)):(H.bookmarked=!0,this.backendService.updateMovie(H,H.id))}toggle(){this.showBookmarked=!this.showBookmarked}search(H){this.filterStatus=H}ngOnDestroy(){this.movieSubscription&&this.movieSubscription.unsubscribe()}static#e=this.\u0275fac=function(ee){return new(ee||L)(g.Y36(je.v),g.Y36(Et.e))};static#t=this.\u0275cmp=g.Xpm({type:L,selectors:[["app-movies"]],decls:13,vars:6,consts:[[1,"p-0","background-search"],[1,"search-div",3,"searchTextChanged"],[1,"container-fluid","mt-3","top"],["class","number_items",4,"ngIf"],["class","btn_add_movie",3,"click",4,"ngIf"],[1,"container-list"],[4,"ngIf"],[1,"text-center","mt-2"],[1,"my-pagination",3,"pageChange"],[1,"number_items"],[1,"btn_add_movie",3,"click"],[4,"ngFor","ngForOf"],[1,"movie-container"],[1,"movie-card"],["routerLinkActive","active","alt","",1,"card-img-top",3,"src","routerLink"],[1,"card-body"],["class","bi bi-bookmark icon-color float-end",3,"click",4,"ngIf"],["class","bi bi-bookmark-fill icon-color float-end",3,"click",4,"ngIf"],[1,"card-title","fw-bold"],[1,"float-start","rating"],[1,"bi","bi-bookmark","icon-color","float-end",3,"click"],[1,"bi","bi-bookmark-fill","icon-color","float-end",3,"click"],[1,"list-inline","float-start"],[1,"bi","bi-star-fill","icon-yellow"]],template:function(ee,Ie){1&ee&&(g.TgZ(0,"div",0)(1,"app-searchbar",1),g.NdJ("searchTextChanged",function(ue){return Ie.search(ue)}),g.qZA()(),g.TgZ(2,"div",2),g.YNc(3,Ot,2,1,"p",3),g.YNc(4,an,2,0,"button",4),g.YNc(5,Gt,2,1,"p",3),g.YNc(6,xt,2,0,"button",4),g.qZA(),g.TgZ(7,"div",5),g.YNc(8,nr,5,11,"div",6),g.YNc(9,ri,5,11,"div",6),g.qZA(),g.TgZ(10,"div",7)(11,"pagination-controls",8),g.NdJ("pageChange",function(ue){return Ie.p=ue}),g.qZA()(),g._UZ(12,"router-outlet")),2&ee&&(g.xp6(3),g.Q6J("ngIf",0!=Ie.movies.length&&!Ie.showBookmarked),g.xp6(1),g.Q6J("ngIf",!Ie.showBookmarked),g.xp6(1),g.Q6J("ngIf",0!=Ie.movies.length&&Ie.showBookmarked),g.xp6(1),g.Q6J("ngIf",Ie.showBookmarked),g.xp6(2),g.Q6J("ngIf",Ie.showBookmarked),g.xp6(1),g.Q6J("ngIf",!Ie.showBookmarked))},dependencies:[we.sg,we.O5,ft,et.lC,et.rH,et.Od,$e,we.OU,ke,mt,vt],styles:[".container-list[_ngcontent-%COMP%]{margin:5px 0;padding:10px;background-color:#fff;border-radius:5px;text-align:center}.movie-container[_ngcontent-%COMP%]{display:inline-flex}.movie-card[_ngcontent-%COMP%]{border:1px solid #b8b8bd;border-top-left-radius:6px;border-top-right-radius:6px;width:320px;min-height:340px;margin:10px;background-color:#f8f9f9;text-align:start}.movie-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-left-radius:6px;border-top-right-radius:6px;width:318px;height:200px;object-fit:cover;object-position:top}.movie-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:5px;padding-left:15px}.movie-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px}.card-body[_ngcontent-%COMP%]{padding:5px}.rating[_ngcontent-%COMP%]{margin-right:5px}.icon-yellow[_ngcontent-%COMP%]{color:gold}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#c3073f}"]})}return L})(),hr=(()=>{class L{constructor(H,ee,Ie){this.authService=H,this.router=ee,this.backend=Ie}canActivate(H,ee){return!!this.authService.isLoggedIn()||(this.router.navigate(["/login"]),!1)}canLoad(H){return!!this.authService.isLoggedIn()||(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(ee){return new(ee||L)(g.LFG(Et.e),g.LFG(et.F0),g.LFG(je.v))};static#t=this.\u0275prov=g.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})();var Zr=Y(391);function Cn(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"i",22),g.NdJ("click",function(){g.CHM(H);const Ie=g.oxw();return g.KtG(Ie.bookmark(Ie.movie))}),g.qZA()}}function st(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"i",23),g.NdJ("click",function(){g.CHM(H);const Ie=g.oxw();return g.KtG(Ie.bookmark(Ie.movie))}),g.qZA()}}let Zt=(()=>{class L{constructor(H,ee,Ie,oe){this.backendService=H,this.router=ee,this.route=Ie,this.fb=oe,this.movie=new Zr.G,this.id="",this.idFromRoute=null,this.editable=!1,this.saved=!1}ngOnInit(){this.saved=!1,this.form=this.fb.group({title:[null],author:[null],genre:[null],description:[null],img:[""],rating:[null],bookmarked:[!1],releaseDate:[null]}),this.route.paramMap.subscribe(H=>{this.idFromRoute=H.get("id")?H.get("id"):null,this.idFromRoute&&this.backendService.getMovie(this.idFromRoute).subscribe(ee=>{this.movie=ee,this.form.patchValue(this.movie)})})}bookmark(H){H.bookmarked?(H.bookmarked=!1,this.backendService.updateMovie(H,H.id)):(H.bookmarked=!0,this.backendService.updateMovie(H,H.id))}static#e=this.\u0275fac=function(ee){return new(ee||L)(g.Y36(je.v),g.Y36(et.F0),g.Y36(et.gz),g.Y36(tn.qu))};static#t=this.\u0275cmp=g.Xpm({type:L,selectors:[["app-movie-detail"]],decls:33,vars:10,consts:[[1,"container","mt-2"],[1,"row","p-3"],[1,"col-lg-4","col-md-12","col-sm-12","text-center","mt-3"],[1,"img-thumbnail",2,"max-height","450px","max-width","400px",3,"src"],[1,"col-lg-8","col-md-12","col-sm-12","layout"],["class","bi bi-bookmark icon-color float-end",3,"click",4,"ngIf"],["class","bi bi-bookmark-fill icon-color float-end",3,"click",4,"ngIf"],[3,"formGroup"],[1,"form-group","mt-4"],["for","title"],["type","text","id","title","formControlName","title",1,"form-control",3,"readOnly"],[1,"form-group"],["for","author"],["type","text","id","author","formControlName","author",1,"form-control",3,"readOnly"],["for","description"],["type","text","id","description","formControlName","description",1,"form-control",2,"min-height","100px",3,"readOnly"],["for","genre"],["type","text","id","genre","formControlName","genre",1,"form-control",3,"readOnly"],["for","releaseDate"],["type","date","id","releaseDate","formControlName","releaseDate","placeholder","Enter Release date",1,"form-control",3,"readOnly"],["for","rating"],["type","number","min","0","max","5","id","rating","formControlName","rating","placeholder","Enter Rating",1,"form-control",3,"readOnly"],[1,"bi","bi-bookmark","icon-color","float-end",3,"click"],[1,"bi","bi-bookmark-fill","icon-color","float-end",3,"click"]],template:function(ee,Ie){1&ee&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2),g._UZ(3,"img",3),g.qZA(),g.TgZ(4,"div",4),g.YNc(5,Cn,1,0,"i",5),g.YNc(6,st,1,0,"i",6),g.TgZ(7,"form",7)(8,"div",8)(9,"label",9),g._uU(10,"Title"),g.qZA(),g._UZ(11,"input",10),g.qZA(),g.TgZ(12,"div",11)(13,"label",12),g._uU(14,"Author"),g.qZA(),g._UZ(15,"input",13),g.qZA(),g.TgZ(16,"div",11)(17,"label",14),g._uU(18,"Description"),g.qZA(),g._UZ(19,"textarea",15),g.qZA(),g.TgZ(20,"div",11)(21,"label",16),g._uU(22,"Genre"),g.qZA(),g._UZ(23,"input",17),g.qZA(),g.TgZ(24,"div",11)(25,"label",18),g._uU(26,"Release date"),g.qZA(),g._UZ(27,"input",19),g.qZA(),g.TgZ(28,"div",11)(29,"label",20),g._uU(30,"Rating"),g.qZA(),g._UZ(31,"input",21),g.qZA()()()()(),g._UZ(32,"router-outlet")),2&ee&&(g.xp6(3),g.s9C("src",Ie.movie.img?Ie.movie.img:"assets/img/Image_not_found.jpg",g.LSH),g.xp6(2),g.Q6J("ngIf",!1===Ie.movie.bookmarked),g.xp6(1),g.Q6J("ngIf",!0===Ie.movie.bookmarked),g.xp6(1),g.Q6J("formGroup",Ie.form),g.xp6(4),g.Q6J("readOnly",!Ie.editable),g.xp6(4),g.Q6J("readOnly",!Ie.editable),g.xp6(4),g.Q6J("readOnly",!Ie.editable),g.xp6(4),g.Q6J("readOnly",!Ie.editable),g.xp6(4),g.Q6J("readOnly",!Ie.editable),g.xp6(4),g.Q6J("readOnly",!Ie.editable))},dependencies:[we.O5,et.lC,tn._Y,tn.Fj,tn.wV,tn.JJ,tn.JL,tn.qQ,tn.Fd,tn.sg,tn.u],styles:[".layout[_ngcontent-%COMP%]{margin-top:0}.floating[_ngcontent-%COMP%]{float:end}.icon-color[_ngcontent-%COMP%]{color:#c3073f;font-size:36px;margin-left:10px;margin-right:10px}.icon-color-delete[_ngcontent-%COMP%]{color:#1a1a1d;font-size:34px;margin-left:10px;margin-right:10px;cursor:pointer}.icon-color-edit[_ngcontent-%COMP%]{color:#c3073f;font-size:36px;cursor:pointer}.icon-color-edit-false[_ngcontent-%COMP%]{color:#1a1a1d;font-size:36px;cursor:pointer}.info-div[_ngcontent-%COMP%]{margin-top:5px;border-radius:5px;//background-color: #FFC107;padding-left:5px;font-size:20px;color:#1a1a1d}.info-div-yes[_ngcontent-%COMP%]{margin-top:5px;border-radius:5px;//background-color: #28A745;padding-left:5px;font-size:20px;color:#1a1a1d}.detail_editable_info[_ngcontent-%COMP%], .detail_editable_info_yes[_ngcontent-%COMP%]{text-align:center}.preview_image[_ngcontent-%COMP%]{margin-top:5px;max-height:450px;object-fit:scale-down;cursor:pointer}"]})}return L})();var In=Y(5522),Tn=Y(9730),Gn=Y(8339);function Gr(L,re){if(1&L){const H=g.EpF();g.TgZ(0,"li",6)(1,"div",2)(2,"div",12),g._UZ(3,"img",13),g.qZA(),g.TgZ(4,"div",9)(5,"div",2),g._uU(6),g.ALo(7,"slice"),g.qZA(),g.TgZ(8,"div",2),g._uU(9),g.qZA(),g.TgZ(10,"div",2),g._uU(11),g.qZA()(),g.TgZ(12,"div",9)(13,"button",14),g._UZ(14,"i",15),g.qZA(),g.TgZ(15,"button",16),g.NdJ("click",function(){const oe=g.CHM(H).$implicit,ue=g.oxw();return g.KtG(ue.deleteMovie(oe))}),g._UZ(16,"i",17),g.qZA()()()()}if(2&L){const H=re.$implicit;g.xp6(3),g.s9C("src",H.img,g.LSH),g.xp6(3),g.hij(" ",g.Dn7(7,5,H.title,0,15)," "),g.xp6(3),g.hij(" ",H.author," "),g.xp6(2),g.hij(" ",H.releaseDate," "),g.xp6(2),g.MGl("routerLink","",H.id,"/edit")}}const Sn=function(L){return{itemsPerPage:7,currentPage:L}};let zr=(()=>{class L{constructor(H,ee,Ie){this.backendService=H,this.auth_service=ee,this.router=Ie,this.movies=[],this.p=1,this.id=null,this.filterStatus=""}ngOnInit(){this.onGetMovies()}onGetMovies(){this.movieSubscription=this.backendService.getMovies().subscribe(H=>{console.log(H),this.movies=H})}deleteMovie(H){this.id=H.id?H.id:null,confirm(`Are u sure u want to delete movie: ${H.title}? Actions can't be undone!`)&&(this.backendService.deleteMovie(this.id),this.router.navigate(["list"]))}addMovie(){this.router.navigate(["addMovie"])}ngOnDestroy(){this.movieSubscription&&this.movieSubscription.unsubscribe()}static#e=this.\u0275fac=function(ee){return new(ee||L)(g.Y36(je.v),g.Y36(Et.e),g.Y36(et.F0))};static#t=this.\u0275cmp=g.Xpm({type:L,selectors:[["app-list"]],decls:17,vars:11,consts:[[1,"btn_add_movie","float-end","me-5","mt-2","mb-2",3,"click"],[1,"container-fluid"],[1,"row"],[1,"col-md-6"],[1,"list-group","p"],[1,"list-group-item",2,"font-size","22px"],[1,"list-group-item"],["placeholder","Search a movie title",1,"form-control",3,"ngModel","ngModelChange"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"col"],[1,"text-center","mt-5"],[1,"my-pagination",3,"pageChange"],[1,"col","col-lg-4"],[1,"overview-img","img-thumbnail","mt-1",3,"src"],[1,"btn","btn-overview","float-end",3,"routerLink"],[1,"bi","bi-pencil-square"],[1,"btn","btn-overview","float-end",3,"click"],[1,"bi","bi-trash3-fill"]],template:function(ee,Ie){1&ee&&(g.TgZ(0,"button",0),g.NdJ("click",function(){return Ie.addMovie()}),g._uU(1,"Add Movie"),g.qZA(),g.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"ul",4)(6,"li",5),g._uU(7,"Overview of all movies"),g.qZA(),g.TgZ(8,"li",6)(9,"input",7),g.NdJ("ngModelChange",function(ue){return Ie.filterStatus=ue}),g.qZA()(),g.YNc(10,Gr,17,9,"li",8),g.ALo(11,"paginate"),g.ALo(12,"filter"),g.qZA()(),g.TgZ(13,"div",9),g._UZ(14,"router-outlet"),g.qZA()()(),g.TgZ(15,"div",10)(16,"pagination-controls",11),g.NdJ("pageChange",function(ue){return Ie.p=ue}),g.qZA()()),2&ee&&(g.xp6(9),g.Q6J("ngModel",Ie.filterStatus),g.xp6(1),g.Q6J("ngForOf",g.xi3(11,2,g.Dn7(12,5,Ie.movies,Ie.filterStatus,"title"),g.VKq(9,Sn,Ie.p))))},dependencies:[we.sg,ft,et.lC,et.rH,tn.Fj,tn.JJ,tn.On,we.OU,ke,vt],styles:[".btn-overview[_ngcontent-%COMP%]{min-width:20px;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;background-color:#c3073f;color:#fff;padding:6px 10px;font-size:16px;cursor:pointer;border-radius:6px;margin:2px}.overview-img[_ngcontent-%COMP%]{width:75px;height:85px;margin-right:15px}.p[_ngcontent-%COMP%]{padding-left:50px;padding-right:50px}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#c3073f}"]})}return L})();function Yn(L,re){1&L&&(g.TgZ(0,"div",13),g._uU(1," Password and or username invalid "),g.qZA())}let pi=(()=>{class L{constructor(H,ee){this.authService=H,this.router=ee,this.invalidLogin=!1,this.boolEmitter=new g.vpe,this.email=""}ngOnInit(){this.invalidLogin=!1}onLogin(H){this.authService.login(H.value.email,H.value.passwd).then(oe=>{oe?(this.invalidLogin=!1,this.boolEmitter.emit(!1),this.email=localStorage.getItem("username"),this.authService.activateUser(this.email),this.router.navigate(["movies"])):(this.invalidLogin=!0,this.boolEmitter.emit(!0))})}goTo(){this.router.navigate(["signup"])}static#e=this.\u0275fac=function(ee){return new(ee||L)(g.Y36(Et.e),g.Y36(et.F0))};static#t=this.\u0275cmp=g.Xpm({type:L,selectors:[["app-login"]],outputs:{boolEmitter:"boolEmitter"},decls:21,vars:1,consts:[[1,"row","justify-content-center","m-5"],[1,"col-md-8"],[3,"ngSubmit"],["f","ngForm"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","email"],["type","email","name","email","id","email","ngModel","",1,"form-control"],["for","passwd"],["type","password","name","passwd","id","passwd","ngModel","",1,"form-control"],[1,"text-center","mt-2"],["type","submit",1,"btn","btn_add_movie","mt-1"],[1,"btn","btn_add_movie","mt-1",3,"click"],[1,"alert","alert-danger"]],template:function(ee,Ie){if(1&ee){const oe=g.EpF();g.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),g.NdJ("ngSubmit",function(){g.CHM(oe);const te=g.MAs(3);return g.KtG(Ie.onLogin(te))}),g.YNc(4,Yn,2,0,"div",4),g.TgZ(5,"div",5)(6,"label",6),g._uU(7,"Email"),g.qZA(),g._UZ(8,"input",7),g.qZA(),g.TgZ(9,"div",5)(10,"label",8),g._uU(11,"Password"),g.qZA(),g._UZ(12,"input",9),g.qZA(),g.TgZ(13,"div",10)(14,"button",11),g._uU(15,"Log in"),g.qZA()(),g.TgZ(16,"div",10)(17,"p"),g._uU(18,"Not registered?"),g.qZA(),g.TgZ(19,"button",12),g.NdJ("click",function(){return Ie.goTo()}),g._uU(20,"Create Account"),g.qZA()()()()()}2&ee&&(g.xp6(4),g.Q6J("ngIf",Ie.invalidLogin))},dependencies:[we.O5,tn._Y,tn.Fj,tn.JJ,tn.JL,tn.On,tn.F]})}return L})();const Nn=[{path:"",component:Me},{path:"movies",component:kr,canActivate:[hr]},{path:"movies/:id",component:Zt,canActivate:[hr]},{path:"addMovie",loadChildren:()=>Y.e(900).then(Y.bind(Y,3900)).then(L=>L.AddMovieModule),canLoad:[Tn.u]},{path:"list",component:zr,canActivate:[Tn.u],children:[{path:":id/edit",component:In.S,canDeactivate:[Gn.G]}]},{path:"**",component:pi}];let Yr=(()=>{class L{static#e=this.\u0275fac=function(ee){return new(ee||L)};static#t=this.\u0275mod=g.oAB({type:L});static#n=this.\u0275inj=g.cJS({imports:[we.ez,et.Bz.forRoot(Nn),et.Bz]})}return L})();function cr(L,re){1&L&&(g.TgZ(0,"span",11),g._uU(1," Email taken, "),g.qZA())}function ii(L,re){if(1&L&&(g.TgZ(0,"span",11),g.YNc(1,cr,2,0,"span",6),g._uU(2," Enter a valid email "),g.qZA()),2&L){const H=g.oxw();g.xp6(1),g.Q6J("ngIf",null==H.email.errors?null:H.email.errors.emailTaken)}}function _r(L,re){1&L&&(g.TgZ(0,"span",11),g._uU(1," Password must contain one digit from 1 to 9, one lowercase letter, one uppercase letter, one special character, no space, and it must be 6-16 characters! "),g.qZA())}function hn(L,re){if(1&L&&(g.TgZ(0,"span",11),g.YNc(1,_r,2,0,"span",6),g._uU(2," Password is required "),g.qZA()),2&L){const H=g.oxw();g.xp6(1),g.Q6J("ngIf",null==H.password.errors?null:H.password.errors.invalidFormat)}}const Bn=[{path:"signup",component:(()=>{class L{constructor(H,ee,Ie,oe){this.authService=H,this.router=ee,this.fb=Ie,this.firestore=oe,this.regEx=/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*\W)(?!.* ).{6,16}$/}ngOnInit(){this.form=this.fb.group({email:[null,{validators:[tn.kI.required,tn.kI.email],asyncValidators:[this.emailTaken],updateOn:"change"}],password:[null,{validators:[tn.kI.required,this.validPassword.bind(this)]}]})}onSignup(){this.authService.signup(this.form.value.email,this.form.value.password).then(H=>{"success"==H?this.router.navigate(["/movies"]):alert(H)})}get email(){return this.form.controls.email}get password(){return this.form.controls.password}validPassword(H){return H.value?this.regEx.test(H.value)?null:{invalidFormat:!0}:null}emailTaken(H){return new Promise((Ie,oe)=>{setTimeout(()=>{Ie("admin@admin.com"===H.value?{emailTaken:!0}:null)},1e3)})}static#e=this.\u0275fac=function(ee){return new(ee||L)(g.Y36(Et.e),g.Y36(et.F0),g.Y36(tn.qu),g.Y36(mn.gg))};static#t=this.\u0275cmp=g.Xpm({type:L,selectors:[["app-signup"]],decls:16,vars:4,consts:[[1,"row","justify-content-center","m-5"],[1,"col-8"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","name","email","id","email","formControlName","email",1,"form-control"],["class","error-message",4,"ngIf"],["for","password"],["type","password","name","password","id","password","minlength","6","formControlName","password",1,"form-control"],[1,"text-center","mt-2"],["type","submit",1,"btn","btn_add_movie","mt-1",3,"disabled"],[1,"error-message"]],template:function(ee,Ie){1&ee&&(g.TgZ(0,"div",0)(1,"div",1)(2,"form",2),g.NdJ("ngSubmit",function(){return Ie.onSignup()}),g.TgZ(3,"div",3)(4,"label",4),g._uU(5,"Email"),g.qZA(),g._UZ(6,"input",5),g.YNc(7,ii,3,1,"span",6),g.qZA(),g.TgZ(8,"div",3)(9,"label",7),g._uU(10,"Password"),g.qZA(),g._UZ(11,"input",8),g.YNc(12,hn,3,1,"span",6),g.qZA(),g.TgZ(13,"div",9)(14,"button",10),g._uU(15,"Sign Up"),g.qZA()()()()()),2&ee&&(g.xp6(2),g.Q6J("formGroup",Ie.form),g.xp6(5),g.Q6J("ngIf",!Ie.email.valid&&Ie.email.touched),g.xp6(5),g.Q6J("ngIf",!Ie.password.valid&&Ie.password.touched),g.xp6(2),g.Q6J("disabled",!Ie.form.valid))},dependencies:[we.O5,tn._Y,tn.Fj,tn.JJ,tn.JL,tn.wO,tn.sg,tn.u],styles:[".error-message[_ngcontent-%COMP%]{color:red;font-style:italic}"]})}return L})()},{path:"login",component:pi}];let zt=(()=>{class L{static#e=this.\u0275fac=function(ee){return new(ee||L)};static#t=this.\u0275mod=g.oAB({type:L});static#n=this.\u0275inj=g.cJS({imports:[et.Bz.forChild(Bn),et.Bz]})}return L})(),rr=(()=>{class L{static#e=this.\u0275fac=function(ee){return new(ee||L)};static#t=this.\u0275mod=g.oAB({type:L});static#n=this.\u0275inj=g.cJS({imports:[we.ez,tn.u5,zt,tn.UX]})}return L})(),ce=(()=>{class L{static#e=this.\u0275fac=function(ee){return new(ee||L)};static#t=this.\u0275mod=g.oAB({type:L,bootstrap:[Lt]});static#n=this.\u0275inj=g.cJS({imports:[w.b2,_t,rr,Yr,(0,wn.hX)(()=>(0,wn.ZF)(Ve_firebase)),(0,mn.Cm)(()=>(0,mn.ad)()),(0,Vt.AR)(()=>(0,Vt.v0)()),(0,qn.Vq)(()=>(0,qn.cF)()),tn.u5,tn.UX]})}return L})();w.q6().bootstrapModule(ce).catch(L=>console.error(L))},9751:(_n,lt,Y)=>{Y.d(lt,{y:()=>ut});var w=Y(2961),g=Y(727),we=Y(8822),ne=Y(9635),xe=Y(2416),le=Y(576),_e=Y(2806);let ut=(()=>{class Ke{constructor(pe){pe&&(this._subscribe=pe)}lift(pe){const wt=new Ke;return wt.source=this,wt.operator=pe,wt}subscribe(pe,wt,ke){const It=function ge(Ke){return Ke&&Ke instanceof w.Lv||function fe(Ke){return Ke&&(0,le.m)(Ke.next)&&(0,le.m)(Ke.error)&&(0,le.m)(Ke.complete)}(Ke)&&(0,g.Nn)(Ke)}(pe)?pe:new w.Hp(pe,wt,ke);return(0,_e.x)(()=>{const{operator:Tt,source:vn}=this;It.add(Tt?Tt.call(It,vn):vn?this._subscribe(It):this._trySubscribe(It))}),It}_trySubscribe(pe){try{return this._subscribe(pe)}catch(wt){pe.error(wt)}}forEach(pe,wt){return new(wt=Ge(wt))((ke,It)=>{const Tt=new w.Hp({next:vn=>{try{pe(vn)}catch(Ct){It(Ct),Tt.unsubscribe()}},error:It,complete:ke});this.subscribe(Tt)})}_subscribe(pe){var wt;return null===(wt=this.source)||void 0===wt?void 0:wt.subscribe(pe)}[we.L](){return this}pipe(...pe){return(0,ne.U)(pe)(this)}toPromise(pe){return new(pe=Ge(pe))((wt,ke)=>{let It;this.subscribe(Tt=>It=Tt,Tt=>ke(Tt),()=>wt(It))})}}return Ke.create=at=>new Ke(at),Ke})();function Ge(Ke){var at;return null!==(at=Ke??xe.v.Promise)&&void 0!==at?at:Promise}},7579:(_n,lt,Y)=>{Y.d(lt,{x:()=>_e});var w=Y(9751),g=Y(727);const ne=(0,Y(3888).d)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=Y(8737),le=Y(2806);let _e=(()=>{class Ge extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const Ke=new ut(this,this);return Ke.operator=ge,Ke}_throwIfClosed(){if(this.closed)throw new ne}next(ge){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ke of this.currentObservers)Ke.next(ge)}})}error(ge){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:Ke}=this;for(;Ke.length;)Ke.shift().error(ge)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:Ke,isStopped:at,observers:pe}=this;return Ke||at?g.Lc:(this.currentObservers=null,pe.push(ge),new g.w0(()=>{this.currentObservers=null,(0,xe.P)(pe,ge)}))}_checkFinalizedStatuses(ge){const{hasError:Ke,thrownError:at,isStopped:pe}=this;Ke?ge.error(at):pe&&ge.complete()}asObservable(){const ge=new w.y;return ge.source=this,ge}}return Ge.create=(fe,ge)=>new ut(fe,ge),Ge})();class ut extends _e{constructor(fe,ge){super(),this.destination=fe,this.source=ge}next(fe){var ge,Ke;null===(Ke=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===Ke||Ke.call(ge,fe)}error(fe){var ge,Ke;null===(Ke=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===Ke||Ke.call(ge,fe)}complete(){var fe,ge;null===(ge=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===ge||ge.call(fe)}_subscribe(fe){var ge,Ke;return null!==(Ke=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(fe))&&void 0!==Ke?Ke:g.Lc}}},2961:(_n,lt,Y)=>{Y.d(lt,{Hp:()=>ke,Lv:()=>Ke});var w=Y(576),g=Y(727),we=Y(2416),ne=Y(7849);function xe(){}const le=Ge("C",void 0,void 0);function Ge(ft,_t,et){return{kind:ft,value:_t,error:et}}var fe=Y(3410),ge=Y(2806);class Ke extends g.w0{constructor(_t){super(),this.isStopped=!1,_t?(this.destination=_t,(0,g.Nn)(_t)&&_t.add(this)):this.destination=Ct}static create(_t,et,Et){return new ke(_t,et,Et)}next(_t){this.isStopped?vn(function ut(ft){return Ge("N",ft,void 0)}(_t),this):this._next(_t)}error(_t){this.isStopped?vn(function _e(ft){return Ge("E",void 0,ft)}(_t),this):(this.isStopped=!0,this._error(_t))}complete(){this.isStopped?vn(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_t){this.destination.next(_t)}_error(_t){try{this.destination.error(_t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function pe(ft,_t){return at.call(ft,_t)}class wt{constructor(_t){this.partialObserver=_t}next(_t){const{partialObserver:et}=this;if(et.next)try{et.next(_t)}catch(Et){It(Et)}}error(_t){const{partialObserver:et}=this;if(et.error)try{et.error(_t)}catch(Et){It(Et)}else It(_t)}complete(){const{partialObserver:_t}=this;if(_t.complete)try{_t.complete()}catch(et){It(et)}}}class ke extends Ke{constructor(_t,et,Et){let Ze;if(super(),(0,w.m)(_t)||!_t)Ze={next:_t??void 0,error:et??void 0,complete:Et??void 0};else{let gt;this&&we.v.useDeprecatedNextContext?(gt=Object.create(_t),gt.unsubscribe=()=>this.unsubscribe(),Ze={next:_t.next&&pe(_t.next,gt),error:_t.error&&pe(_t.error,gt),complete:_t.complete&&pe(_t.complete,gt)}):Ze=_t}this.destination=new wt(Ze)}}function It(ft){we.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(ft):(0,ne.h)(ft)}function vn(ft,_t){const{onStoppedNotification:et}=we.v;et&&fe.z.setTimeout(()=>et(ft,_t))}const Ct={closed:!0,next:xe,error:function Tt(ft){throw ft},complete:xe}},727:(_n,lt,Y)=>{Y.d(lt,{Lc:()=>le,w0:()=>xe,Nn:()=>_e});var w=Y(576);const we=(0,Y(3888).d)(Ge=>function(ge){Ge(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((Ke,at)=>`${at+1}) ${Ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var ne=Y(8737);class xe{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const pe of ge)pe.remove(this);else ge.remove(this);const{initialTeardown:Ke}=this;if((0,w.m)(Ke))try{Ke()}catch(pe){fe=pe instanceof we?pe.errors:[pe]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const pe of at)try{ut(pe)}catch(wt){fe=fe??[],wt instanceof we?fe=[...fe,...wt.errors]:fe.push(wt)}}if(fe)throw new we(fe)}}add(fe){var ge;if(fe&&fe!==this)if(this.closed)ut(fe);else{if(fe instanceof xe){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(fe)}}_hasParent(fe){const{_parentage:ge}=this;return ge===fe||Array.isArray(ge)&&ge.includes(fe)}_addParent(fe){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(fe),ge):ge?[ge,fe]:fe}_removeParent(fe){const{_parentage:ge}=this;ge===fe?this._parentage=null:Array.isArray(ge)&&(0,ne.P)(ge,fe)}remove(fe){const{_finalizers:ge}=this;ge&&(0,ne.P)(ge,fe),fe instanceof xe&&fe._removeParent(this)}}xe.EMPTY=(()=>{const Ge=new xe;return Ge.closed=!0,Ge})();const le=xe.EMPTY;function _e(Ge){return Ge instanceof xe||Ge&&"closed"in Ge&&(0,w.m)(Ge.remove)&&(0,w.m)(Ge.add)&&(0,w.m)(Ge.unsubscribe)}function ut(Ge){(0,w.m)(Ge)?Ge():Ge.unsubscribe()}},2416:(_n,lt,Y)=>{Y.d(lt,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_n,lt,Y)=>{Y.d(lt,{E:()=>g});const g=new(Y(9751).y)(xe=>xe.complete())},8996:(_n,lt,Y)=>{Y.d(lt,{D:()=>_t});var w=Y(8421),g=Y(5363),we=Y(9468),le=Y(9751),ut=Y(2202),Ge=Y(576),fe=Y(9672);function Ke(et,Et){if(!et)throw new Error("Iterable cannot be null");return new le.y(Ze=>{(0,fe.f)(Ze,Et,()=>{const gt=et[Symbol.asyncIterator]();(0,fe.f)(Ze,Et,()=>{gt.next().then(dt=>{dt.done?Ze.complete():Ze.next(dt.value)})},0,!0)})})}var at=Y(3670),pe=Y(8239),wt=Y(1144),ke=Y(6495),It=Y(2206),Tt=Y(4532),vn=Y(3260);function _t(et,Et){return Et?function ft(et,Et){if(null!=et){if((0,at.c)(et))return function ne(et,Et){return(0,w.Xf)(et).pipe((0,we.R)(Et),(0,g.Q)(Et))}(et,Et);if((0,wt.z)(et))return function _e(et,Et){return new le.y(Ze=>{let gt=0;return Et.schedule(function(){gt===et.length?Ze.complete():(Ze.next(et[gt++]),Ze.closed||this.schedule())})})}(et,Et);if((0,pe.t)(et))return function xe(et,Et){return(0,w.Xf)(et).pipe((0,we.R)(Et),(0,g.Q)(Et))}(et,Et);if((0,It.D)(et))return Ke(et,Et);if((0,ke.T)(et))return function ge(et,Et){return new le.y(Ze=>{let gt;return(0,fe.f)(Ze,Et,()=>{gt=et[ut.h](),(0,fe.f)(Ze,Et,()=>{let dt,Ht;try{({value:dt,done:Ht}=gt.next())}catch(Lt){return void Ze.error(Lt)}Ht?Ze.complete():Ze.next(dt)},0,!0)}),()=>(0,Ge.m)(gt?.return)&&gt.return()})}(et,Et);if((0,vn.L)(et))return function Ct(et,Et){return Ke((0,vn.Q)(et),Et)}(et,Et)}throw(0,Tt.z)(et)}(et,Et):(0,w.Xf)(et)}},8421:(_n,lt,Y)=>{Y.d(lt,{Xf:()=>at});var w=Y(7582),g=Y(1144),we=Y(8239),ne=Y(9751),xe=Y(3670),le=Y(2206),_e=Y(4532),ut=Y(6495),Ge=Y(3260),fe=Y(576),ge=Y(7849),Ke=Y(8822);function at(ft){if(ft instanceof ne.y)return ft;if(null!=ft){if((0,xe.c)(ft))return function pe(ft){return new ne.y(_t=>{const et=ft[Ke.L]();if((0,fe.m)(et.subscribe))return et.subscribe(_t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ft);if((0,g.z)(ft))return function wt(ft){return new ne.y(_t=>{for(let et=0;et<ft.length&&!_t.closed;et++)_t.next(ft[et]);_t.complete()})}(ft);if((0,we.t)(ft))return function ke(ft){return new ne.y(_t=>{ft.then(et=>{_t.closed||(_t.next(et),_t.complete())},et=>_t.error(et)).then(null,ge.h)})}(ft);if((0,le.D)(ft))return Tt(ft);if((0,ut.T)(ft))return function It(ft){return new ne.y(_t=>{for(const et of ft)if(_t.next(et),_t.closed)return;_t.complete()})}(ft);if((0,Ge.L)(ft))return function vn(ft){return Tt((0,Ge.Q)(ft))}(ft)}throw(0,_e.z)(ft)}function Tt(ft){return new ne.y(_t=>{(function Ct(ft,_t){var et,Et,Ze,gt;return(0,w.mG)(this,void 0,void 0,function*(){try{for(et=(0,w.KL)(ft);!(Et=yield et.next()).done;)if(_t.next(Et.value),_t.closed)return}catch(dt){Ze={error:dt}}finally{try{Et&&!Et.done&&(gt=et.return)&&(yield gt.call(et))}finally{if(Ze)throw Ze.error}}_t.complete()})})(ft,_t).catch(et=>_t.error(et))})}},5403:(_n,lt,Y)=>{Y.d(lt,{x:()=>g});var w=Y(2961);function g(ne,xe,le,_e,ut){return new we(ne,xe,le,_e,ut)}class we extends w.Lv{constructor(xe,le,_e,ut,Ge,fe){super(xe),this.onFinalize=Ge,this.shouldUnsubscribe=fe,this._next=le?function(ge){try{le(ge)}catch(Ke){xe.error(Ke)}}:super._next,this._error=ut?function(ge){try{ut(ge)}catch(Ke){xe.error(Ke)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(ge){xe.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},4004:(_n,lt,Y)=>{Y.d(lt,{U:()=>we});var w=Y(4482),g=Y(5403);function we(ne,xe){return(0,w.e)((le,_e)=>{let ut=0;le.subscribe((0,g.x)(_e,Ge=>{_e.next(ne.call(xe,Ge,ut++))}))})}},8189:(_n,lt,Y)=>{Y.d(lt,{J:()=>we});var w=Y(5577),g=Y(4671);function we(ne=1/0){return(0,w.z)(g.y,ne)}},5577:(_n,lt,Y)=>{Y.d(lt,{z:()=>ut});var w=Y(4004),g=Y(8421),we=Y(4482),ne=Y(9672),xe=Y(5403),_e=Y(576);function ut(Ge,fe,ge=1/0){return(0,_e.m)(fe)?ut((Ke,at)=>(0,w.U)((pe,wt)=>fe(Ke,pe,at,wt))((0,g.Xf)(Ge(Ke,at))),ge):("number"==typeof fe&&(ge=fe),(0,we.e)((Ke,at)=>function le(Ge,fe,ge,Ke,at,pe,wt,ke){const It=[];let Tt=0,vn=0,Ct=!1;const ft=()=>{Ct&&!It.length&&!Tt&&fe.complete()},_t=Et=>Tt<Ke?et(Et):It.push(Et),et=Et=>{pe&&fe.next(Et),Tt++;let Ze=!1;(0,g.Xf)(ge(Et,vn++)).subscribe((0,xe.x)(fe,gt=>{at?.(gt),pe?_t(gt):fe.next(gt)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(Tt--;It.length&&Tt<Ke;){const gt=It.shift();wt?(0,ne.f)(fe,wt,()=>et(gt)):et(gt)}ft()}catch(gt){fe.error(gt)}}))};return Ge.subscribe((0,xe.x)(fe,_t,()=>{Ct=!0,ft()})),()=>{ke?.()}}(Ke,at,Ge,ge)))}},5363:(_n,lt,Y)=>{Y.d(lt,{Q:()=>ne});var w=Y(9672),g=Y(4482),we=Y(5403);function ne(xe,le=0){return(0,g.e)((_e,ut)=>{_e.subscribe((0,we.x)(ut,Ge=>(0,w.f)(ut,xe,()=>ut.next(Ge),le),()=>(0,w.f)(ut,xe,()=>ut.complete(),le),Ge=>(0,w.f)(ut,xe,()=>ut.error(Ge),le)))})}},9468:(_n,lt,Y)=>{Y.d(lt,{R:()=>g});var w=Y(4482);function g(we,ne=0){return(0,w.e)((xe,le)=>{le.add(we.schedule(()=>xe.subscribe(le),ne))})}},8505:(_n,lt,Y)=>{Y.d(lt,{b:()=>xe});var w=Y(576),g=Y(4482),we=Y(5403),ne=Y(4671);function xe(le,_e,ut){const Ge=(0,w.m)(le)||_e||ut?{next:le,error:_e,complete:ut}:le;return Ge?(0,g.e)((fe,ge)=>{var Ke;null===(Ke=Ge.subscribe)||void 0===Ke||Ke.call(Ge);let at=!0;fe.subscribe((0,we.x)(ge,pe=>{var wt;null===(wt=Ge.next)||void 0===wt||wt.call(Ge,pe),ge.next(pe)},()=>{var pe;at=!1,null===(pe=Ge.complete)||void 0===pe||pe.call(Ge),ge.complete()},pe=>{var wt;at=!1,null===(wt=Ge.error)||void 0===wt||wt.call(Ge,pe),ge.error(pe)},()=>{var pe,wt;at&&(null===(pe=Ge.unsubscribe)||void 0===pe||pe.call(Ge)),null===(wt=Ge.finalize)||void 0===wt||wt.call(Ge)}))}):ne.y}},3410:(_n,lt,Y)=>{Y.d(lt,{z:()=>w});const w={setTimeout(g,we,...ne){const{delegate:xe}=w;return xe?.setTimeout?xe.setTimeout(g,we,...ne):setTimeout(g,we,...ne)},clearTimeout(g){const{delegate:we}=w;return(we?.clearTimeout||clearTimeout)(g)},delegate:void 0}},2202:(_n,lt,Y)=>{Y.d(lt,{h:()=>g});const g=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_n,lt,Y)=>{Y.d(lt,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(_n,lt,Y)=>{Y.d(lt,{_6:()=>le,jO:()=>ne,yG:()=>xe});var w=Y(576);function we(_e){return _e[_e.length-1]}function ne(_e){return(0,w.m)(we(_e))?_e.pop():void 0}function xe(_e){return function g(_e){return _e&&(0,w.m)(_e.schedule)}(we(_e))?_e.pop():void 0}function le(_e,ut){return"number"==typeof we(_e)?_e.pop():ut}},4742:(_n,lt,Y)=>{Y.d(lt,{D:()=>xe});const{isArray:w}=Array,{getPrototypeOf:g,prototype:we,keys:ne}=Object;function xe(_e){if(1===_e.length){const ut=_e[0];if(w(ut))return{args:ut,keys:null};if(function le(_e){return _e&&"object"==typeof _e&&g(_e)===we}(ut)){const Ge=ne(ut);return{args:Ge.map(fe=>ut[fe]),keys:Ge}}}return{args:_e,keys:null}}},8737:(_n,lt,Y)=>{function w(g,we){if(g){const ne=g.indexOf(we);0<=ne&&g.splice(ne,1)}}Y.d(lt,{P:()=>w})},3888:(_n,lt,Y)=>{function w(g){const ne=g(xe=>{Error.call(xe),xe.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}Y.d(lt,{d:()=>w})},1810:(_n,lt,Y)=>{function w(g,we){return g.reduce((ne,xe,le)=>(ne[xe]=we[le],ne),{})}Y.d(lt,{n:()=>w})},2806:(_n,lt,Y)=>{Y.d(lt,{O:()=>ne,x:()=>we});var w=Y(2416);let g=null;function we(xe){if(w.v.useDeprecatedSynchronousErrorHandling){const le=!g;if(le&&(g={errorThrown:!1,error:null}),xe(),le){const{errorThrown:_e,error:ut}=g;if(g=null,_e)throw ut}}else xe()}function ne(xe){w.v.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=xe)}},9672:(_n,lt,Y)=>{function w(g,we,ne,xe=0,le=!1){const _e=we.schedule(function(){ne(),le?g.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(g.add(_e),!le)return _e}Y.d(lt,{f:()=>w})},4671:(_n,lt,Y)=>{function w(g){return g}Y.d(lt,{y:()=>w})},1144:(_n,lt,Y)=>{Y.d(lt,{z:()=>w});const w=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(_n,lt,Y)=>{Y.d(lt,{D:()=>g});var w=Y(576);function g(we){return Symbol.asyncIterator&&(0,w.m)(we?.[Symbol.asyncIterator])}},576:(_n,lt,Y)=>{function w(g){return"function"==typeof g}Y.d(lt,{m:()=>w})},3670:(_n,lt,Y)=>{Y.d(lt,{c:()=>we});var w=Y(8822),g=Y(576);function we(ne){return(0,g.m)(ne[w.L])}},6495:(_n,lt,Y)=>{Y.d(lt,{T:()=>we});var w=Y(2202),g=Y(576);function we(ne){return(0,g.m)(ne?.[w.h])}},8239:(_n,lt,Y)=>{Y.d(lt,{t:()=>g});var w=Y(576);function g(we){return(0,w.m)(we?.then)}},3260:(_n,lt,Y)=>{Y.d(lt,{L:()=>ne,Q:()=>we});var w=Y(7582),g=Y(576);function we(xe){return(0,w.FC)(this,arguments,function*(){const _e=xe.getReader();try{for(;;){const{value:ut,done:Ge}=yield(0,w.qq)(_e.read());if(Ge)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(ut)}}finally{_e.releaseLock()}})}function ne(xe){return(0,g.m)(xe?.getReader)}},4482:(_n,lt,Y)=>{Y.d(lt,{A:()=>g,e:()=>we});var w=Y(576);function g(ne){return(0,w.m)(ne?.lift)}function we(ne){return xe=>{if(g(xe))return xe.lift(function(le){try{return ne(le,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(_n,lt,Y)=>{Y.d(lt,{Z:()=>ne});var w=Y(4004);const{isArray:g}=Array;function ne(xe){return(0,w.U)(le=>function we(xe,le){return g(le)?xe(...le):xe(le)}(xe,le))}},9635:(_n,lt,Y)=>{Y.d(lt,{U:()=>we,z:()=>g});var w=Y(4671);function g(...ne){return we(ne)}function we(ne){return 0===ne.length?w.y:1===ne.length?ne[0]:function(le){return ne.reduce((_e,ut)=>ut(_e),le)}}},7849:(_n,lt,Y)=>{Y.d(lt,{h:()=>we});var w=Y(2416),g=Y(3410);function we(ne){g.z.setTimeout(()=>{const{onUnhandledError:xe}=w.v;if(!xe)throw ne;xe(ne)})}},4532:(_n,lt,Y)=>{function w(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d(lt,{z:()=>w})},6895:(_n,lt,Y)=>{Y.d(lt,{Do:()=>vn,EM:()=>Ui,HT:()=>ne,JF:()=>is,JJ:()=>yi,K0:()=>le,Mx:()=>_s,O5:()=>me,OU:()=>zo,S$:()=>ke,V_:()=>Ge,Ye:()=>Ct,b0:()=>Tt,bD:()=>qo,ez:()=>ks,q:()=>we,sg:()=>Di,w_:()=>xe});var w=Y(8256);let g=null;function we(){return g}function ne(S){g||(g=S)}class xe{}const le=new w.OlP("DocumentToken");let _e=(()=>{class S{historyGo(k){throw new Error("Not implemented")}}return S.\u0275fac=function(k){return new(k||S)},S.\u0275prov=w.Yz7({token:S,factory:function(){return function ut(){return(0,w.LFG)(fe)}()},providedIn:"platform"}),S})();const Ge=new w.OlP("Location Initialized");let fe=(()=>{class S extends _e{constructor(k){super(),this._doc=k,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return we().getBaseHref(this._doc)}onPopState(k){const W=we().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",k,!1),()=>W.removeEventListener("popstate",k)}onHashChange(k){const W=we().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",k,!1),()=>W.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,W,de){ge()?this._history.pushState(k,W,de):this._location.hash=de}replaceState(k,W,de){ge()?this._history.replaceState(k,W,de):this._location.hash=de}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return S.\u0275fac=function(k){return new(k||S)(w.LFG(le))},S.\u0275prov=w.Yz7({token:S,factory:function(){return function Ke(){return new fe((0,w.LFG)(le))}()},providedIn:"platform"}),S})();function ge(){return!!window.history.pushState}function at(S,B){if(0==S.length)return B;if(0==B.length)return S;let k=0;return S.endsWith("/")&&k++,B.startsWith("/")&&k++,2==k?S+B.substring(1):1==k?S+B:S+"/"+B}function pe(S){const B=S.match(/#|\?|$/),k=B&&B.index||S.length;return S.slice(0,k-("/"===S[k-1]?1:0))+S.slice(k)}function wt(S){return S&&"?"!==S[0]?"?"+S:S}let ke=(()=>{class S{historyGo(k){throw new Error("Not implemented")}}return S.\u0275fac=function(k){return new(k||S)},S.\u0275prov=w.Yz7({token:S,factory:function(){return(0,w.f3M)(Tt)},providedIn:"root"}),S})();const It=new w.OlP("appBaseHref");let Tt=(()=>{class S extends ke{constructor(k,W){super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return at(this._baseHref,k)}path(k=!1){const W=this._platformLocation.pathname+wt(this._platformLocation.search),de=this._platformLocation.hash;return de&&k?`${W}${de}`:W}pushState(k,W,de,ze){const it=this.prepareExternalUrl(de+wt(ze));this._platformLocation.pushState(k,W,it)}replaceState(k,W,de,ze){const it=this.prepareExternalUrl(de+wt(ze));this._platformLocation.replaceState(k,W,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return S.\u0275fac=function(k){return new(k||S)(w.LFG(_e),w.LFG(It,8))},S.\u0275prov=w.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),vn=(()=>{class S extends ke{constructor(k,W){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(k){const W=at(this._baseHref,k);return W.length>0?"#"+W:W}pushState(k,W,de,ze){let it=this.prepareExternalUrl(de+wt(ze));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.pushState(k,W,it)}replaceState(k,W,de,ze){let it=this.prepareExternalUrl(de+wt(ze));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.replaceState(k,W,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return S.\u0275fac=function(k){return new(k||S)(w.LFG(_e),w.LFG(It,8))},S.\u0275prov=w.Yz7({token:S,factory:S.\u0275fac}),S})(),Ct=(()=>{class S{constructor(k){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const W=this._locationStrategy.getBaseHref();this._basePath=function Et(S){if(new RegExp("^(https?:)?//").test(S)){const[,k]=S.split(/\/\/[^\/]+/);return k}return S}(pe(et(W))),this._locationStrategy.onPopState(de=>{this._subject.emit({url:this.path(!0),pop:!0,state:de.state,type:de.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,W=""){return this.path()==this.normalize(k+wt(W))}normalize(k){return S.stripTrailingSlash(function _t(S,B){if(!S||!B.startsWith(S))return B;const k=B.substring(S.length);return""===k||["/",";","?","#"].includes(k[0])?k:B}(this._basePath,et(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,W="",de=null){this._locationStrategy.pushState(de,"",k,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+wt(W)),de)}replaceState(k,W="",de=null){this._locationStrategy.replaceState(de,"",k,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+wt(W)),de)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",W){this._urlChangeListeners.forEach(de=>de(k,W))}subscribe(k,W,de){return this._subject.subscribe({next:k,error:W,complete:de})}}return S.normalizeQueryParams=wt,S.joinWithSlash=at,S.stripTrailingSlash=pe,S.\u0275fac=function(k){return new(k||S)(w.LFG(ke))},S.\u0275prov=w.Yz7({token:S,factory:function(){return function ft(){return new Ct((0,w.LFG)(ke))}()},providedIn:"root"}),S})();function et(S){return S.replace(/\/index.html$/,"")}var gt=(()=>((gt=gt||{})[gt.Decimal=0]="Decimal",gt[gt.Percent=1]="Percent",gt[gt.Currency=2]="Currency",gt[gt.Scientific=3]="Scientific",gt))(),Ve=(()=>((Ve=Ve||{})[Ve.Decimal=0]="Decimal",Ve[Ve.Group=1]="Group",Ve[Ve.List=2]="List",Ve[Ve.PercentSign=3]="PercentSign",Ve[Ve.PlusSign=4]="PlusSign",Ve[Ve.MinusSign=5]="MinusSign",Ve[Ve.Exponential=6]="Exponential",Ve[Ve.SuperscriptingExponent=7]="SuperscriptingExponent",Ve[Ve.PerMille=8]="PerMille",Ve[Ve.Infinity=9]="Infinity",Ve[Ve.NaN=10]="NaN",Ve[Ve.TimeSeparator=11]="TimeSeparator",Ve[Ve.CurrencyDecimal=12]="CurrencyDecimal",Ve[Ve.CurrencyGroup=13]="CurrencyGroup",Ve))();function an(S,B){const k=(0,w.cg1)(S),W=k[w.wAp.NumberSymbols][B];if(typeof W>"u"){if(B===Ve.CurrencyDecimal)return k[w.wAp.NumberSymbols][Ve.Decimal];if(B===Ve.CurrencyGroup)return k[w.wAp.NumberSymbols][Ve.Group]}return W}const ue=/^(\d+)?\.((\d+)(-(\d+))?)?$/,te=22,Ee=".",Be="0",nt=";",Rt=",",Ut="#";function lr(S){const B=parseInt(S);if(isNaN(B))throw new Error("Invalid integer literal when parsing "+S);return B}function _s(S,B){B=encodeURIComponent(B);for(const k of S.split(";")){const W=k.indexOf("="),[de,ze]=-1==W?[k,""]:[k.slice(0,W),k.slice(W+1)];if(de.trim()===B)return decodeURIComponent(ze)}return null}class mi{constructor(B,k,W,de){this.$implicit=B,this.ngForOf=k,this.index=W,this.count=de}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Di=(()=>{class S{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,W,de){this._viewContainer=k,this._template=W,this._differs=de,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const W=this._viewContainer;k.forEachOperation((de,ze,it)=>{if(null==de.previousIndex)W.createEmbeddedView(this._template,new mi(de.item,this._ngForOf,-1,-1),null===it?void 0:it);else if(null==it)W.remove(null===ze?void 0:ze);else if(null!==ze){const rn=W.get(ze);W.move(rn,it),bi(rn,de)}});for(let de=0,ze=W.length;de<ze;de++){const rn=W.get(de).context;rn.index=de,rn.count=ze,rn.ngForOf=this._ngForOf}k.forEachIdentityChange(de=>{bi(W.get(de.currentIndex),de)})}static ngTemplateContextGuard(k,W){return!0}}return S.\u0275fac=function(k){return new(k||S)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},S.\u0275dir=w.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),S})();function bi(S,B){S.context.$implicit=B.item}let me=(()=>{class S{constructor(k,W){this._viewContainer=k,this._context=new be,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){We("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){We("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,W){return!0}}return S.\u0275fac=function(k){return new(k||S)(w.Y36(w.s_b),w.Y36(w.Rgc))},S.\u0275dir=w.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),S})();class be{constructor(){this.$implicit=null,this.ngIf=null}}function We(S,B){if(B&&!B.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,w.AaK)(B)}'.`)}function Jr(S,B){return new w.vHH(2100,!1)}let yi=(()=>{class S{constructor(k){this._locale=k}transform(k,W,de){if(!function Ws(S){return!(null==S||""===S||S!=S)}(k))return null;de=de||this._locale;try{return function Wt(S,B,k){return function Ue(S,B,k,W,de,ze,it=!1){let rn="",mr=!1;if(isFinite(S)){let Tr=function Rn(S){let W,de,ze,it,rn,B=Math.abs(S)+"",k=0;for((de=B.indexOf(Ee))>-1&&(B=B.replace(Ee,"")),(ze=B.search(/e/i))>0?(de<0&&(de=ze),de+=+B.slice(ze+1),B=B.substring(0,ze)):de<0&&(de=B.length),ze=0;B.charAt(ze)===Be;ze++);if(ze===(rn=B.length))W=[0],de=1;else{for(rn--;B.charAt(rn)===Be;)rn--;for(de-=ze,W=[],it=0;ze<=rn;ze++,it++)W[it]=Number(B.charAt(ze))}return de>te&&(W=W.splice(0,te-1),k=de-1,de=1),{digits:W,exponent:k,integerLen:de}}(S);it&&(Tr=function bn(S){if(0===S.digits[0])return S;const B=S.digits.length-S.integerLen;return S.exponent?S.exponent+=2:(0===B?S.digits.push(0,0):1===B&&S.digits.push(0),S.integerLen+=2),S}(Tr));let Dr=B.minInt,Dn=B.minFrac,jr=B.maxFrac;if(ze){const ht=ze.match(ue);if(null===ht)throw new Error(`${ze} is not a valid digit info`);const Fr=ht[1],Hi=ht[3],Js=ht[5];null!=Fr&&(Dr=lr(Fr)),null!=Hi&&(Dn=lr(Hi)),null!=Js?jr=lr(Js):null!=Hi&&Dn>jr&&(jr=Dn)}!function Rr(S,B,k){if(B>k)throw new Error(`The minimum number of digits after fraction (${B}) is higher than the maximum (${k}).`);let W=S.digits,de=W.length-S.integerLen;const ze=Math.min(Math.max(B,de),k);let it=ze+S.integerLen,rn=W[it];if(it>0){W.splice(Math.max(S.integerLen,it));for(let Dn=it;Dn<W.length;Dn++)W[Dn]=0}else{de=Math.max(0,de),S.integerLen=1,W.length=Math.max(1,it=ze+1),W[0]=0;for(let Dn=1;Dn<it;Dn++)W[Dn]=0}if(rn>=5)if(it-1<0){for(let Dn=0;Dn>it;Dn--)W.unshift(0),S.integerLen++;W.unshift(1),S.integerLen++}else W[it-1]++;for(;de<Math.max(0,ze);de++)W.push(0);let mr=0!==ze;const Tr=B+S.integerLen,Dr=W.reduceRight(function(Dn,jr,An,Sr){return Sr[An]=(jr+=Dn)<10?jr:jr-10,mr&&(0===Sr[An]&&An>=Tr?Sr.pop():mr=!1),jr>=10?1:0},0);Dr&&(W.unshift(Dr),S.integerLen++)}(Tr,Dn,jr);let An=Tr.digits,Sr=Tr.integerLen;const ci=Tr.exponent;let Eo=[];for(mr=An.every(ht=>!ht);Sr<Dr;Sr++)An.unshift(0);for(;Sr<0;Sr++)An.unshift(0);Sr>0?Eo=An.splice(Sr,An.length):(Eo=An,An=[0]);const ha=[];for(An.length>=B.lgSize&&ha.unshift(An.splice(-B.lgSize,An.length).join(""));An.length>B.gSize;)ha.unshift(An.splice(-B.gSize,An.length).join(""));An.length&&ha.unshift(An.join("")),rn=ha.join(an(k,W)),Eo.length&&(rn+=an(k,de)+Eo.join("")),ci&&(rn+=an(k,Ve.Exponential)+"+"+ci)}else rn=an(k,Ve.Infinity);return rn=S<0&&!mr?B.negPre+rn+B.negSuf:B.posPre+rn+B.posSuf,rn}(S,function fn(S,B="-"){const k={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},W=S.split(nt),de=W[0],ze=W[1],it=-1!==de.indexOf(Ee)?de.split(Ee):[de.substring(0,de.lastIndexOf(Be)+1),de.substring(de.lastIndexOf(Be)+1)],rn=it[0],mr=it[1]||"";k.posPre=rn.substring(0,rn.indexOf(Ut));for(let Dr=0;Dr<mr.length;Dr++){const Dn=mr.charAt(Dr);Dn===Be?k.minFrac=k.maxFrac=Dr+1:Dn===Ut?k.maxFrac=Dr+1:k.posSuf+=Dn}const Tr=rn.split(Rt);if(k.gSize=Tr[1]?Tr[1].length:0,k.lgSize=Tr[2]||Tr[1]?(Tr[2]||Tr[1]).length:0,ze){const Dr=de.length-k.posPre.length-k.posSuf.length,Dn=ze.indexOf(Ut);k.negPre=ze.substring(0,Dn).replace(/'/g,""),k.negSuf=ze.slice(Dn+Dr).replace(/'/g,"")}else k.negPre=B+k.posPre,k.negSuf=k.posSuf;return k}(function Gt(S,B){return(0,w.cg1)(S)[w.wAp.NumberFormats][B]}(B,gt.Decimal),an(B,Ve.MinusSign)),B,Ve.Group,Ve.Decimal,k)}(function fo(S){if("string"==typeof S&&!isNaN(Number(S)-parseFloat(S)))return Number(S);if("number"!=typeof S)throw new Error(`${S} is not a number`);return S}(k),de,W)}catch(ze){throw Jr()}}}return S.\u0275fac=function(k){return new(k||S)(w.Y36(w.soG,16))},S.\u0275pipe=w.Yjl({name:"number",type:S,pure:!0,standalone:!0}),S})();let zo=(()=>{class S{transform(k,W,de){if(null==k)return null;if(!this.supports(k))throw Jr();return k.slice(W,de)}supports(k){return"string"==typeof k||Array.isArray(k)}}return S.\u0275fac=function(k){return new(k||S)},S.\u0275pipe=w.Yjl({name:"slice",type:S,pure:!1,standalone:!0}),S})(),ks=(()=>{class S{}return S.\u0275fac=function(k){return new(k||S)},S.\u0275mod=w.oAB({type:S}),S.\u0275inj=w.cJS({}),S})();const qo="browser";let Ui=(()=>{class S{}return S.\u0275prov=(0,w.Yz7)({token:S,providedIn:"root",factory:()=>new Oo((0,w.LFG)(le),window)}),S})();class Oo{constructor(B,k){this.document=B,this.window=k,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const k=function cs(S,B){const k=S.getElementById(B)||S.getElementsByName(B)[0];if(k)return k;if("function"==typeof S.createTreeWalker&&S.body&&(S.body.createShadowRoot||S.body.attachShadow)){const W=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let de=W.currentNode;for(;de;){const ze=de.shadowRoot;if(ze){const it=ze.getElementById(B)||ze.querySelector(`[name="${B}"]`);if(it)return it}de=W.nextNode()}}return null}(this.document,B);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=B)}}scrollToElement(B){const k=B.getBoundingClientRect(),W=k.left+this.window.pageXOffset,de=k.top+this.window.pageYOffset,ze=this.offset();this.window.scrollTo(W-ze[0],de-ze[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=Ns(this.window.history)||Ns(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ns(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class is{}},8256:(_n,lt,Y)=>{Y.d(lt,{tb:()=>sI,AFp:()=>Kw,ip1:()=>Ww,CZH:()=>t_,hGG:()=>FE,z2F:()=>r_,sBO:()=>wE,Sil:()=>nE,_Vd:()=>Gu,EJc:()=>eE,Xts:()=>cp,SBq:()=>Ll,lqb:()=>su,qLn:()=>sl,vpe:()=>t,XFs:()=>st,OlP:()=>br,zs3:()=>ul,ZZ4:()=>m0,aQg:()=>y0,soG:()=>n_,YKP:()=>Hy,h0i:()=>vh,PXZ:()=>gE,R0b:()=>Au,FiY:()=>Gi,Lbi:()=>QI,g9A:()=>Yw,Qsj:()=>f_,FYo:()=>_p,JOm:()=>oa,tp0:()=>Hr,Rgc:()=>l,dDg:()=>dE,eoX:()=>rI,q4F:()=>Hh,GfV:()=>Ip,s_b:()=>Z,ifc:()=>nt,MMx:()=>qy,Lck:()=>rw,eFA:()=>aI,Gpc:()=>vn,f3M:()=>re,$WT:()=>as,_c5:()=>OE,c2e:()=>JI,zSh:()=>$h,wAp:()=>jn,vHH:()=>Ze,lri:()=>tI,rWj:()=>nI,D6c:()=>LE,cg1:()=>Dy,kL8:()=>lv,dqk:()=>Sn,Z0I:()=>Jn,eJc:()=>Xv,CqO:()=>sg,QGY:()=>ed,F4k:()=>Ym,RDi:()=>Cd,AaK:()=>ke,qOj:()=>Qd,TTD:()=>Ai,_Bn:()=>jy,jDz:()=>Lv,xp6:()=>bc,uIk:()=>rg,ekj:()=>Ff,Suo:()=>Cw,Xpm:()=>bn,lG2:()=>Wi,Yz7:()=>Mn,cJS:()=>or,oAB:()=>Cr,Yjl:()=>_s,Y36:()=>jl,_UZ:()=>eh,BQk:()=>Xl,ynx:()=>Jl,qZA:()=>Sf,TgZ:()=>Tf,EpF:()=>Zm,n5z:()=>Oi,LFG:()=>ce,$8M:()=>Za,$Z:()=>tf,NdJ:()=>xf,CRH:()=>Tw,oxw:()=>ey,ALo:()=>Kv,lcZ:()=>Zv,xi3:()=>Yv,Dn7:()=>Qy,Q6J:()=>Cf,s9C:()=>nh,MGl:()=>td,DdM:()=>Yy,VKq:()=>jv,iGM:()=>bw,MAs:()=>bf,KtG:()=>$r,CHM:()=>Qi,LSH:()=>Rd,P3R:()=>zg,YNc:()=>Df,_uU:()=>cy,Oqu:()=>Qu,hij:()=>Ju,AsE:()=>ly});var w=Y(7579),g=Y(727),we=Y(9751),ne=Y(8189),xe=Y(8421),le=Y(515),_e=Y(7669),ut=Y(8996),fe=Y(2961),ge=Y(4482);function at(n,i,...o){if(!0===i)return void n();if(!1===i)return;const u=new fe.Hp({next:()=>{u.unsubscribe(),n()}});return(0,xe.Xf)(i(...o)).subscribe(u)}function pe(n){for(let i in n)if(n[i]===pe)return i;throw Error("Could not find renamed property on target object.")}function wt(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function It(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Tt=pe({__forward_ref__:pe});function vn(n){return n.__forward_ref__=vn,n.toString=function(){return ke(this())},n}function Ct(n){return ft(n)?n():n}function ft(n){return"function"==typeof n&&n.hasOwnProperty(Tt)&&n.__forward_ref__===vn}function _t(n){return n&&!!n.\u0275providers}const Et="https://g.co/ng/security#xss";class Ze extends Error{constructor(i,o){super(gt(i,o)),this.code=i}}function gt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function dt(n){return"string"==typeof n?n:null==n?"":String(n)}function mn(n,i){throw new Ze(-201,!1)}function ln(n,i){null==n&&function Yt(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Mn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function or(n){return{providers:n.providers||[],imports:n.imports||[]}}function qt(n){return ar(n,kr)||ar(n,Zr)}function Jn(n){return null!==qt(n)}function ar(n,i){return n.hasOwnProperty(i)?n[i]:null}function ri(n){return n&&(n.hasOwnProperty(hr)||n.hasOwnProperty(Cn))?n[hr]:null}const kr=pe({\u0275prov:pe}),hr=pe({\u0275inj:pe}),Zr=pe({ngInjectableDef:pe}),Cn=pe({ngInjectorDef:pe});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Zt;function Tn(n){const i=Zt;return Zt=n,i}function Gn(n,i,o){const u=qt(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&st.Optional?null:void 0!==i?i:void mn(ke(n))}const Sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nn={},Yr="__NG_DI_FLAG__",cr="ngTempTokenPath",ii="ngTokenPath",_r=/\n/gm,hn="\u0275",Vr="__source";let Bn;function zt(n){const i=Bn;return Bn=n,i}function rr(n,i=st.Default){if(void 0===Bn)throw new Ze(-203,!1);return null===Bn?Gn(n,void 0,i):Bn.get(n,i&st.Optional?null:void 0,i)}function ce(n,i=st.Default){return(function In(){return Zt}()||rr)(Ct(n),i)}function re(n,i=st.Default){return ce(n,H(i))}function H(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ee(n){const i=[];for(let o=0;o<n.length;o++){const u=Ct(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Ze(900,!1);let c,h=st.Default;for(let y=0;y<u.length;y++){const b=u[y],R=oe(b);"number"==typeof R?-1===R?c=b.token:h|=R:c=b}i.push(ce(c,h))}else i.push(ce(u))}return i}function Ie(n,i){return n[Yr]=i,n.prototype[Yr]=i,n}function oe(n){return n[Yr]}function Ee(n){return{toString:n}.toString()}var Be=(()=>((Be=Be||{})[Be.OnPush=0]="OnPush",Be[Be.Default=1]="Default",Be))(),nt=(()=>{return(n=nt||(nt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",nt;var n})();const Rt={},Ut=[],Un=pe({\u0275cmp:pe}),gr=pe({\u0275dir:pe}),Ue=pe({\u0275pipe:pe}),Pe=pe({\u0275mod:pe}),ot=pe({\u0275fac:pe}),Wt=pe({__NG_ELEMENT_ID__:pe});let fn=0;function bn(n){return Ee(()=>{const i=gi(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Be.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||nt.Emulated,id:"c"+fn++,styles:n.styles||Ut,_:null,schemas:n.schemas||null,tView:null};mi(o);const u=n.dependencies;return o.directiveDefs=Di(u,!1),o.pipeDefs=Di(u,!0),o})}function Rr(n){return On(n)||wr(n)}function lr(n){return null!==n}function Cr(n){return Ee(()=>({type:n.type,bootstrap:n.bootstrap||Ut,declarations:n.declarations||Ut,imports:n.imports||Ut,exports:n.exports||Ut,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ts(n,i){if(null==n)return Rt;const o={};for(const u in n)if(n.hasOwnProperty(u)){let c=n[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=u,i&&(i[c]=h)}return o}function Wi(n){return Ee(()=>{const i=gi(n);return mi(i),i})}function _s(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function On(n){return n[Un]||null}function wr(n){return n[gr]||null}function Ir(n){return n[Ue]||null}function as(n){const i=On(n)||wr(n)||Ir(n);return null!==i&&i.standalone}function xn(n,i){const o=n[Pe]||null;if(!o&&!0===i)throw new Error(`Type ${ke(n)} does not have '\u0275mod' property.`);return o}function gi(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ut,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ts(n.inputs,i),outputs:ts(n.outputs)}}function mi(n){n.features?.forEach(i=>i(n))}function Di(n,i){if(!n)return null;const o=i?Ir:Rr;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(lr)}const bi=0,se=1,me=2,be=3,We=4,yt=5,Bt=6,Fn=7,nn=8,Pn=9,si=10,yn=11,Qr=12,Er=13,Gs=14,Jr=15,Nr=16,Ki=17,vs=18,qr=19,ws=20,ro=21,Xn=22,zs=1,ho=2,qs=7,To=8,rs=9,Ci=10;function Pr(n){return Array.isArray(n)&&"object"==typeof n[zs]}function oi(n){return Array.isArray(n)&&!0===n[zs]}function Zi(n){return 0!=(4&n.flags)}function Si(n){return n.componentOffset>-1}function Wn(n){return 1==(1&n.flags)}function yi(n){return!!n.template}function Xr(n){return 0!=(256&n[me])}function is(n,i){return n.hasOwnProperty(ot)?n[ot]:null}class Fo{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ai(){return so}function so(n){return n.type.prototype.ngOnChanges&&(n.setInput=po),Os}function Os(){const n=Ds(this),i=n?.current;if(i){const o=n.previous;if(o===Rt)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function po(n,i,o,u){const c=this.declaredInputs[o],h=Ds(n)||function Wr(n,i){return n[go]=i}(n,{previous:Rt,current:null}),y=h.current||(h.current={}),b=h.previous,R=b[c];y[c]=new Fo(R&&R.currentValue,i,b===Rt),n[u]=i}Ai.ngInherit=!0;const go="__ngSimpleChanges__";function Ds(n){return n[go]||null}const xi=function(n,i,o){};function Ur(n){for(;Array.isArray(n);)n=n[bi];return n}function mo(n,i){return Ur(i[n])}function Bi(n,i){return Ur(i[n.index])}function ai(n,i){return n.data[i]}function bs(n,i){return n[i]}function ei(n,i){const o=i[n];return Pr(o)?o:o[bi]}function $(n){return 64==(64&n[me])}function he(n,i){return null==i?null:n[i]}function Ae(n){n[vs]=0}function Xe(n,i){n[yt]+=i;let o=n,u=n[be];for(;null!==u&&(1===i&&1===o[yt]||-1===i&&0===o[yt]);)u[yt]+=i,o=u,u=u[be]}const Qe={lFrame:da(null),bindingsEnabled:!0};function Dt(){return Qe.bindingsEnabled}function Je(){return Qe.lFrame.lView}function Qt(){return Qe.lFrame.tView}function Qi(n){return Qe.lFrame.contextLView=n,n[nn]}function $r(n){return Qe.lFrame.contextLView=null,n}function Kn(){let n=Ar();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ar(){return Qe.lFrame.currentTNode}function fr(n,i){const o=Qe.lFrame;o.currentTNode=n,o.isParent=i}function yo(){return Qe.lFrame.isParent}function Cs(){Qe.lFrame.isParent=!1}function $i(){const n=Qe.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function ui(){return Qe.lFrame.bindingIndex++}function _o(n){const i=Qe.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function qa(n,i){const o=Qe.lFrame;o.bindingIndex=o.bindingRootIndex=n,So(i)}function So(n){Qe.lFrame.currentDirectiveIndex=n}function xu(){return Qe.lFrame.currentQueryIndex}function Yo(n){Qe.lFrame.currentQueryIndex=n}function vo(n){const i=n[se];return 2===i.type?i.declTNode:1===i.type?n[Bt]:null}function wo(n,i,o){if(o&st.SkipSelf){let c=i,h=n;for(;!(c=c.parent,null!==c||o&st.Host||(c=vo(h),null===c||(h=h[Jr],10&c.type))););if(null===c)return!1;i=c,n=h}const u=Qe.lFrame=Ls();return u.currentTNode=i,u.lView=n,!0}function Lo(n){const i=Ls(),o=n[se];Qe.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Ls(){const n=Qe.lFrame,i=null===n?null:n.child;return null===i?da(n):i}function da(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Io(){const n=Qe.lFrame;return Qe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const oo=Io;function Ri(){const n=Io();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ji(){return Qe.lFrame.selectedIndex}function Ts(n){Qe.lFrame.selectedIndex=n}function Kr(){const n=Qe.lFrame;return ai(n.tView,n.selectedIndex)}function ze(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:R,ngAfterViewChecked:U,ngOnDestroy:K}=h;y&&(n.contentHooks??(n.contentHooks=[])).push(-o,y),b&&((n.contentHooks??(n.contentHooks=[])).push(o,b),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,b)),R&&(n.viewHooks??(n.viewHooks=[])).push(-o,R),U&&((n.viewHooks??(n.viewHooks=[])).push(o,U),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,U)),null!=K&&(n.destroyHooks??(n.destroyHooks=[])).push(o,K)}}function it(n,i,o){Tr(n,i,3,o)}function rn(n,i,o,u){(3&n[me])===o&&Tr(n,i,o,u)}function mr(n,i){let o=n[me];(3&o)===i&&(o&=2047,o+=1,n[me]=o)}function Tr(n,i,o,u){const h=u??-1,y=i.length-1;let b=0;for(let R=void 0!==u?65535&n[vs]:0;R<y;R++)if("number"==typeof i[R+1]){if(b=i[R],null!=u&&b>=u)break}else i[R]<0&&(n[vs]+=65536),(b<h||-1==h)&&(Dr(n,o,i,R),n[vs]=(4294901760&n[vs])+R+2),R++}function Dr(n,i,o,u){const c=o[u]<0,h=o[u+1],b=n[c?-o[u]:o[u]];if(c){if(n[me]>>11<n[vs]>>16&&(3&n[me])===i){n[me]+=2048,xi(4,b,h);try{h.call(b)}finally{xi(5,b,h)}}}else{xi(4,b,h);try{h.call(b)}finally{xi(5,b,h)}}}const Dn=-1;class jr{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Js(n,i,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const h=o[u++],y=o[u++],b=o[u++];n.setAttribute(i,y,b,h)}else{const h=c,y=o[++u];un(h)?n.setProperty(i,h,y):n.setAttribute(i,h,y),u++}}return u}function Jt(n){return 3===n||4===n||6===n}function un(n){return 64===n.charCodeAt(0)}function Uo(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Pt(n,o,c,null,-1===o||2===o?i[++u]:null)}}return n}function Pt(n,i,o,u,c){let h=0,y=n.length;if(-1===i)y=-1;else for(;h<n.length;){const b=n[h++];if("number"==typeof b){if(b===i){y=-1;break}if(b>i){y=h-1;break}}}for(;h<n.length;){const b=n[h];if("number"==typeof b)break;if(b===o){if(null===u)return void(null!==c&&(n[h+1]=c));if(u===n[h+1])return void(n[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==y&&(n.splice(y,0,i),h=y+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==c&&n.splice(h++,0,c)}function qe(n){return n!==Dn}function pt(n){return 32767&n}function fa(n,i){let o=function _i(n){return n>>16}(n),u=i;for(;o>0;)u=u[Jr],o--;return u}let tc=!0;function pa(n){const i=tc;return tc=n,i}const nc=255,Wa=5;let rc=0;const ao={};function li(n,i){const o=sn(n,i);if(-1!==o)return o;const u=i[se];u.firstCreatePass&&(n.injectorIndex=i.length,Ma(u.data,n),Ma(i,null),Ma(u.blueprint,null));const c=Qo(n,i),h=n.injectorIndex;if(qe(c)){const y=pt(c),b=fa(c,i),R=b[se].data;for(let U=0;U<8;U++)i[h+U]=b[y+U]|R[y+U]}return i[h+8]=c,h}function Ma(n,i){n.push(0,0,0,0,0,0,0,0,i)}function sn(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Qo(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){if(u=eo(c),null===u)return Dn;if(o++,c=c[Jr],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Dn}function ki(n,i,o){!function Ru(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Wt)&&(u=o[Wt]),null==u&&(u=o[Wt]=rc++);const c=u&nc;i.data[n+(c>>Wa)]|=1<<c}(n,i,o)}function gn(n,i,o){if(o&st.Optional||void 0!==n)return n;mn()}function Ni(n,i,o,u){if(o&st.Optional&&void 0===u&&(u=null),!(o&(st.Self|st.Host))){const c=n[Pn],h=Tn(void 0);try{return c?c.get(i,u,o&st.Optional):Gn(i,u,o&st.Optional)}finally{Tn(h)}}return gn(u,0,o)}function pr(n,i,o,u=st.Default,c){if(null!==n){if(1024&i[me]){const y=function Xo(n,i,o,u,c){let h=n,y=i;for(;null!==h&&null!==y&&1024&y[me]&&!(256&y[me]);){const b=Jo(h,y,o,u|st.Self,ao);if(b!==ao)return b;let R=h.parent;if(!R){const U=y[ro];if(U){const K=U.get(o,ao,u);if(K!==ao)return K}R=eo(y),y=y[Jr]}h=R}return c}(n,i,o,u,ao);if(y!==ao)return y}const h=Jo(n,i,o,u,ao);if(h!==ao)return h}return Ni(i,o,u,c)}function Jo(n,i,o,u,c){const h=function du(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Wt)?n[Wt]:void 0;return"number"==typeof i?i>=0?i&nc:ic:i}(o);if("function"==typeof h){if(!wo(i,n,u))return u&st.Host?gn(c,0,u):Ni(i,o,u,c);try{const y=h(u);if(null!=y||u&st.Optional)return y;mn()}finally{oo()}}else if("number"==typeof h){let y=null,b=sn(n,i),R=Dn,U=u&st.Host?i[Nr][Bt]:null;for((-1===b||u&st.SkipSelf)&&(R=-1===b?Qo(n,i):i[b+8],R!==Dn&&Pu(u,!1)?(y=i[se],b=pt(R),i=fa(R,i)):b=-1);-1!==b;){const K=i[se];if(Bo(h,b,K.data)){const ie=hi(b,i,o,y,u,U);if(ie!==ao)return ie}R=i[b+8],R!==Dn&&Pu(u,i[se].data[b+8]===U)&&Bo(h,b,i)?(y=K,b=pt(R),i=fa(R,i)):b=-1}}return c}function hi(n,i,o,u,c,h){const y=i[se],b=y.data[n+8],K=Mt(b,y,o,null==u?Si(b)&&tc:u!=y&&0!=(3&b.type),c&st.Host&&h===b);return null!==K?Vs(i,y,K,b):ao}function Mt(n,i,o,u,c){const h=n.providerIndexes,y=i.data,b=1048575&h,R=n.directiveStart,K=h>>20,De=c?b+K:n.directiveEnd;for(let Fe=u?b:b+K;Fe<De;Fe++){const ct=y[Fe];if(Fe<R&&o===ct||Fe>=R&&ct.type===o)return Fe}if(c){const Fe=y[R];if(Fe&&yi(Fe)&&Fe.type===o)return R}return null}function Vs(n,i,o,u){let c=n[o];const h=i.data;if(function An(n){return n instanceof jr}(c)){const y=c;y.resolving&&function Lt(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Ht(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():dt(n)}(h[o]));const b=pa(y.canSeeViewProviders);y.resolving=!0;const R=y.injectImpl?Tn(y.injectImpl):null;wo(n,u,st.Default);try{c=n[o]=y.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function de(n,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(u){const y=so(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,y),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,y)}c&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,c),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==R&&Tn(R),pa(b),y.resolving=!1,oo()}}return c}function Bo(n,i,o){return!!(o[i+(n>>Wa)]&1<<n)}function Pu(n,i){return!(n&st.Self||n&st.Host&&i)}class Xs{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return pr(this._tNode,this._lView,i,H(u),o)}}function ic(){return new Xs(Kn(),Je())}function Oi(n){return Ee(()=>{const i=n.prototype.constructor,o=i[ot]||Ka(i),u=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==u;){const h=c[ot]||Ka(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Ka(n){return ft(n)?()=>{const i=Ka(Ct(n));return i&&i()}:is(n)}function eo(n){const i=n[se],o=i.type;return 2===o?i.declTNode:1===o?n[Bt]:null}function Za(n){return function di(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const h=o[c];if(Jt(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(h===i)return o[c+1];c+=2}}}return null}(Kn(),n)}const ea="__parameters__";function Ao(n,i,o){return Ee(()=>{const u=function Oe(n){return function(...o){if(n){const u=n(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...h){if(this instanceof c)return u.apply(this,h),this;const y=new c(...h);return b.annotation=y,b;function b(R,U,K){const ie=R.hasOwnProperty(ea)?R[ea]:Object.defineProperty(R,ea,{value:[]})[ea];for(;ie.length<=K;)ie.push(null);return(ie[K]=ie[K]||[]).push(y),R}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class br{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Mn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xo(n,i){n.forEach(o=>Array.isArray(o)?xo(o,i):i(o))}function ka(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function ya(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function m(n,i,o){let u=N(n,i);return u>=0?n[1|u]=o:(u=~u,function _(n,i,o,u){let c=n.length;if(c==i)n.push(o,u);else if(1===c)n.push(u,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function T(n,i){const o=N(n,i);if(o>=0)return n[1|o]}function N(n,i){return function Q(n,i,o){let u=0,c=n.length>>o;for(;c!==u;){const h=u+(c-u>>1),y=n[h<<o];if(i===y)return h<<o;y>i?c=h:u=h+1}return~(c<<o)}(n,i,1)}const Gi=Ie(Ao("Optional"),8),Hr=Ie(Ao("SkipSelf"),4);var oa=(()=>((oa=oa||{})[oa.Important=1]="Important",oa[oa.DashCase=2]="DashCase",oa))();const ni=new Map;let Ba=0;const Se="__ngContext__";function He(n,i){Pr(i)?(n[Se]=i[ws],function Tl(n){ni.set(n[ws],n)}(i)):n[Se]=i}let Da;function yu(n,i){return Da(n,i)}function $a(n){const i=n[be];return oi(i)?i[be]:i}function dc(n){return yd(n[Er])}function hc(n){return yd(n[We])}function yd(n){for(;null!==n&&!oi(n);)n=n[We];return n}function Uu(n,i,o,u,c){if(null!=u){let h,y=!1;oi(u)?h=u:Pr(u)&&(y=!0,u=u[bi]);const b=Ur(u);0===n&&null!==o?null==c?Xf(i,o,b):Ro(i,o,b,c||null,!0):1===n&&null!==o?Ro(i,o,b,c||null,!0):2===n?function Dd(n,i,o){const u=jc(n,i);u&&function ep(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,b,y):3===n&&i.destroyNode(b),null!=h&&function qc(n,i,o,u,c){const h=o[qs];h!==Ur(o)&&Uu(i,n,u,h,c);for(let b=Ci;b<o.length;b++){const R=o[b];Rl(R[se],R,n,i,u,h)}}(i,n,h,o,c)}}function Al(n,i,o){return n.createElement(i,o)}function Uc(n,i){const o=n[rs],u=o.indexOf(i),c=i[be];512&i[me]&&(i[me]&=-513,Xe(c,-1)),o.splice(u,1)}function $u(n,i){if(n.length<=Ci)return;const o=Ci+i,u=n[o];if(u){const c=u[Ki];null!==c&&c!==n&&Uc(c,u),i>0&&(n[o-1][We]=u[We]);const h=ya(n,Ci+i);!function xl(n,i){Rl(n,i,i[yn],2,null,null),i[bi]=null,i[Bt]=null}(u[se],u);const y=h[qr];null!==y&&y.detachView(h[se]),u[be]=null,u[We]=null,u[me]&=-65}return u}function vd(n,i){if(!(128&i[me])){const o=i[yn];o.destroyNode&&Rl(n,i,o,3,null,null),function pc(n){let i=n[Er];if(!i)return Bc(n[se],n);for(;i;){let o=null;if(Pr(i))o=i[Er];else{const u=i[Ci];u&&(o=u)}if(!o){for(;i&&!i[We]&&i!==n;)Pr(i)&&Bc(i[se],i),i=i[be];null===i&&(i=n),Pr(i)&&Bc(i[se],i),o=i&&i[We]}i=o}}(i)}}function Bc(n,i){if(!(128&i[me])){i[me]&=-65,i[me]|=128,function Qf(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof jr)){const h=o[u+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const b=c[h[y]],R=h[y+1];xi(4,b,R);try{R.call(b)}finally{xi(5,b,R)}}else{xi(4,c,h);try{h.call(c)}finally{xi(5,c,h)}}}}}(n,i),function $c(n,i){const o=n.cleanup,u=i[Fn];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const y=o[h+3];y>=0?u[c=y]():u[c=-y].unsubscribe(),h+=2}else{const y=u[c=o[h+1]];o[h].call(y)}if(null!==u){for(let h=c+1;h<u.length;h++)(0,u[h])();i[Fn]=null}}(n,i),1===i[se].type&&i[yn].destroy();const o=i[Ki];if(null!==o&&oi(i[be])){o!==i[be]&&Uc(o,i);const u=i[qr];null!==u&&u.detachView(n)}!function E(n){ni.delete(n[ws])}(i)}}function bh(n,i,o){return function Jf(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[bi];{const{componentOffset:c}=u;if(c>-1){const{encapsulation:h}=n.data[u.directiveStart+c];if(h===nt.None||h===nt.Emulated)return null}return Bi(u,o)}}(n,i.parent,o)}function Ro(n,i,o,u,c){n.insertBefore(i,o,u,c)}function Xf(n,i,o){n.appendChild(i,o)}function Po(n,i,o,u,c){null!==u?Ro(n,i,o,u,c):Xf(n,i,o)}function jc(n,i){return n.parentNode(i)}let Sh,Wc,kl,Th=function Hc(n,i,o){return 40&n.type?Bi(n,o):null};function Id(n,i,o,u){const c=bh(n,u,i),h=i[yn],b=function Ch(n,i,o){return Th(n,i,o)}(u.parent||i[Bt],u,i);if(null!=c)if(Array.isArray(o))for(let R=0;R<o.length;R++)Po(h,c,o[R],b,!1);else Po(h,c,o,b,!1);void 0!==Sh&&Sh(h,u,i,o,c)}function Gc(n,i){if(null!==i){const o=i.type;if(3&o)return Bi(i,n);if(4&o)return Ed(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Gc(n,u);{const c=n[i.index];return oi(c)?Ed(-1,c):Ur(c)}}if(32&o)return yu(i,n)()||Ur(n[i.index]);{const u=Ah(n,i);return null!==u?Array.isArray(u)?u[0]:Gc($a(n[Nr]),u):Gc(n,i.next)}}return null}function Ah(n,i){return null!==i?n[Nr][Bt].projection[i.projection]:null}function Ed(n,i){const o=Ci+n+1;if(o<i.length){const u=i[o],c=u[se].firstChild;if(null!==c)return Gc(u,c)}return i[qs]}function zc(n,i,o,u,c,h,y){for(;null!=o;){const b=u[o.index],R=o.type;if(y&&0===i&&(b&&He(Ur(b),u),o.flags|=2),32!=(32&o.flags))if(8&R)zc(n,i,o.child,u,c,h,!1),Uu(i,n,c,b,h);else if(32&R){const U=yu(o,u);let K;for(;K=U();)Uu(i,n,c,K,h);Uu(i,n,c,b,h)}else 16&R?xh(n,i,u,o,c,h):Uu(i,n,c,b,h);o=y?o.projectionNext:o.next}}function Rl(n,i,o,u,c,h){zc(o,u,n.firstChild,i,c,h,!1)}function xh(n,i,o,u,c,h){const y=o[Nr],R=y[Bt].projection[u.projection];if(Array.isArray(R))for(let U=0;U<R.length;U++)Uu(i,n,c,R[U],h);else zc(n,i,R,y[be],c,h,!0)}function ju(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Mh(n,i,o){const{mergedAttrs:u,classes:c,styles:h}=o;null!==u&&Js(n,i,u),null!==c&&ju(n,i,c),null!==h&&function tp(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function Cd(n){Wc=n}function _c(n){return function yc(){if(void 0===kl&&(kl=null,Sn.trustedTypes))try{kl=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return kl}()?.createScriptURL(n)||n}class nu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Et})`}}function ru(n){return n instanceof nu?n.changingThisBreaksApplicationSecurity:n}function vc(n,i){const o=function Nh(n){return n instanceof nu&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Et})`)}return o===i}const kt=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ms=(()=>((Ms=Ms||{})[Ms.NONE=0]="NONE",Ms[Ms.HTML=1]="HTML",Ms[Ms.STYLE=2]="STYLE",Ms[Ms.SCRIPT=3]="SCRIPT",Ms[Ms.URL=4]="URL",Ms[Ms.RESOURCE_URL=5]="RESOURCE_URL",Ms))();function Rd(n){const i=Jc();return i?i.sanitize(Ms.URL,n)||"":vc(n,"URL")?ru(n):function Kt(n){return(n=String(n)).match(kt)?n:"unsafe:"+n}(dt(n))}function up(n){const i=Jc();if(i)return _c(i.sanitize(Ms.RESOURCE_URL,n)||"");if(vc(n,"ResourceURL"))return _c(ru(n));throw new Ze(904,!1)}function zg(n,i,o){return function Gg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?up:Rd}(i,o)(n)}function Jc(){const n=Je();return n&&n[Qr]}const cp=new br("ENVIRONMENT_INITIALIZER"),lp=new br("INJECTOR",-1),Bh=new br("INJECTOR_DEF_TYPES");class dp{get(i,o=Nn){if(o===Nn){const u=new Error(`NullInjectorError: No provider for ${ke(i)}!`);throw u.name="NullInjectorError",u}return o}}function qg(...n){return{\u0275providers:Wg(0,n),\u0275fromNgModule:!0}}function Wg(n,...i){const o=[],u=new Set;let c;return xo(i,h=>{const y=h;hp(y,o,[],u)&&(c||(c=[]),c.push(y))}),void 0!==c&&Kg(c,o),o}function Kg(n,i){for(let o=0;o<n.length;o++){const{providers:c}=n[o];wc(c,h=>{i.push(h)})}}function hp(n,i,o,u){if(!(n=Ct(n)))return!1;let c=null,h=ri(n);const y=!h&&On(n);if(h||y){if(y&&!y.standalone)return!1;c=n}else{const R=n.ngModule;if(h=ri(R),!h)return!1;c=R}const b=u.has(c);if(y){if(b)return!1;if(u.add(c),y.dependencies){const R="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const U of R)hp(U,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!b){let U;u.add(c);try{xo(h.imports,K=>{hp(K,i,o,u)&&(U||(U=[]),U.push(K))})}finally{}void 0!==U&&Kg(U,i)}if(!b){const U=is(c)||(()=>new c);i.push({provide:c,useFactory:U,deps:Ut},{provide:Bh,useValue:c,multi:!0},{provide:cp,useValue:()=>ce(c),multi:!0})}const R=h.providers;null==R||b||wc(R,K=>{i.push(K)})}}return c!==n&&void 0!==n.providers}function wc(n,i){for(let o of n)_t(o)&&(o=o.\u0275providers),Array.isArray(o)?wc(o,i):i(o)}const Zg=pe({provide:String,useValue:pe});function fp(n){return null!==n&&"object"==typeof n&&Zg in n}function Ic(n){return"function"==typeof n}const $h=new br("Set Injector scope."),el={},tl={};let Hu;function Eu(){return void 0===Hu&&(Hu=new dp),Hu}class su{}class gp extends su{get destroyed(){return this._destroyed}constructor(i,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nl(i,y=>this.processProvider(y)),this.records.set(lp,Fl(void 0,this)),c.has("environment")&&this.records.set(su,Fl(void 0,this));const h=this.records.get($h);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Bh.multi,Ut,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=zt(this),u=Tn(void 0);try{return i()}finally{zt(o),Tn(u)}}get(i,o=Nn,u=st.Default){this.assertNotDestroyed(),u=H(u);const c=zt(this),h=Tn(void 0);try{if(!(u&st.SkipSelf)){let b=this.records.get(i);if(void 0===b){const R=function jh(n){return"function"==typeof n||"object"==typeof n&&n instanceof br}(i)&&qt(i);b=R&&this.injectableDefInScope(R)?Fl(kd(i),el):null,this.records.set(i,b)}if(null!=b)return this.hydrate(i,b)}return(u&st.Self?Eu():this.parent).get(i,o=u&st.Optional&&o===Nn?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[cr]=y[cr]||[]).unshift(ke(i)),c)throw y;return function ue(n,i,o,u){const c=n[cr];throw i[Vr]&&c.unshift(i[Vr]),n.message=function te(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==hn?n.slice(2):n;let c=ke(i);if(Array.isArray(i))c=i.map(ke).join(" -> ");else if("object"==typeof i){let h=[];for(let y in i)if(i.hasOwnProperty(y)){let b=i[y];h.push(y+":"+("string"==typeof b?JSON.stringify(b):ke(b)))}c=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${n.replace(_r,"\n  ")}`}("\n"+n.message,c,o,u),n[ii]=c,n[cr]=null,n}(y,i,"R3InjectorError",this.source)}throw y}finally{Tn(h),zt(c)}}resolveInjectorInitializers(){const i=zt(this),o=Tn(void 0);try{const u=this.get(cp.multi,Ut,st.Self);for(const c of u)c()}finally{zt(i),Tn(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(ke(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(i){let o=Ic(i=Ct(i))?i:Ct(i&&i.provide);const u=function Yg(n){return fp(n)?Fl(void 0,n.useValue):Fl(yp(n),el)}(i);if(Ic(i)||!0!==i.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Fl(void 0,el,!0),c.factory=()=>ee(c.multi),this.records.set(o,c)),o=i,c.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===el&&(o.value=tl,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Jg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ct(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function kd(n){const i=qt(n),o=null!==i?i.factory:is(n);if(null!==o)return o;if(n instanceof br)throw new Ze(204,!1);if(n instanceof Function)return function mp(n){const i=n.length;if(i>0)throw function Mo(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Ze(204,!1);const o=function vr(n){return n&&(n[kr]||n[Zr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ze(204,!1)}function yp(n,i,o){let u;if(Ic(n)){const c=Ct(n);return is(c)||kd(c)}if(fp(n))u=()=>Ct(n.useValue);else if(function Iu(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...ee(n.deps||[]));else if(function pp(n){return!(!n||!n.useExisting)}(n))u=()=>ce(Ct(n.useExisting));else{const c=Ct(n&&(n.useClass||n.provide));if(!function Qg(n){return!!n.deps}(n))return is(c)||kd(c);u=()=>new c(...ee(n.deps))}return u}function Fl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function nl(n,i){for(const o of n)Array.isArray(o)?nl(o,i):o&&_t(o)?nl(o.\u0275providers,i):i(o)}class rl{}class Xg{}class d_{resolveComponentFactory(i){throw function em(n){const i=Error(`No component factory found for ${ke(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Gu=(()=>{class n{}return n.NULL=new d_,n})();function il(){return Ca(Kn(),Je())}function Ca(n,i){return new Ll(Bi(n,i))}let Ll=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=il,n})();function h_(n){return n instanceof Ll?n.nativeElement:n}class _p{}let f_=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function vp(){const n=Je(),o=ei(Kn().index,n);return(Pr(o)?o:n)[yn]}(),n})(),wp=(()=>{class n{}return n.\u0275prov=Mn({token:n,providedIn:"root",factory:()=>null}),n})();class Ip{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Hh=new Ip("15.2.10"),Nd={},Gh="ngOriginalError";function Ep(n){return n[Gh]}class sl{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Ep(i);for(;o&&Ep(o);)o=Ep(o);return o||null}}function es(n){return n instanceof Function?n():n}function bp(n,i,o){let u=n.length;for(;;){const c=n.indexOf(i,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=i.length;if(c+h===u||n.charCodeAt(c+h)<=32)return c}o=c+1}}const Ec="ng-template";function m_(n,i,o){let u=0,c=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&c){const y=n[u++];if(o&&"class"===h&&-1!==bp(y.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function al(n){return 4===n.type&&n.value!==Ec}function sm(n,i,o){return i===(4!==n.type||o?n.value:Ec)}function Dc(n,i,o){let u=4;const c=n.attrs||[],h=function om(n){for(let i=0;i<n.length;i++)if(Jt(n[i]))return i;return n.length}(c);let y=!1;for(let b=0;b<i.length;b++){const R=i[b];if("number"!=typeof R){if(!y)if(4&u){if(u=2|1&u,""!==R&&!sm(n,R,o)||""===R&&1===i.length){if(ja(u))return!1;y=!0}}else{const U=8&u?R:i[++b];if(8&u&&null!==n.attrs){if(!m_(n.attrs,U,o)){if(ja(u))return!1;y=!0}continue}const ie=y_(8&u?"class":R,c,al(n),o);if(-1===ie){if(ja(u))return!1;y=!0;continue}if(""!==U){let De;De=ie>h?"":c[ie+1].toLowerCase();const Fe=8&u?De:null;if(Fe&&-1!==bp(Fe,U,0)||2&u&&U!==De){if(ja(u))return!1;y=!0}}}}else{if(!y&&!ja(u)&&!ja(R))return!1;if(y&&ja(R))continue;y=!1,u=R|1&u}}return ja(u)||y}function ja(n){return 0==(1&n)}function y_(n,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let h=!1;for(;c<i.length;){const y=i[c];if(y===n)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let b=i[++c];for(;"string"==typeof b;)b=i[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function v_(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Cp(n,i,o=!1){for(let u=0;u<i.length;u++)if(Dc(n,i[u],o))return!0;return!1}function am(n,i){return n?":not("+i.trim()+")":i}function w_(n){let i=n[0],o=1,u=2,c="",h=!1;for(;o<n.length;){let y=n[o];if("string"==typeof y)if(2&u){const b=n[++o];c+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?c+="."+y:4&u&&(c+=" "+y);else""!==c&&!ja(y)&&(i+=am(h,c),c=""),u=y,h=h||!ja(u);o++}return""!==c&&(i+=am(h,c)),i}const tr={};function bc(n){Vl(Qt(),Je(),ji()+n,!1)}function Vl(n,i,o,u){if(!u)if(3==(3&i[me])){const h=n.preOrderCheckHooks;null!==h&&it(i,h,o)}else{const h=n.preOrderHooks;null!==h&&rn(i,h,0,o)}Ts(o)}function dm(n,i=null,o=null,u){const c=hm(n,i,o,u);return c.resolveInjectorInitializers(),c}function hm(n,i=null,o=null,u,c=new Set){const h=[o||Ut,qg(n)];return u=u||("object"==typeof n?void 0:ke(n)),new gp(h,i||Eu(),u||null,c)}let ul=(()=>{class n{static create(o,u){if(Array.isArray(o))return dm({name:""},u,o,"");{const c=o.name??"";return dm({name:c},o.parent,o.providers,c)}}}return n.THROW_IF_NOT_FOUND=Nn,n.NULL=new dp,n.\u0275prov=Mn({token:n,providedIn:"any",factory:()=>ce(lp)}),n.__NG_ELEMENT_ID__=-1,n})();function jl(n,i=st.Default){const o=Je();return null===o?ce(n,i):pr(Kn(),o,Ct(n),i)}function tf(){throw new Error("invalid")}function Np(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const y=n.data[h];Yo(o[u]),y.contentQueries(2,i[h],h)}}}function Tc(n,i,o,u,c,h,y,b,R,U,K){const ie=i.blueprint.slice();return ie[bi]=c,ie[me]=76|u,(null!==K||n&&1024&n[me])&&(ie[me]|=1024),Ae(ie),ie[be]=ie[Jr]=n,ie[nn]=o,ie[si]=y||n&&n[si],ie[yn]=b||n&&n[yn],ie[Qr]=R||n&&n[Qr]||null,ie[Pn]=U||n&&n[Pn]||null,ie[Bt]=h,ie[ws]=function ac(){return Ba++}(),ie[ro]=K,ie[Nr]=2==i.type?n[Nr]:ie,ie}function qu(n,i,o,u,c){let h=n.data[i];if(null===h)h=function Bd(n,i,o,u,c){const h=Ar(),y=yo(),R=n.data[i]=function sf(n,i,o,u,c,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,o,i,u,c);return null===n.firstChild&&(n.firstChild=R),null!==h&&(y?null==h.child&&null!==R.parent&&(h.child=R):null===h.next&&(h.next=R,R.prev=h)),R}(n,i,o,u,c),function lu(){return Qe.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=c;const y=function Mi(){const n=Qe.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return fr(h,!0),h}function ll(n,i,o,u){if(0===o)return-1;const c=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return c}function $d(n,i,o){Lo(i);try{const u=n.viewQuery;null!==u&&qp(1,u,o);const c=n.template;null!==c&&Im(n,i,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Np(n,i),n.staticViewQueries&&qp(2,n.viewQuery,o);const h=n.components;null!==h&&function nf(n,i){for(let o=0;o<i.length;o++)ql(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[me]&=-5,Ri()}}function jd(n,i,o,u){const c=i[me];if(128!=(128&c)){Lo(i);try{Ae(i),function la(n){return Qe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Im(n,i,o,2,u);const y=3==(3&c);if(y){const U=n.preOrderCheckHooks;null!==U&&it(i,U,null)}else{const U=n.preOrderHooks;null!==U&&rn(i,U,0,null),mr(i,0)}if(function lf(n){for(let i=dc(n);null!==i;i=hc(i)){if(!i[ho])continue;const o=i[rs];for(let u=0;u<o.length;u++){const c=o[u];512&c[me]||Xe(c[be],1),c[me]|=512}}}(i),function Hp(n){for(let i=dc(n);null!==i;i=hc(i))for(let o=Ci;o<i.length;o++){const u=i[o],c=u[se];$(u)&&jd(c,u,c.template,u[nn])}}(i),null!==n.contentQueries&&Np(n,i),y){const U=n.contentCheckHooks;null!==U&&it(i,U)}else{const U=n.contentHooks;null!==U&&rn(i,U,1),mr(i,1)}!function wm(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Ts(~c);else{const h=c,y=o[++u],b=o[++u];qa(y,h),b(2,i[h])}}}finally{Ts(-1)}}(n,i);const b=n.components;null!==b&&function Op(n,i){for(let o=0;o<i.length;o++)Gp(n,i[o])}(i,b);const R=n.viewQuery;if(null!==R&&qp(2,R,u),y){const U=n.viewCheckHooks;null!==U&&it(i,U)}else{const U=n.viewHooks;null!==U&&rn(i,U,2),mr(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[me]&=-41,512&i[me]&&(i[me]&=-513,Xe(i[be],-1))}finally{Ri()}}}function Im(n,i,o,u,c){const h=ji(),y=2&u;try{Ts(-1),y&&i.length>Xn&&Vl(n,i,Xn,!1),xi(y?2:0,c),o(u,c)}finally{Ts(h),xi(y?3:1,c)}}function rf(n,i,o){if(Zi(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const y=n.data[h];y.contentQueries&&y.contentQueries(1,o[h],h)}}}function Hl(n,i,o){Dt()&&(function zl(n,i,o,u){const c=o.directiveStart,h=o.directiveEnd;Si(o)&&function Sm(n,i,o){const u=Bi(i,n),c=Em(o),h=n[si],y=hf(n,Tc(n,c,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=y}(i,o,n.data[c+o.componentOffset]),n.firstCreatePass||li(o,i),He(u,i);const y=o.initialInputs;for(let b=c;b<h;b++){const R=n.data[b],U=Vs(i,n,b,o);He(U,i),null!==y&&N_(0,b-c,U,R,0,y),yi(R)&&(ei(o.index,i)[nn]=Vs(i,n,b,o))}}(n,i,o,Bi(o,i)),64==(64&o.flags)&&uf(n,i,o))}function Hd(n,i,o=Bi){const u=i.localNames;if(null!==u){let c=i.index+1;for(let h=0;h<u.length;h+=2){const y=u[h+1],b=-1===y?o(i,n):n[y];n[c++]=b}}}function Em(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Fp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Fp(n,i,o,u,c,h,y,b,R,U){const K=Xn+u,ie=K+c,De=function ko(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:tr);return o}(K,ie),Fe="function"==typeof U?U():U;return De[se]={type:n,blueprint:De,template:o,queries:null,viewQuery:b,declTNode:i,data:De.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:R,consts:Fe,incompleteFirstPass:!1}}function Lp(n,i,o,u){const c=Mm(i);null===o?c.push(u):(c.push(o),n.firstCreatePass&&pf(n).push(u,c.length-1))}function Gl(n,i,o,u){for(let c in n)if(n.hasOwnProperty(c)){o=null===o?{}:o;const h=n[c];null===u?af(o,i,c,h):u.hasOwnProperty(c)&&af(o,i,u[c],h)}return o}function af(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function Ta(n,i,o,u,c,h,y,b){const R=Bi(i,o);let K,U=i.inputs;!b&&null!=U&&(K=U[u])?(Wp(n,o,K,u,c),Si(i)&&function P_(n,i){const o=ei(i,n);16&o[me]||(o[me]|=32)}(o,i.index)):3&i.type&&(u=function R_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),c=null!=y?y(c,i.value||"",u):c,h.setProperty(R,u,c))}function Vp(n,i,o,u){if(Dt()){const c=null===u?null:{"":-1},h=function zd(n,i){const o=n.directiveRegistry;let u=null,c=null;if(o)for(let h=0;h<o.length;h++){const y=o[h];if(Cp(i,y.selectors,!1))if(u||(u=[]),yi(y))if(null!==y.findHostDirectiveDefs){const b=[];c=c||new Map,y.findHostDirectiveDefs(y,b,c),u.unshift(...b,y),qd(n,i,b.length)}else u.unshift(y),qd(n,i,0);else c=c||new Map,y.findHostDirectiveDefs?.(y,u,c),u.push(y)}return null===u?null:[u,c]}(n,o);let y,b;null===h?y=b=null:[y,b]=h,null!==y&&Cm(n,i,o,y,c,b),c&&function Tm(n,i,o){if(i){const u=n.localNames=[];for(let c=0;c<i.length;c+=2){const h=o[i[c+1]];if(null==h)throw new Ze(-301,!1);u.push(i[c],h)}}}(o,u,c)}o.mergedAttrs=Uo(o.mergedAttrs,o.attrs)}function Cm(n,i,o,u,c,h){for(let U=0;U<u.length;U++)ki(li(o,i),n,u[U].type);!function $p(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let U=0;U<u.length;U++){const K=u[U];K.providersResolver&&K.providersResolver(K)}let y=!1,b=!1,R=ll(n,i,u.length,null);for(let U=0;U<u.length;U++){const K=u[U];o.mergedAttrs=Uo(o.mergedAttrs,K.hostAttrs),Sc(n,o,i,R,K),Bp(R,K,c),null!==K.contentQueries&&(o.flags|=4),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(o.flags|=64);const ie=K.type.prototype;!y&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),y=!0),!b&&(ie.ngOnChanges||ie.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),b=!0),R++}!function Dm(n,i,o){const c=i.directiveEnd,h=n.data,y=i.attrs,b=[];let R=null,U=null;for(let K=i.directiveStart;K<c;K++){const ie=h[K],De=o?o.get(ie):null,ct=De?De.outputs:null;R=Gl(ie.inputs,K,R,De?De.inputs:null),U=Gl(ie.outputs,K,U,ct);const At=null===R||null===y||al(i)?null:jp(R,K,y);b.push(At)}null!==R&&(R.hasOwnProperty("class")&&(i.flags|=8),R.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=b,i.inputs=R,i.outputs=U}(n,o,h)}function uf(n,i,o){const u=o.directiveStart,c=o.directiveEnd,h=o.index,y=function Ji(){return Qe.lFrame.currentDirectiveIndex}();try{Ts(h);for(let b=u;b<c;b++){const R=n.data[b],U=i[b];So(b),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&cf(R,U)}}finally{Ts(-1),So(y)}}function cf(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function qd(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function Bp(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;yi(i)&&(o[""]=n)}}function Sc(n,i,o,u,c){n.data[u]=c;const h=c.factory||(c.factory=is(c.type)),y=new jr(h,yi(c),jl);n.blueprint[u]=y,o[u]=y,function Gd(n,i,o,u,c){const h=c.hostBindings;if(h){let y=n.hostBindingOpCodes;null===y&&(y=n.hostBindingOpCodes=[]);const b=~i.index;(function Up(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=b&&y.push(b),y.push(o,u,h)}}(n,i,u,ll(n,o,c.hostVars,tr),c)}function Du(n,i,o,u,c,h){const y=Bi(n,i);!function Wd(n,i,o,u,c,h,y){if(null==h)n.removeAttribute(i,c,o);else{const b=null==y?dt(h):y(h,u||"",c);n.setAttribute(i,c,b,o)}}(i[yn],y,h,n.value,o,u,c)}function N_(n,i,o,u,c,h){const y=h[i];if(null!==y){const b=u.setInput;for(let R=0;R<y.length;){const U=y[R++],K=y[R++],ie=y[R++];null!==b?u.setInput(o,ie,U,K):o[K]=ie}}}function jp(n,i,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const y=n[h];for(let b=0;b<y.length;b+=2)if(y[b]===i){u.push(h,y[b+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return u}function Am(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Gp(n,i){const o=ei(i,n);if($(o)){const u=o[se];48&o[me]?jd(u,o,u.template,o[nn]):o[yt]>0&&df(o)}}function df(n){for(let u=dc(n);null!==u;u=hc(u))for(let c=Ci;c<u.length;c++){const h=u[c];if($(h))if(512&h[me]){const y=h[se];jd(y,h,y.template,h[nn])}else h[yt]>0&&df(h)}const o=n[se].components;if(null!==o)for(let u=0;u<o.length;u++){const c=ei(o[u],n);$(c)&&c[yt]>0&&df(c)}}function ql(n,i){const o=ei(i,n),u=o[se];(function zp(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),$d(u,o,o[nn])}function hf(n,i){return n[Er]?n[Gs][We]=i:n[Er]=i,n[Gs]=i,i}function ff(n){for(;n;){n[me]|=32;const i=$a(n);if(Xr(n)&&!i)return n;n=i}return null}function Kd(n,i,o,u=!0){const c=i[si];c.begin&&c.begin();try{jd(n,i,n.template,o)}catch(y){throw u&&gf(i,y),y}finally{c.end&&c.end()}}function qp(n,i,o){Yo(0),i(n,o)}function Mm(n){return n[Fn]||(n[Fn]=[])}function pf(n){return n.cleanup||(n.cleanup=[])}function gf(n,i){const o=n[Pn],u=o?o.get(sl,null):null;u&&u.handleError(i)}function Wp(n,i,o,u,c){for(let h=0;h<o.length;){const y=o[h++],b=o[h++],R=i[y],U=n.data[y];null!==U.setInput?U.setInput(R,c,u,b):R[b]=c}}function ou(n,i,o){const u=mo(i,n);!function Sl(n,i,o){n.setValue(i,o)}(n[yn],u,o)}function Zd(n,i,o){let u=o?n.styles:null,c=o?n.classes:null,h=0;if(null!==i)for(let y=0;y<i.length;y++){const b=i[y];"number"==typeof b?h=b:1==h?c=It(c,b):2==h&&(u=It(u,b+": "+i[++y]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=c:n.classesWithoutHost=c}function Wl(n,i,o,u,c=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(Ur(h)),oi(h))for(let b=Ci;b<h.length;b++){const R=h[b],U=R[se].firstChild;null!==U&&Wl(R[se],R,U,u)}const y=o.type;if(8&y)Wl(n,i,o.child,u);else if(32&y){const b=yu(o,i);let R;for(;R=b();)u.push(R)}else if(16&y){const b=Ah(i,o);if(Array.isArray(b))u.push(...b);else{const R=$a(i[Nr]);Wl(R[se],R,b,u,!0)}}o=c?o.projectionNext:o.next}return u}class dl{get rootNodes(){const i=this._lView,o=i[se];return Wl(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nn]}set context(i){this._lView[nn]=i}get destroyed(){return 128==(128&this._lView[me])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[be];if(oi(i)){const o=i[To],u=o?o.indexOf(this):-1;u>-1&&($u(i,u),ya(o,u))}this._attachedToViewContainer=!1}vd(this._lView[se],this._lView)}onDestroy(i){Lp(this._lView[se],this._lView,null,i)}markForCheck(){ff(this._cdRefInjectingView||this._lView)}detach(){this._lView[me]&=-65}reattach(){this._lView[me]|=64}detectChanges(){Kd(this._lView[se],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ml(n,i){Rl(n,i,i[yn],2,null,null)}(this._lView[se],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=i}}class Kp extends dl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Kd(i[se],i,i[nn],!1)}checkNoChanges(){}get context(){return null}}class hl extends Gu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=On(i);return new bu(o,this.ngModule)}}function Wu(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Kl{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=H(u);const c=this.injector.get(i,Nd,u);return c!==Nd||o===Nd?c:this.parentInjector.get(i,o,u)}}class bu extends Xg{get inputs(){return Wu(this.componentDef.inputs)}get outputs(){return Wu(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function um(n){return n.map(w_).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,c){let h=(c=c||this.ngModule)instanceof su?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new Kl(i,h):i,b=y.get(_p,null);if(null===b)throw new Ze(407,!1);const R=y.get(wp,null),U=b.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",ie=u?function M_(n,i,o){return n.selectRootElement(i,o===nt.ShadowDom)}(U,u,this.componentDef.encapsulation):Al(U,K,function Zp(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(K)),De=this.componentDef.onPush?288:272,Fe=Fp(0,null,null,1,0,null,null,null,null,null),ct=Tc(null,Fe,null,De,null,null,b,U,R,y,null);let At,en;Lo(ct);try{const pn=this.componentDef;let kn,bt=null;pn.findHostDirectiveDefs?(kn=[],bt=new Map,pn.findHostDirectiveDefs(pn,kn,bt),kn.push(pn)):kn=[pn];const ur=function F_(n,i){const o=n[se],u=Xn;return n[u]=i,qu(o,u,2,"#host",null)}(ct,ie),ms=function L_(n,i,o,u,c,h,y,b){const R=c[se];!function Yp(n,i,o,u){for(const c of n)i.mergedAttrs=Uo(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(Zd(i,i.mergedAttrs,!0),null!==o&&Mh(u,o,i))}(u,n,i,y);const U=h.createRenderer(i,o),K=Tc(c,Em(o),null,o.onPush?32:16,c[n.index],n,h,U,b||null,null,null);return R.firstCreatePass&&qd(R,n,u.length-1),hf(c,K),c[n.index]=K}(ur,ie,pn,kn,ct,b,U);en=ai(Fe,Xn),ie&&function Jp(n,i,o,u){if(u)Js(n,o,["ng-version",Hh.full]);else{const{attrs:c,classes:h}=function I_(n){const i=[],o=[];let u=1,c=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===c?""!==h&&i.push(h,n[++u]):8===c&&o.push(h);else{if(!ja(c))break;c=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);c&&Js(n,o,c),h&&h.length>0&&ju(n,o,h.join(" "))}}(U,pn,ie,u),void 0!==o&&function Xp(n,i,o){const u=n.projection=[];for(let c=0;c<i.length;c++){const h=o[c];u.push(null!=h?Array.from(h):null)}}(en,this.ngContentSelectors,o),At=function Qp(n,i,o,u,c,h){const y=Kn(),b=c[se],R=Bi(y,c);Cm(b,c,y,o,null,u);for(let K=0;K<o.length;K++)He(Vs(c,b,y.directiveStart+K,y),c);uf(b,c,y),R&&He(R,c);const U=Vs(c,b,y.directiveStart+y.componentOffset,y);if(n[nn]=c[nn]=U,null!==h)for(const K of h)K(U,i);return rf(b,y,n),U}(ms,pn,kn,bt,ct,[V_]),$d(Fe,ct,null)}finally{Ri()}return new Pm(this.componentType,At,Ca(en,ct),ct,en)}}class Pm extends rl{constructor(i,o,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Kp(c),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[i])){const h=this._rootLView;Wp(h[se],h,c,i,o),ff(ei(this._tNode.index,h))}}get injector(){return new Xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function V_(){const n=Kn();ze(Je()[se],n)}function Qd(n){let i=function km(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let c;if(yi(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ze(903,!1);c=i.\u0275dir}if(c){if(o){u.push(c);const y=n;y.inputs=tg(n.inputs),y.declaredInputs=tg(n.declaredInputs),y.outputs=tg(n.outputs);const b=c.hostBindings;b&&Om(n,b);const R=c.viewQuery,U=c.contentQueries;if(R&&Nm(n,R),U&&U_(n,U),wt(n.inputs,c.inputs),wt(n.declaredInputs,c.declaredInputs),wt(n.outputs,c.outputs),yi(c)&&c.data.animation){const K=n.data;K.animation=(K.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const b=h[y];b&&b.ngInherit&&b(n),b===Qd&&(o=!1)}}i=Object.getPrototypeOf(i)}!function eg(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const c=n[u];c.hostVars=i+=c.hostVars,c.hostAttrs=Uo(c.hostAttrs,o=Uo(o,c.hostAttrs))}}(u)}function tg(n){return n===Rt?{}:n===Ut?[]:n}function Nm(n,i){const o=n.viewQuery;n.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function U_(n,i){const o=n.contentQueries;n.contentQueries=o?(u,c,h)=>{i(u,c,h),o(u,c,h)}:i}function Om(n,i){const o=n.hostBindings;n.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}function yf(n){return!!Jd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Jd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ha(n,i,o){return n[i]=o}function No(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Ku(n,i,o,u){const c=No(n,i,o);return No(n,i+1,u)||c}function rg(n,i,o,u){const c=Je();return No(c,ui(),i)&&(Qt(),Du(Kr(),c,n,i,o,u)),rg}function Yl(n,i,o,u){return No(n,ui(),o)?i+dt(o)+u:tr}function xc(n,i,o,u,c,h){const b=Ku(n,function Or(){return Qe.lFrame.bindingIndex}(),o,c);return _o(2),b?i+dt(o)+u+dt(c)+h:tr}function Df(n,i,o,u,c,h,y,b){const R=Je(),U=Qt(),K=n+Xn,ie=U.firstCreatePass?function H_(n,i,o,u,c,h,y,b,R){const U=i.consts,K=qu(i,n,4,y||null,he(U,b));Vp(i,o,K,he(U,R)),ze(i,K);const ie=K.tView=Fp(2,K,u,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,U);return null!==i.queries&&(i.queries.template(i,K),ie.queries=i.queries.embeddedTView(K)),K}(K,U,R,i,o,u,c,h,y):U.data[K];fr(ie,!1);const De=R[yn].createComment("");Id(U,R,De,ie),He(De,R),hf(R,R[K]=Am(De,R,De,ie)),Wn(ie)&&Hl(U,R,ie),null!=y&&Hd(R,ie,b)}function bf(n){return bs(function Ys(){return Qe.lFrame.contextLView}(),Xn+n)}function Cf(n,i,o){const u=Je();return No(u,ui(),i)&&Ta(Qt(),Kr(),u,n,i,u[yn],o,!1),Cf}function Xd(n,i,o,u,c){const y=c?"class":"style";Wp(n,o,i.inputs[y],y,u)}function Tf(n,i,o,u){const c=Je(),h=Qt(),y=Xn+n,b=c[yn],R=h.firstCreatePass?function Km(n,i,o,u,c,h){const y=i.consts,R=qu(i,n,2,u,he(y,c));return Vp(i,o,R,he(y,h)),null!==R.attrs&&Zd(R,R.attrs,!1),null!==R.mergedAttrs&&Zd(R,R.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,R),R}(y,h,c,i,o,u):h.data[y],U=c[y]=Al(b,i,function W(){return Qe.lFrame.currentNamespace}()),K=Wn(R);return fr(R,!0),Mh(b,U,R),32!=(32&R.flags)&&Id(h,c,U,R),0===function x(){return Qe.lFrame.elementDepthCount}()&&He(U,c),function q(){Qe.lFrame.elementDepthCount++}(),K&&(Hl(h,c,R),rf(h,R,c)),null!==u&&Hd(c,R),Tf}function Sf(){let n=Kn();yo()?Cs():(n=n.parent,fr(n,!1));const i=n;!function Re(){Qe.lFrame.elementDepthCount--}();const o=Qt();return o.firstCreatePass&&(ze(o,n),Zi(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function ha(n){return 0!=(8&n.flags)}(i)&&Xd(o,i,Je(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ht(n){return 0!=(16&n.flags)}(i)&&Xd(o,i,Je(),i.stylesWithoutHost,!1),Sf}function eh(n,i,o,u){return Tf(n,i,o,u),Sf(),eh}function Jl(n,i,o){const u=Je(),c=Qt(),h=n+Xn,y=c.firstCreatePass?function z_(n,i,o,u,c){const h=i.consts,y=he(h,u),b=qu(i,n,8,"ng-container",y);return null!==y&&Zd(b,y,!0),Vp(i,o,b,he(h,c)),null!==i.queries&&i.queries.elementStart(i,b),b}(h,c,u,i,o):c.data[h];fr(y,!0);const b=u[h]=u[yn].createComment("");return Id(c,u,b,y),He(b,u),Wn(y)&&(Hl(c,u,y),rf(c,y,u)),null!=o&&Hd(u,y),Jl}function Xl(){let n=Kn();const i=Qt();return yo()?Cs():(n=n.parent,fr(n,!1)),i.firstCreatePass&&(ze(i,n),Zi(n)&&i.queries.elementEnd(n)),Xl}function Zm(){return Je()}function ed(n){return!!n&&"function"==typeof n.then}function Ym(n){return!!n&&"function"==typeof n.subscribe}const sg=Ym;function xf(n,i,o,u){const c=Je(),h=Qt(),y=Kn();return function th(n,i,o,u,c,h,y){const b=Wn(u),U=n.firstCreatePass&&pf(n),K=i[nn],ie=Mm(i);let De=!0;if(3&u.type||y){const At=Bi(u,i),en=y?y(At):At,pn=ie.length,kn=y?ur=>y(Ur(ur[u.index])):u.index;let bt=null;if(!y&&b&&(bt=function Qm(n,i,o,u){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===o&&c[h+1]===u){const b=i[Fn],R=c[h+2];return b.length>R?b[R]:null}"string"==typeof y&&(h+=2)}return null}(n,i,c,u.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=h,bt.__ngLastListenerFn__=h,De=!1;else{h=Xm(u,i,K,h,!1);const ur=o.listen(en,c,h);ie.push(h,ur),U&&U.push(c,kn,pn,pn+1)}}else h=Xm(u,i,K,h,!1);const Fe=u.outputs;let ct;if(De&&null!==Fe&&(ct=Fe[c])){const At=ct.length;if(At)for(let en=0;en<At;en+=2){const ms=i[ct[en]][ct[en+1]].subscribe(h),no=ie.length;ie.push(h,ms),U&&U.push(c,u.index,no,-(no+1))}}}(h,c,c[yn],y,n,i,u),xf}function Jm(n,i,o,u){try{return xi(6,i,o),!1!==o(u)}catch(c){return gf(n,c),!1}finally{xi(7,i,o)}}function Xm(n,i,o,u,c){return function h(y){if(y===Function)return u;ff(n.componentOffset>-1?ei(n.index,i):i);let R=Jm(i,o,u,y),U=h.__ngNextListenerFn__;for(;U;)R=Jm(i,o,U,y)&&R,U=U.__ngNextListenerFn__;return c&&!1===R&&(y.preventDefault(),y.returnValue=!1),R}}function ey(n=1){return function Pi(n){return(Qe.lFrame.contextLView=function Vo(n,i){for(;n>0;)i=i[Jr],n--;return i}(n,Qe.lFrame.contextLView))[nn]}(n)}function nh(n,i,o){return td(n,"",i,"",o),nh}function td(n,i,o,u,c){const h=Je(),y=Yl(h,i,o,u);return y!==tr&&Ta(Qt(),Kr(),h,n,y,h[yn],c,!1),td}function nd(n,i){return n<<17|i<<2}function Zu(n){return n>>17&32767}function dg(n){return 2|n}function gl(n){return(131068&n)>>2}function hg(n,i){return-131069&n|i<<2}function fg(n){return 1|n}function ny(n,i,o,u,c){const h=n[o+1],y=null===i;let b=u?Zu(h):gl(h),R=!1;for(;0!==b&&(!1===R||y);){const K=n[b+1];ry(n[b],i)&&(R=!0,n[b+1]=u?fg(K):dg(K)),b=u?Zu(K):gl(K)}R&&(n[o+1]=u?dg(h):fg(h))}function ry(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&N(n,i)>=0}function Ff(n,i){return function cu(n,i,o,u){const c=Je(),h=Qt(),y=_o(2);h.firstUpdatePass&&function ev(n,i,o,u){const c=n.data;if(null===c[o+1]){const h=c[ji()],y=function Vi(n,i){return i>=n.expandoStartIndex}(n,o);(function sd(n,i){return 0!=(n.flags&(i?8:16))})(h,u)&&null===i&&!y&&(i=!1),i=function tv(n,i,o,u){const c=function dr(n){const i=Qe.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=id(o=ay(null,n,i,o,u),i.attrs,u),h=null);else{const y=i.directiveStylingLast;if(-1===y||n[y]!==c)if(o=ay(c,n,i,o,u),null===h){let R=function Hs(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==gl(u))return n[Zu(u)]}(n,i,u);void 0!==R&&Array.isArray(R)&&(R=ay(null,n,i,R[1],u),R=id(R,i.attrs,u),function oy(n,i,o,u){n[Zu(o?i.classBindings:i.styleBindings)]=u}(n,i,u,R))}else h=function C0(n,i,o){let u;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)u=id(u,n[h].hostAttrs,o);return id(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(c,h,i,u),function K_(n,i,o,u,c,h){let y=h?i.classBindings:i.styleBindings,b=Zu(y),R=gl(y);n[u]=o;let K,U=!1;if(Array.isArray(o)?(K=o[1],(null===K||N(o,K)>0)&&(U=!0)):K=o,c)if(0!==R){const De=Zu(n[b+1]);n[u+1]=nd(De,b),0!==De&&(n[De+1]=hg(n[De+1],u)),n[b+1]=function lg(n,i){return 131071&n|i<<17}(n[b+1],u)}else n[u+1]=nd(b,0),0!==b&&(n[b+1]=hg(n[b+1],u)),b=u;else n[u+1]=nd(R,0),0===b?b=u:n[R+1]=hg(n[R+1],u),R=u;U&&(n[u+1]=dg(n[u+1])),ny(n,K,u,!0),ny(n,K,u,!1),function Z_(n,i,o,u,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&N(h,i)>=0&&(o[u+1]=fg(o[u+1]))}(i,K,n,u,h),y=nd(b,R),h?i.classBindings=y:i.styleBindings=y}(c,h,i,o,y,u)}}(h,n,y,u),i!==tr&&No(c,y,i)&&function rv(n,i,o,u,c,h,y,b){if(!(3&i.type))return;const R=n.data,U=R[b+1],K=function ty(n){return 1==(1&n)}(U)?iv(R,i,o,c,gl(U),y):void 0;mg(K)||(mg(h)||function rd(n){return 2==(2&n)}(U)&&(h=iv(R,null,o,c,b,y)),function gc(n,i,o,u,c){if(i)c?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:oa.DashCase;null==c?n.removeStyle(o,u,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=oa.Important),n.setStyle(o,u,c,h))}}(u,y,mo(ji(),o),c,h))}(h,h.data[ji()],c,c[yn],n,c[y+1]=function uy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ke(ru(n)))),n}(i,o),u,y)}(n,i,null,!0),Ff}function ay(n,i,o,u,c){let h=null;const y=o.directiveEnd;let b=o.directiveStylingLast;for(-1===b?b=o.directiveStart:b++;b<y&&(h=i[b],u=id(u,h.hostAttrs,c),h!==n);)b++;return null!==n&&(o.directiveStylingLast=b),u}function id(n,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const y=i[h];"number"==typeof y?c=y:c===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),m(n,y,!!o||i[++h]))}return void 0===n?null:n}function iv(n,i,o,u,c,h){const y=null===i;let b;for(;c>0;){const R=n[c],U=Array.isArray(R),K=U?R[1]:R,ie=null===K;let De=o[c+1];De===tr&&(De=ie?Ut:void 0);let Fe=ie?T(De,u):K===u?De:void 0;if(U&&!mg(Fe)&&(Fe=T(R,u)),mg(Fe)&&(b=Fe,y))return b;const ct=n[c+1];c=y?Zu(ct):gl(ct)}if(null!==i){let R=h?i.residualClasses:i.residualStyles;null!=R&&(b=T(R,u))}return b}function mg(n){return void 0!==n}function cy(n,i=""){const o=Je(),u=Qt(),c=n+Xn,h=u.firstCreatePass?qu(u,c,1,i,null):u.data[c],y=o[c]=function ba(n,i){return n.createText(i)}(o[yn],i);Id(u,o,y,h),fr(h,!1)}function Qu(n){return Ju("",n,""),Qu}function Ju(n,i,o){const u=Je(),c=Yl(u,n,i,o);return c!==tr&&ou(u,ji(),c),Ju}function ly(n,i,o,u,c){const h=Je(),y=xc(h,n,i,o,u,c);return y!==tr&&ou(h,ji(),y),ly}const _l=void 0;var x0=["en",[["a","p"],["AM","PM"],_l],[["AM","PM"],_l,_l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_l,"{1} 'at' {0}",_l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ud(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let hh={};function Dy(n){const i=function M0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=dv(i);if(o)return o;const u=i.split("-")[0];if(o=dv(u),o)return o;if("en"===u)return x0;throw new Ze(701,!1)}function lv(n){return Dy(n)[jn.PluralCase]}function dv(n){return n in hh||(hh[n]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[n]),hh[n]}var jn=(()=>((jn=jn||{})[jn.LocaleId=0]="LocaleId",jn[jn.DayPeriodsFormat=1]="DayPeriodsFormat",jn[jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",jn[jn.DaysFormat=3]="DaysFormat",jn[jn.DaysStandalone=4]="DaysStandalone",jn[jn.MonthsFormat=5]="MonthsFormat",jn[jn.MonthsStandalone=6]="MonthsStandalone",jn[jn.Eras=7]="Eras",jn[jn.FirstDayOfWeek=8]="FirstDayOfWeek",jn[jn.WeekendRange=9]="WeekendRange",jn[jn.DateFormat=10]="DateFormat",jn[jn.TimeFormat=11]="TimeFormat",jn[jn.DateTimeFormat=12]="DateTimeFormat",jn[jn.NumberSymbols=13]="NumberSymbols",jn[jn.NumberFormats=14]="NumberFormats",jn[jn.CurrencyCode=15]="CurrencyCode",jn[jn.CurrencySymbol=16]="CurrencySymbol",jn[jn.CurrencyName=17]="CurrencyName",jn[jn.Currencies=18]="Currencies",jn[jn.Directionality=19]="Directionality",jn[jn.PluralCase=20]="PluralCase",jn[jn.ExtraData=21]="ExtraData",jn))();const fh="en-US";let Tg=fh;function Fg(n,i,o,u,c){if(n=Ct(n),Array.isArray(n))for(let h=0;h<n.length;h++)Fg(n[h],i,o,u,c);else{const h=Qt(),y=Je();let b=Ic(n)?n:Ct(n.provide),R=yp(n);const U=Kn(),K=1048575&U.providerIndexes,ie=U.directiveStart,De=U.providerIndexes>>20;if(Ic(n)||!n.multi){const Fe=new jr(R,c,jl),ct=Vg(b,i,c?K:K+De,ie);-1===ct?(ki(li(U,y),h,b),Lg(h,n,i.length),i.push(b),U.directiveStart++,U.directiveEnd++,c&&(U.providerIndexes+=1048576),o.push(Fe),y.push(Fe)):(o[ct]=Fe,y[ct]=Fe)}else{const Fe=Vg(b,i,K+De,ie),ct=Vg(b,i,K,K+De),en=ct>=0&&o[ct];if(c&&!en||!c&&!(Fe>=0&&o[Fe])){ki(li(U,y),h,b);const pn=function nw(n,i,o,u,c){const h=new jr(n,o,jl);return h.multi=[],h.index=i,h.componentProviders=0,By(h,c,u&&!o),h}(c?tw:ew,o.length,c,u,R);!c&&en&&(o[ct].providerFactory=pn),Lg(h,n,i.length,0),i.push(b),U.directiveStart++,U.directiveEnd++,c&&(U.providerIndexes+=1048576),o.push(pn),y.push(pn)}else Lg(h,n,Fe>-1?Fe:ct,By(o[c?ct:Fe],R,!c&&u));!c&&u&&en&&o[ct].componentProviders++}}}function Lg(n,i,o,u){const c=Ic(i),h=function l_(n){return!!n.useClass}(i);if(c||h){const R=(h?Ct(i.useClass):i).prototype.ngOnDestroy;if(R){const U=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const K=U.indexOf(o);-1===K?U.push(o,[u,R]):U[K+1].push(u,R)}else U.push(o,R)}}}function By(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Vg(n,i,o,u){for(let c=o;c<u;c++)if(i[c]===n)return c;return-1}function ew(n,i,o,u){return $y(this.multi,[])}function tw(n,i,o,u){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Vs(o,o[se],this.providerFactory.index,u);h=b.slice(0,y),$y(c,h);for(let R=y;R<b.length;R++)h.push(b[R])}else h=[],$y(c,h);return h}function $y(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function jy(n,i=[]){return o=>{o.providersResolver=(u,c)=>function Ov(n,i,o){const u=Qt();if(u.firstCreatePass){const c=yi(n);Fg(o,u.data,u.blueprint,c,!0),Fg(i,u.data,u.blueprint,c,!1)}}(u,c?c(n):n,i)}}class vh{}class Hy{}function rw(n,i){return new Gy(n,i??null)}class Gy extends vh{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hl(this);const u=xn(i);this._bootstrapComponents=es(u.bootstrap),this._r3Injector=hm(i,o,[{provide:vh,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver}],ke(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class zy extends Hy{constructor(i){super(),this.moduleType=i}create(i){return new Gy(this.moduleType,i)}}class iw extends vh{constructor(i,o,u){super(),this.componentFactoryResolver=new hl(this),this.instance=null;const c=new gp([...i,{provide:vh,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver}],o||Eu(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function qy(n,i,o=null){return new iw(n,i,o).injector}let Fv=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Wg(0,o.type),c=u.length>0?qy([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Mn({token:n,providedIn:"environment",factory:()=>new n(ce(su))}),n})();function Lv(n){n.getStandaloneInjector=i=>i.get(Fv).getOrCreateStandaloneInjector(n)}function Yy(n,i,o){const u=$i()+n,c=Je();return c[u]===tr?Ha(c,u,o?i.call(o):i()):function Zl(n,i){return n[i]}(c,u)}function jv(n,i,o,u){return Hv(Je(),$i(),n,i,o,u)}function wh(n,i){const o=n[i];return o===tr?void 0:o}function Hv(n,i,o,u,c,h){const y=i+o;return No(n,y,c)?Ha(n,y+1,h?u.call(h,c):u(c)):wh(n,y+1)}function zv(n,i,o,u,c,h,y,b){const R=i+o;return function _f(n,i,o,u,c){const h=Ku(n,i,o,u);return No(n,i+2,c)||h}(n,R,c,h,y)?Ha(n,R+3,b?u.call(b,c,h,y):u(c,h,y)):wh(n,R+3)}function Kv(n,i){const o=Qt();let u;const c=n+Xn;o.firstCreatePass?(u=function Iw(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const h=u.factory||(u.factory=is(u.type)),y=Tn(jl);try{const b=pa(!1),R=h();return pa(b),function G_(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,Je(),c,R),R}finally{Tn(y)}}function Zv(n,i,o){const u=n+Xn,c=Je(),h=bs(c,u);return Kf(c,u)?Hv(c,$i(),i,h.transform,o,h):h.transform(o)}function Yv(n,i,o,u){const c=n+Xn,h=Je(),y=bs(h,c);return Kf(h,c)?function Gv(n,i,o,u,c,h,y){const b=i+o;return Ku(n,b,c,h)?Ha(n,b+2,y?u.call(y,c,h):u(c,h)):wh(n,b+2)}(h,$i(),i,y.transform,o,u,y):y.transform(o,u)}function Qy(n,i,o,u,c){const h=n+Xn,y=Je(),b=bs(y,h);return Kf(y,h)?zv(y,$i(),i,b.transform,o,u,c,b):b.transform(o,u,c)}function Kf(n,i){return n[se].data[i].pure}function e(n){return i=>{setTimeout(n,void 0,i)}}const t=class r extends w.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let c=i,h=o||(()=>null),y=u;if(i&&"object"==typeof i){const R=i;c=R.next?.bind(R),h=R.error?.bind(R),y=R.complete?.bind(R)}this.__isAsync&&(h=e(h),c&&(c=e(c)),y&&(y=e(y)));const b=super.subscribe({next:c,error:h,complete:y});return i instanceof g.w0&&i.add(b),b}};function s(){return this._results[Symbol.iterator]()}class a{get changes(){return this._changes||(this._changes=new t)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=a.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=s)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=function Ii(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Ya(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let c=n[u],h=i[u];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let l=(()=>{class n{}return n.__NG_ELEMENT_ID__=O,n})();const f=l,D=class extends f{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,c=Tc(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);c[Ki]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[qr];return null!==y&&(c[qr]=y.createEmbeddedView(u)),$d(u,c,i),new dl(c)}};function O(){return V(Kn(),Je())}function V(n,i){return 4&n.type?new D(i,n,Ca(n,i)):null}let Z=(()=>{class n{}return n.__NG_ELEMENT_ID__=ye,n})();function ye(){return on(Kn(),Je())}const Le=Z,rt=class extends Le{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new Xs(this._hostTNode,this._hostLView)}get parentInjector(){const i=Qo(this._hostTNode,this._hostLView);if(qe(i)){const o=fa(i,this._hostLView),u=pt(i);return new Xs(o[se].data[u+8],o)}return new Xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=St(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Ci}createEmbeddedView(i,o,u){let c,h;"number"==typeof u?c=u:null!=u&&(c=u.index,h=u.injector);const y=i.createEmbeddedView(o||{},h);return this.insert(y,c),y}createComponent(i,o,u,c,h){const y=i&&!function Pa(n){return"function"==typeof n}(i);let b;if(y)b=o;else{const ie=o||{};b=ie.index,u=ie.injector,c=ie.projectableNodes,h=ie.environmentInjector||ie.ngModuleRef}const R=y?i:new bu(On(i)),U=u||this.parentInjector;if(!h&&null==R.ngModule){const De=(y?U:this.parentInjector).get(su,null);De&&(h=De)}const K=R.create(U,c,void 0,h);return this.insert(K.hostView,b),K}insert(i,o){const u=i._lView,c=u[se];if(function ae(n){return oi(n[be])}(u)){const K=this.indexOf(i);if(-1!==K)this.detach(K);else{const ie=u[be],De=new rt(ie,ie[Bt],ie[be]);De.detach(De.indexOf(i))}}const h=this._adjustIndex(o),y=this._lContainer;!function to(n,i,o,u){const c=Ci+u,h=o.length;u>0&&(o[c-1][We]=i),u<h-Ci?(i[We]=o[c],ka(o,Ci+u,i)):(o.push(i),i[We]=null),i[be]=o;const y=i[Ki];null!==y&&o!==y&&function _d(n,i){const o=n[rs];i[Nr]!==i[be][be][Nr]&&(n[ho]=!0),null===o?n[rs]=[i]:o.push(i)}(y,i);const b=i[qr];null!==b&&b.insertView(n),i[me]|=64}(c,u,y,h);const b=Ed(h,y),R=u[yn],U=jc(R,y[qs]);return null!==U&&function Bu(n,i,o,u,c,h){u[bi]=c,u[Bt]=i,Rl(n,u,o,1,c,h)}(c,y[Bt],R,u,U,b),i.attachToViewContainerRef(),ka(Xt(y),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=St(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=$u(this._lContainer,o);u&&(ya(Xt(this._lContainer),o),vd(u[se],u))}detach(i){const o=this._adjustIndex(i,-1),u=$u(this._lContainer,o);return u&&null!=ya(Xt(this._lContainer),o)?new dl(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function St(n){return n[To]}function Xt(n){return n[To]||(n[To]=[])}function on(n,i){let o;const u=i[n.index];if(oi(u))o=u;else{let c;if(8&n.type)c=Ur(u);else{const h=i[yn];c=h.createComment("");const y=Bi(n,i);Ro(h,jc(h,y),c,function tu(n,i){return n.nextSibling(i)}(h,y),!1)}i[n.index]=o=Am(u,i,c,n),hf(i,o)}return new rt(o,n,i)}class sr{constructor(i){this.queryList=i,this.matches=null}clone(){return new sr(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mr{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let h=0;h<u;h++){const y=o.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new Mr(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==xw(i,o).matches&&this.queries[o].setDirty()}}class yr{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Rs{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,c);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new Rs(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class gs{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new gs(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(i,o,qi(o,h)),this.matchTNodeWithReadOption(i,o,Mt(o,i,h,!1,!1))}else u===l?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Mt(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Ll||c===Z||c===l&&4&o.type)this.addMatch(o.index,-2);else{const h=Mt(o,i,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function qi(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function wl(n,i,o,u){return-1===o?function ua(n,i){return 11&n.type?Ca(n,i):4&n.type?V(n,i):null}(i,n):-2===o?function Jy(n,i,o){return o===Ll?Ca(i,n):o===l?V(i,n):o===Z?on(i,n):void 0}(n,i,u):Vs(n,n[se],o,i)}function Dw(n,i,o,u){const c=i[qr].queries[u];if(null===c.matches){const h=n.data,y=o.matches,b=[];for(let R=0;R<y.length;R+=2){const U=y[R];b.push(U<0?null:wl(i,h[U],y[R+1],o.metadata.read))}c.matches=b}return c.matches}function Jv(n,i,o,u){const c=n.queries.getByIndex(o),h=c.matches;if(null!==h){const y=Dw(n,i,c,o);for(let b=0;b<h.length;b+=2){const R=h[b];if(R>0)u.push(y[b/2]);else{const U=h[b+1],K=i[-R];for(let ie=Ci;ie<K.length;ie++){const De=K[ie];De[Ki]===De[be]&&Jv(De[se],De,U,u)}if(null!==K[rs]){const ie=K[rs];for(let De=0;De<ie.length;De++){const Fe=ie[De];Jv(Fe[se],Fe,U,u)}}}}}return u}function bw(n){const i=Je(),o=Qt(),u=xu();Yo(u+1);const c=xw(o,u);if(n.dirty&&function j(n){return 4==(4&n[me])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?Jv(o,i,u,[]):Dw(o,i,c,u);n.reset(h,h_),n.notifyOnChanges()}return!0}return!1}function Cw(n,i,o,u){const c=Qt();if(c.firstCreatePass){const h=Kn();(function Aw(n,i,o){null===n.queries&&(n.queries=new Rs),n.queries.track(new gs(i,o))})(c,new yr(i,o,u),h.index),function MI(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}!function Sw(n,i,o){const u=new a(4==(4&o));Lp(n,i,u,u.destroy),null===i[qr]&&(i[qr]=new Mr),i[qr].queries.push(new sr(u))}(c,Je(),o)}function Tw(){return function xI(n,i){return n[qr].queries[i].queryList}(Je(),xu())}function xw(n,i){return n.queries.getByIndex(i)}function Xv(n){return!!xn(n)}function e_(...n){}const Ww=new br("Application Initializer");let t_=(()=>{class n{constructor(o){this.appInits=o,this.resolve=e_,this.reject=e_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(ed(h))o.push(h);else if(sg(h)){const y=new Promise((b,R)=>{h.subscribe({complete:b,error:R})});o.push(y)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(ce(Ww,8))},n.\u0275prov=Mn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kw=new br("AppId",{providedIn:"root",factory:function Zw(){return`${s0()}${s0()}${s0()}`}});function s0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yw=new br("Platform Initializer"),QI=new br("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let JI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Mn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const n_=new br("LocaleId",{providedIn:"root",factory:()=>re(n_,st.Optional|st.SkipSelf)||function XI(){return typeof $localize<"u"&&$localize.locale||fh}()}),eE=new br("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let nE=(()=>{class n{compileModuleSync(o){return new zy(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=es(xn(o).declarations).reduce((y,b)=>{const R=On(b);return R&&y.push(new bu(R)),y},[]);return new tE(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Mn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sE=(()=>Promise.resolve(0))();function o0(n){typeof Zone>"u"?sE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Au{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new t(!1),this.onMicrotaskEmpty=new t(!1),this.onStable=new t(!1),this.onError=new t(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function oE(){let n=Sn.requestAnimationFrame,i=Sn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function cE(n){const i=()=>{!function uE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,u0(n),n.isCheckStableRunning=!0,a0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),u0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,h,y,b)=>{try{return Xw(n),o.invokeTask(c,h,y,b)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),eI(n)}},onInvoke:(o,u,c,h,y,b,R)=>{try{return Xw(n),o.invoke(c,h,y,b,R)}finally{n.shouldCoalesceRunChangeDetection&&i(),eI(n)}},onHasTask:(o,u,c,h)=>{o.hasTask(c,h),u===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,u0(n),a0(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,c,h)=>(o.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Au.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(Au.isInAngularZone())throw new Ze(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,i,aE,e_,e_);try{return h.runTask(y,o,u)}finally{h.cancelTask(y)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const aE={};function a0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function u0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Xw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function eI(n){n._nesting--,a0(n)}class lE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new t,this.onMicrotaskEmpty=new t,this.onStable=new t,this.onError=new t}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}const tI=new br(""),nI=new br("");let c0,dE=(()=>{class n{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,c0||(function hE(n){c0=n}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Au.assertNotInAngularZone(),o0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())o0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(ce(Au),ce(rI),ce(nI))},n.\u0275prov=Mn({token:n,factory:n.\u0275fac}),n})(),rI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return c0?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Mn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Il=!1;let dd=null;const iI=new br("AllowMultipleToken"),l0=new br("PlatformDestroyListeners"),sI=new br("appBootstrapListener");class gE{constructor(i,o){this.name=i,this.token=o}}function aI(n,i,o=[]){const u=`Platform: ${i}`,c=new br(u);return(h=[])=>{let y=d0();if(!y||y.injector.get(iI,!1)){const b=[...o,...h,{provide:c,useValue:!0}];n?n(b):function mE(n){if(dd&&!dd.get(iI,!1))throw new Ze(400,!1);dd=n;const i=n.get(cI);(function oI(n){const i=n.get(Yw,null);i&&i.forEach(o=>o())})(n)}(function uI(n=[],i){return ul.create({name:i,providers:[{provide:$h,useValue:"platform"},{provide:l0,useValue:new Set([()=>dd=null])},...n]})}(b,u))}return function _E(n){const i=d0();if(!i)throw new Ze(401,!1);return i}()}}function d0(){return dd?.get(cI)??null}let cI=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function dI(n,i){let o;return o="noop"===n?new lE:("zone.js"===n?void 0:n)||new Au(i),o}(u?.ngZone,function lI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Au,useValue:c}];return c.run(()=>{const y=ul.create({providers:h,parent:this.injector,name:o.moduleType.name}),b=o.create(y),R=b.injector.get(sl,null);if(!R)throw new Ze(402,!1);return c.runOutsideAngular(()=>{const U=c.onError.subscribe({next:K=>{R.handleError(K)}});b.onDestroy(()=>{i_(this._modules,b),U.unsubscribe()})}),function hI(n,i,o){try{const u=o();return ed(u)?u.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(R,c,()=>{const U=b.injector.get(t_);return U.runInitializers(),U.donePromise.then(()=>(function Cy(n){ln(n,"Expected localeId to be defined"),"string"==typeof n&&(Tg=n.toLowerCase().replace(/_/g,"-"))}(b.injector.get(n_,fh)||fh),this._moduleDoBootstrap(b),b))})})}bootstrapModule(o,u=[]){const c=fI({},u);return function fE(n,i,o){const u=new zy(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const u=o.injector.get(r_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Ze(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(l0,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(ce(ul))},n.\u0275prov=Mn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function fI(n,i){return Array.isArray(i)?i.reduce(fI,n):{...n,...i}}let r_=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,c){this._zone=o,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new we.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new we.y(b=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Au.assertNotInAngularZone(),o0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{Au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{R.unsubscribe(),U.unsubscribe()}});this.isStable=function Ge(...n){const i=(0,_e.yG)(n),o=(0,_e._6)(n,1/0),u=n;return u.length?1===u.length?(0,xe.Xf)(u[0]):(0,ne.J)(o)((0,ut.D)(u,i)):le.E}(h,y.pipe(function Ke(n={}){const{connector:i=(()=>new w.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:c=!0}=n;return h=>{let y,b,R,U=0,K=!1,ie=!1;const De=()=>{b?.unsubscribe(),b=void 0},Fe=()=>{De(),y=R=void 0,K=ie=!1},ct=()=>{const At=y;Fe(),At?.unsubscribe()};return(0,ge.e)((At,en)=>{U++,!ie&&!K&&De();const pn=R=R??i();en.add(()=>{U--,0===U&&!ie&&!K&&(b=at(ct,c))}),pn.subscribe(en),!y&&U>0&&(y=new fe.Hp({next:kn=>pn.next(kn),error:kn=>{ie=!0,De(),b=at(Fe,o,kn),pn.error(kn)},complete:()=>{K=!0,De(),b=at(Fe,u),pn.complete()}}),(0,xe.Xf)(At).subscribe(y))})(h)}}()))}bootstrap(o,u){const c=o instanceof Xg;if(!this._injector.get(t_).done){!c&&as(o);throw new Ze(405,Il)}let y;y=c?o:this._injector.get(Gu).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const b=function pE(n){return n.isBoundToModule}(y)?void 0:this._injector.get(vh),U=y.create(ul.NULL,[],u||y.selector,b),K=U.location.nativeElement,ie=U.injector.get(tI,null);return ie?.registerApplication(K),U.onDestroy(()=>{this.detachView(U.hostView),i_(this.components,U),ie?.unregisterApplication(K)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;i_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(sI,[]);u.push(...this._bootstrapListeners),u.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>i_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ze(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(ce(Au),ce(su),ce(sl))},n.\u0275prov=Mn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function i_(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let wE=(()=>{class n{}return n.__NG_ELEMENT_ID__=IE,n})();function IE(n){return function EE(n,i,o){if(Si(n)&&!o){const u=ei(n.index,i);return new dl(u,u)}return 47&n.type?new dl(i[Nr],i):null}(Kn(),Je(),16==(16&n))}class _I{constructor(){}supports(i){return yf(i)}create(i){return new AE(i)}}const SE=(n,i)=>i;class AE{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||SE}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,h=null;for(;o||u;){const y=!u||o&&o.currentIndex<wI(u,c,h)?o:u,b=wI(y,c,h),R=y.currentIndex;if(y===u)c--,u=u._nextRemoved;else if(o=o._next,null==y.previousIndex)c++;else{h||(h=[]);const U=b-c,K=R-c;if(U!=K){for(let De=0;De<U;De++){const Fe=De<h.length?h[De]:h[De]=0,ct=Fe+De;K<=ct&&ct<U&&(h[De]=Fe+1)}h[y.previousIndex]=K-U}}b!==R&&i(y,b,R)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!yf(i))throw new Ze(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,y,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let b=0;b<this.length;b++)h=i[b],y=this._trackByFn(b,h),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,h,y,b)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,y,b),u=!0),o=o._next}else c=0,function j_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,b=>{y=this._trackByFn(c,b),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,b,y,c)),Object.is(o.item,b)||this._addIdentityChange(o,b)):(o=this._mismatch(o,b,y,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,c)):i=this._addAfter(new xE(o,u),h,c),i}_verifyReinsertion(i,o,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new vI),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class xE{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ME{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class vI{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new ME,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wI(n,i,o){const u=n.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class II{constructor(){}supports(i){return i instanceof Map||Jd(i)}create(){return new RE}}class RE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Jd(i)))throw new Ze(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const u=new PE(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class PE{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EI(){return new m0([new _I])}let m0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||EI()),deps:[[n,new Hr,new Gi]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Ze(901,!1)}}return n.\u0275prov=Mn({token:n,providedIn:"root",factory:EI}),n})();function DI(){return new y0([new II])}let y0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||DI()),deps:[[n,new Hr,new Gi]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Ze(901,!1)}}return n.\u0275prov=Mn({token:n,providedIn:"root",factory:DI}),n})();const OE=aI(null,"core",[]);let FE=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(ce(r_))},n.\u0275mod=Cr({type:n}),n.\u0275inj=or({}),n})();function LE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(_n,lt,Y)=>{Y.d(lt,{Fj:()=>ft,qu:()=>$,u:()=>us,sg:()=>Wn,u5:()=>Xe,Fd:()=>is,wO:()=>Ko,qQ:()=>Ai,JJ:()=>Zr,JL:()=>Cn,F:()=>yt,On:()=>ws,wV:()=>ns,UX:()=>Qe,kI:()=>Ht,_Y:()=>ro});var w=Y(8256),g=Y(6895),we=Y(8996),ne=Y(9751),xe=Y(4742),le=Y(8421),_e=Y(7669),ut=Y(5403),Ge=Y(3268),fe=Y(1810),Ke=Y(4004);let at=(()=>{class P{constructor(x,q){this._renderer=x,this._elementRef=q,this.onChange=Re=>{},this.onTouched=()=>{}}setProperty(x,q){this._renderer.setProperty(this._elementRef.nativeElement,x,q)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return P.\u0275fac=function(x){return new(x||P)(w.Y36(w.Qsj),w.Y36(w.SBq))},P.\u0275dir=w.lG2({type:P}),P})(),pe=(()=>{class P extends at{}return P.\u0275fac=function(){let M;return function(q){return(M||(M=w.n5z(P)))(q||P)}}(),P.\u0275dir=w.lG2({type:P,features:[w.qOj]}),P})();const wt=new w.OlP("NgValueAccessor"),Tt={provide:wt,useExisting:(0,w.Gpc)(()=>ft),multi:!0},Ct=new w.OlP("CompositionEventMode");let ft=(()=>{class P extends at{constructor(x,q,Re){super(x,q),this._compositionMode=Re,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vn(){const P=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(P.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return P.\u0275fac=function(x){return new(x||P)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(Ct,8))},P.\u0275dir=w.lG2({type:P,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,q){1&x&&w.NdJ("input",function(Dt){return q._handleInput(Dt.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(Dt){return q._compositionEnd(Dt.target.value)})},features:[w._Bn([Tt]),w.qOj]}),P})();const _t=!1;function et(P){return null==P||("string"==typeof P||Array.isArray(P))&&0===P.length}function Et(P){return null!=P&&"number"==typeof P.length}const Ze=new w.OlP("NgValidators"),gt=new w.OlP("NgAsyncValidators"),dt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ht{static min(M){return Lt(M)}static max(M){return wn(M)}static required(M){return function Ve(P){return et(P.value)?{required:!0}:null}(M)}static requiredTrue(M){return function mn(P){return!0===P.value?null:{required:!0}}(M)}static email(M){return function Vt(P){return et(P.value)||dt.test(P.value)?null:{email:!0}}(M)}static minLength(M){return qn(M)}static maxLength(M){return function tn(P){return M=>Et(M.value)&&M.value.length>P?{maxlength:{requiredLength:P,actualLength:M.value.length}}:null}(M)}static pattern(M){return function Ne(P){if(!P)return Me;let M,x;return"string"==typeof P?(x="","^"!==P.charAt(0)&&(x+="^"),x+=P,"$"!==P.charAt(P.length-1)&&(x+="$"),M=new RegExp(x)):(x=P.toString(),M=P),q=>{if(et(q.value))return null;const Re=q.value;return M.test(Re)?null:{pattern:{requiredPattern:x,actualValue:Re}}}}(M)}static nullValidator(M){return null}static compose(M){return Gt(M)}static composeAsync(M){return ln(M)}}function Lt(P){return M=>{if(et(M.value)||et(P))return null;const x=parseFloat(M.value);return!isNaN(x)&&x<P?{min:{min:P,actual:M.value}}:null}}function wn(P){return M=>{if(et(M.value)||et(P))return null;const x=parseFloat(M.value);return!isNaN(x)&&x>P?{max:{max:P,actual:M.value}}:null}}function qn(P){return M=>et(M.value)||!Et(M.value)?null:M.value.length<P?{minlength:{requiredLength:P,actualLength:M.value.length}}:null}function Me(P){return null}function je(P){return null!=P}function $e(P){const M=(0,w.QGY)(P)?(0,we.D)(P):P;if(_t&&!(0,w.CqO)(M)){let x="Expected async validator to return Promise or Observable.";throw"object"==typeof P&&(x+=" Are you using a synchronous validator where an async validator is expected?"),new w.vHH(-1101,x)}return M}function mt(P){let M={};return P.forEach(x=>{M=null!=x?{...M,...x}:M}),0===Object.keys(M).length?null:M}function vt(P,M){return M.map(x=>x(P))}function an(P){return P.map(M=>function Ot(P){return!P.validate}(M)?M:x=>M.validate(x))}function Gt(P){if(!P)return null;const M=P.filter(je);return 0==M.length?null:function(x){return mt(vt(x,M))}}function xt(P){return null!=P?Gt(an(P)):null}function ln(P){if(!P)return null;const M=P.filter(je);return 0==M.length?null:function(x){return function ge(...P){const M=(0,_e.jO)(P),{args:x,keys:q}=(0,xe.D)(P),Re=new ne.y(Dt=>{const{length:En}=x;if(!En)return void Dt.complete();const Qn=new Array(En);let Je=En,Qt=En;for(let Qi=0;Qi<En;Qi++){let $r=!1;(0,le.Xf)(x[Qi]).subscribe((0,ut.x)(Dt,Kn=>{$r||($r=!0,Qt--),Qn[Qi]=Kn},()=>Je--,void 0,()=>{(!Je||!$r)&&(Qt||Dt.next(q?(0,fe.n)(q,Qn):Qn),Dt.complete())}))}});return M?Re.pipe((0,Ge.Z)(M)):Re}(vt(x,M).map($e)).pipe((0,Ke.U)(mt))}}function Yt(P){return null!=P?ln(an(P)):null}function Vn(P,M){return null===P?[M]:Array.isArray(P)?[...P,M]:[P,M]}function zn(P){return P._rawValidators}function Hn(P){return P._rawAsyncValidators}function Mn(P){return P?Array.isArray(P)?P:[P]:[]}function nr(P,M){return Array.isArray(P)?P.includes(M):P===M}function or(P,M){const x=Mn(M);return Mn(P).forEach(Re=>{nr(x,Re)||x.push(Re)}),x}function qt(P,M){return Mn(M).filter(x=>!nr(P,x))}class Jn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=xt(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M){this.control&&this.control.reset(M)}hasError(M,x){return!!this.control&&this.control.hasError(M,x)}getError(M,x){return this.control?this.control.getError(M,x):null}}class ar extends Jn{get formDirective(){return null}get path(){return null}}class vr extends Jn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ri{constructor(M){this._cd=M}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zr=(()=>{class P extends ri{constructor(x){super(x)}}return P.\u0275fac=function(x){return new(x||P)(w.Y36(vr,2))},P.\u0275dir=w.lG2({type:P,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,q){2&x&&w.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)},features:[w.qOj]}),P})(),Cn=(()=>{class P extends ri{constructor(x){super(x)}}return P.\u0275fac=function(x){return new(x||P)(w.Y36(ar,10))},P.\u0275dir=w.lG2({type:P,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,q){2&x&&w.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)("ng-submitted",q.isSubmitted)},features:[w.qOj]}),P})();function ii(P,M){return P?`with name: '${M}'`:`at index: ${M}`}const Bn=!1,zt="VALID",rr="INVALID",ce="PENDING",L="DISABLED";function re(P){return(oe(P)?P.validators:P)||null}function ee(P,M){return(oe(M)?M.asyncValidators:P)||null}function oe(P){return null!=P&&!Array.isArray(P)&&"object"==typeof P}function ue(P,M,x){const q=P.controls;if(!(M?Object.keys(q):q).length)throw new w.vHH(1e3,Bn?function _r(P){return`\n    There are no form controls registered with this ${P?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(M):"");if(!q[x])throw new w.vHH(1001,Bn?function hn(P,M){return`Cannot find form control ${ii(P,M)}`}(M,x):"")}function te(P,M,x){P._forEachChild((q,Re)=>{if(void 0===x[Re])throw new w.vHH(1002,Bn?function Vr(P,M){return`Must supply a value for form control ${ii(P,M)}`}(M,Re):"")})}class Ee{constructor(M,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===zt}get invalid(){return this.status===rr}get pending(){return this.status==ce}get disabled(){return this.status===L}get enabled(){return this.status!==L}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(or(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(or(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(qt(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(qt(M,this._rawAsyncValidators))}hasValidator(M){return nr(this._rawValidators,M)}hasAsyncValidator(M){return nr(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=ce,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const x=this._parentMarkedDirty(M.onlySelf);this.status=L,this.errors=null,this._forEachChild(q=>{q.disable({...M,onlySelf:!0})}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:x}),this._onDisabledChange.forEach(q=>q(!0))}enable(M={}){const x=this._parentMarkedDirty(M.onlySelf);this.status=zt,this._forEachChild(q=>{q.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:x}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zt||this.status===ce)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?L:zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=ce,this._hasOwnPendingAsyncValidator=!0;const x=$e(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,x={}){this.errors=M,this._updateControlsErrors(!1!==x.emitEvent)}get(M){let x=M;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((q,Re)=>q&&q._find(Re),this)}getError(M,x){const q=x?this.get(x):this;return q&&q.errors?q.errors[M]:null}hasError(M,x){return!!this.getError(M,x)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?L:this.errors?rr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ce)?ce:this._anyControlsHaveStatus(rr)?rr:zt}_anyControlsHaveStatus(M){return this._anyControls(x=>x.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){oe(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function H(P){return Array.isArray(P)?xt(P):P||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function Ie(P){return Array.isArray(P)?Yt(P):P||null}(this._rawAsyncValidators)}}class Be extends Ee{constructor(M,x,q){super(re(x),ee(q,x)),this.controls=M,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,x){return this.controls[M]?this.controls[M]:(this.controls[M]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(M,x,q={}){this.registerControl(M,x),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(M,x={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(M,x,q={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],x&&this.registerControl(M,x),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,x={}){te(this,!0,M),Object.keys(M).forEach(q=>{ue(this,!0,q),this.controls[q].setValue(M[q],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(M,x={}){null!=M&&(Object.keys(M).forEach(q=>{const Re=this.controls[q];Re&&Re.patchValue(M[q],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(M={},x={}){this._forEachChild((q,Re)=>{q.reset(M[Re],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(M,x,q)=>(M[q]=x.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(x,q)=>!!q._syncPendingControls()||x);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(x=>{const q=this.controls[x];q&&M(q,x)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const[x,q]of Object.entries(this.controls))if(this.contains(x)&&M(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,q,Re)=>((q.enabled||this.disabled)&&(x[Re]=q.value),x))}_reduceChildren(M,x){let q=M;return this._forEachChild((Re,Dt)=>{q=x(q,Re,Dt)}),q}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(M){return this.controls.hasOwnProperty(M)?this.controls[M]:null}}class Ut extends Be{}const gr=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ue}),Ue="always";function Pe(P,M){return[...M.path,P]}function ot(P,M,x=Ue){Rn(P,M),M.valueAccessor.writeValue(P.value),(P.disabled||"always"===x)&&M.valueAccessor.setDisabledState?.(P.disabled),function lr(P,M){M.valueAccessor.registerOnChange(x=>{P._pendingValue=x,P._pendingChange=!0,P._pendingDirty=!0,"change"===P.updateOn&&ys(P,M)})}(P,M),function ts(P,M){const x=(q,Re)=>{M.valueAccessor.writeValue(q),Re&&M.viewToModelUpdate(q)};P.registerOnChange(x),M._registerOnDestroy(()=>{P._unregisterOnChange(x)})}(P,M),function Cr(P,M){M.valueAccessor.registerOnTouched(()=>{P._pendingTouched=!0,"blur"===P.updateOn&&P._pendingChange&&ys(P,M),"submit"!==P.updateOn&&P.markAsTouched()})}(P,M),function bn(P,M){if(M.valueAccessor.setDisabledState){const x=q=>{M.valueAccessor.setDisabledState(q)};P.registerOnDisabledChange(x),M._registerOnDestroy(()=>{P._unregisterOnDisabledChange(x)})}}(P,M)}function Wt(P,M,x=!0){const q=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(q),M.valueAccessor.registerOnTouched(q)),Rr(P,M),P&&(M._invokeOnDestroyCallbacks(),P._registerOnCollectionChange(()=>{}))}function fn(P,M){P.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(M)})}function Rn(P,M){const x=zn(P);null!==M.validator?P.setValidators(Vn(x,M.validator)):"function"==typeof x&&P.setValidators([x]);const q=Hn(P);null!==M.asyncValidator?P.setAsyncValidators(Vn(q,M.asyncValidator)):"function"==typeof q&&P.setAsyncValidators([q]);const Re=()=>P.updateValueAndValidity();fn(M._rawValidators,Re),fn(M._rawAsyncValidators,Re)}function Rr(P,M){let x=!1;if(null!==P){if(null!==M.validator){const Re=zn(P);if(Array.isArray(Re)&&Re.length>0){const Dt=Re.filter(En=>En!==M.validator);Dt.length!==Re.length&&(x=!0,P.setValidators(Dt))}}if(null!==M.asyncValidator){const Re=Hn(P);if(Array.isArray(Re)&&Re.length>0){const Dt=Re.filter(En=>En!==M.asyncValidator);Dt.length!==Re.length&&(x=!0,P.setAsyncValidators(Dt))}}}const q=()=>{};return fn(M._rawValidators,q),fn(M._rawAsyncValidators,q),x}function ys(P,M){P._pendingDirty&&P.markAsDirty(),P.setValue(P._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(P._pendingValue),P._pendingChange=!1}function Wi(P,M){Rn(P,M)}function gi(P,M){if(!P.hasOwnProperty("model"))return!1;const x=P.model;return!!x.isFirstChange()||!Object.is(M,x.currentValue)}function Di(P,M){P._syncPendingControls(),M.forEach(x=>{const q=x.control;"submit"===q.updateOn&&q._pendingChange&&(x.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}function bi(P,M){if(!M)return null;let x,q,Re;return Array.isArray(M),M.forEach(Dt=>{Dt.constructor===ft?x=Dt:function mi(P){return Object.getPrototypeOf(P.constructor)===pe}(Dt)?q=Dt:Re=Dt}),Re||q||x||null}const be={provide:ar,useExisting:(0,w.Gpc)(()=>yt)},We=(()=>Promise.resolve())();let yt=(()=>{class P extends ar{constructor(x,q,Re){super(),this.callSetDisabledState=Re,this.submitted=!1,this._directives=new Set,this.ngSubmit=new w.vpe,this.form=new Be({},xt(x),Yt(q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){We.then(()=>{const q=this._findContainer(x.path);x.control=q.registerControl(x.name,x.control),ot(x.control,x,this.callSetDisabledState),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){We.then(()=>{const q=this._findContainer(x.path);q&&q.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){We.then(()=>{const q=this._findContainer(x.path),Re=new Be({});Wi(Re,x),q.registerControl(x.name,Re),Re.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){We.then(()=>{const q=this._findContainer(x.path);q&&q.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,q){We.then(()=>{this.form.get(x.path).setValue(q)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,Di(this.form,this._directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}}return P.\u0275fac=function(x){return new(x||P)(w.Y36(Ze,10),w.Y36(gt,10),w.Y36(gr,8))},P.\u0275dir=w.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(x,q){1&x&&w.NdJ("submit",function(Dt){return q.onSubmit(Dt)})("reset",function(){return q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([be]),w.qOj]}),P})();function Bt(P,M){const x=P.indexOf(M);x>-1&&P.splice(x,1)}function Fn(P){return"object"==typeof P&&null!==P&&2===Object.keys(P).length&&"value"in P&&"disabled"in P}const nn=class extends Ee{constructor(M=null,x,q){super(re(x),ee(q,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oe(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=Fn(M)?M.value:M)}setValue(M,x={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(M,x={}){this.setValue(M,x)}reset(M=this.defaultValue,x={}){this._applyFormState(M),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){Bt(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){Bt(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){Fn(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},vs={provide:vr,useExisting:(0,w.Gpc)(()=>ws)},qr=(()=>Promise.resolve())();let ws=(()=>{class P extends vr{constructor(x,q,Re,Dt,En,Qn){super(),this._changeDetectorRef=En,this.callSetDisabledState=Qn,this.control=new nn,this._registered=!1,this.update=new w.vpe,this._parent=x,this._setValidators(q),this._setAsyncValidators(Re),this.valueAccessor=bi(0,Dt)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const q=x.name.previousValue;this.formDirective.removeControl({name:q,path:this._getPath(q)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),gi(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ot(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){qr.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const q=x.isDisabled.currentValue,Re=0!==q&&(0,w.D6c)(q);qr.then(()=>{Re&&!this.control.disabled?this.control.disable():!Re&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?Pe(x,this._parent):[x]}}return P.\u0275fac=function(x){return new(x||P)(w.Y36(ar,9),w.Y36(Ze,10),w.Y36(gt,10),w.Y36(wt,10),w.Y36(w.sBO,8),w.Y36(gr,8))},P.\u0275dir=w.lG2({type:P,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[w._Bn([vs]),w.qOj,w.TTD]}),P})(),ro=(()=>{class P{}return P.\u0275fac=function(x){return new(x||P)},P.\u0275dir=w.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})();const Xn={provide:wt,useExisting:(0,w.Gpc)(()=>ns),multi:!0};let ns=(()=>{class P extends pe{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=q=>{x(""==q?null:parseFloat(q))}}}return P.\u0275fac=function(){let M;return function(q){return(M||(M=w.n5z(P)))(q||P)}}(),P.\u0275dir=w.lG2({type:P,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(x,q){1&x&&w.NdJ("input",function(Dt){return q.onChange(Dt.target.value)})("blur",function(){return q.onTouched()})},features:[w._Bn([Xn]),w.qOj]}),P})(),qs=(()=>{class P{}return P.\u0275fac=function(x){return new(x||P)},P.\u0275mod=w.oAB({type:P}),P.\u0275inj=w.cJS({}),P})();const Pr=new w.OlP("NgModelWithFormControlWarning"),Si={provide:ar,useExisting:(0,w.Gpc)(()=>Wn)};let Wn=(()=>{class P extends ar{constructor(x,q,Re){super(),this.callSetDisabledState=Re,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(x),this._setAsyncValidators(q)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const q=this.form.get(x.path);return ot(q,x,this.callSetDisabledState),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),q}getControl(x){return this.form.get(x.path)}removeControl(x){Wt(x.control||null,x,!1),function se(P,M){const x=P.indexOf(M);x>-1&&P.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,q){this.form.get(x.path).setValue(q)}onSubmit(x){return this.submitted=!0,Di(this.form,this.directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const q=x.control,Re=this.form.get(x.path);q!==Re&&(Wt(q||null,x),(P=>P instanceof nn)(Re)&&(ot(Re,x,this.callSetDisabledState),x.control=Re))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const q=this.form.get(x.path);Wi(q,x),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const q=this.form.get(x.path);q&&function _s(P,M){return Rr(P,M)}(q,x)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rn(this.form,this),this._oldForm&&Rr(this._oldForm,this)}_checkFormPresent(){}}return P.\u0275fac=function(x){return new(x||P)(w.Y36(Ze,10),w.Y36(gt,10),w.Y36(gr,8))},P.\u0275dir=w.lG2({type:P,selectors:[["","formGroup",""]],hostBindings:function(x,q){1&x&&w.NdJ("submit",function(Dt){return q.onSubmit(Dt)})("reset",function(){return q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([Si]),w.qOj,w.TTD]}),P})();const zo={provide:vr,useExisting:(0,w.Gpc)(()=>us)};let us=(()=>{class P extends vr{set isDisabled(x){}constructor(x,q,Re,Dt,En){super(),this._ngModelWarningConfig=En,this._added=!1,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(q),this._setAsyncValidators(Re),this.valueAccessor=bi(0,Dt)}ngOnChanges(x){this._added||this._setUpControl(),gi(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return Pe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return P._ngModelWarningSentOnce=!1,P.\u0275fac=function(x){return new(x||P)(w.Y36(ar,13),w.Y36(Ze,10),w.Y36(gt,10),w.Y36(wt,10),w.Y36(Pr,8))},P.\u0275dir=w.lG2({type:P,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([zo]),w.qOj,w.TTD]}),P})();function Ns(P){return"number"==typeof P?P:parseFloat(P)}let cs=(()=>{class P{constructor(){this._validator=Me}ngOnChanges(x){if(this.inputName in x){const q=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(q),this._validator=this._enabled?this.createValidator(q):Me,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}}return P.\u0275fac=function(x){return new(x||P)},P.\u0275dir=w.lG2({type:P,features:[w.TTD]}),P})();const ca={provide:Ze,useExisting:(0,w.Gpc)(()=>is),multi:!0};let is=(()=>{class P extends cs{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=x=>Ns(x),this.createValidator=x=>wn(x)}}return P.\u0275fac=function(){let M;return function(q){return(M||(M=w.n5z(P)))(q||P)}}(),P.\u0275dir=w.lG2({type:P,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,q){2&x&&w.uIk("max",q._enabled?q.max:null)},inputs:{max:"max"},features:[w._Bn([ca]),w.qOj]}),P})();const Fo={provide:Ze,useExisting:(0,w.Gpc)(()=>Ai),multi:!0};let Ai=(()=>{class P extends cs{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=x=>Ns(x),this.createValidator=x=>Lt(x)}}return P.\u0275fac=function(){let M;return function(q){return(M||(M=w.n5z(P)))(q||P)}}(),P.\u0275dir=w.lG2({type:P,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,q){2&x&&w.uIk("min",q._enabled?q.min:null)},inputs:{min:"min"},features:[w._Bn([Fo]),w.qOj]}),P})();const ls={provide:Ze,useExisting:(0,w.Gpc)(()=>Ko),multi:!0};let Ko=(()=>{class P extends cs{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=x=>function Oo(P){return"number"==typeof P?P:parseInt(P,10)}(x),this.createValidator=x=>qn(x)}}return P.\u0275fac=function(){let M;return function(q){return(M||(M=w.n5z(P)))(q||P)}}(),P.\u0275dir=w.lG2({type:P,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(x,q){2&x&&w.uIk("minlength",q._enabled?q.minlength:null)},inputs:{minlength:"minlength"},features:[w._Bn([ls]),w.qOj]}),P})(),Zs=(()=>{class P{}return P.\u0275fac=function(x){return new(x||P)},P.\u0275mod=w.oAB({type:P}),P.\u0275inj=w.cJS({imports:[qs]}),P})();class ai extends Ee{constructor(M,x,q){super(re(x),ee(q,x)),this.controls=M,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(M){return this.controls[this._adjustIndex(M)]}push(M,x={}){this.controls.push(M),this._registerControl(M),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(M,x,q={}){this.controls.splice(M,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(M,x={}){let q=this._adjustIndex(M);q<0&&(q=0),this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(M,x,q={}){let Re=this._adjustIndex(M);Re<0&&(Re=0),this.controls[Re]&&this.controls[Re]._registerOnCollectionChange(()=>{}),this.controls.splice(Re,1),x&&(this.controls.splice(Re,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,x={}){te(this,!1,M),M.forEach((q,Re)=>{ue(this,!1,Re),this.at(Re).setValue(q,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(M,x={}){null!=M&&(M.forEach((q,Re)=>{this.at(Re)&&this.at(Re).patchValue(q,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(M=[],x={}){this._forEachChild((q,Re)=>{q.reset(M[Re],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(M=>M.getRawValue())}clear(M={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_adjustIndex(M){return M<0?M+this.length:M}_syncPendingControls(){let M=this.controls.reduce((x,q)=>!!q._syncPendingControls()||x,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){this.controls.forEach((x,q)=>{M(x,q)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(x=>x.enabled&&M(x))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}_find(M){return this.at(M)??null}}function j(P){return!!P&&(void 0!==P.asyncValidators||void 0!==P.validators||void 0!==P.updateOn)}let $=(()=>{class P{constructor(){this.useNonNullable=!1}get nonNullable(){const x=new P;return x.useNonNullable=!0,x}group(x,q=null){const Re=this._reduceControls(x);let Dt={};return j(q)?Dt=q:null!==q&&(Dt.validators=q.validator,Dt.asyncValidators=q.asyncValidator),new Be(Re,Dt)}record(x,q=null){const Re=this._reduceControls(x);return new Ut(Re,q)}control(x,q,Re){let Dt={};return this.useNonNullable?(j(q)?Dt=q:(Dt.validators=q,Dt.asyncValidators=Re),new nn(x,{...Dt,nonNullable:!0})):new nn(x,q,Re)}array(x,q,Re){const Dt=x.map(En=>this._createControl(En));return new ai(Dt,q,Re)}_reduceControls(x){const q={};return Object.keys(x).forEach(Re=>{q[Re]=this._createControl(x[Re])}),q}_createControl(x){return x instanceof nn||x instanceof Ee?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}}return P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=w.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),Xe=(()=>{class P{static withConfig(x){return{ngModule:P,providers:[{provide:gr,useValue:x.callSetDisabledState??Ue}]}}}return P.\u0275fac=function(x){return new(x||P)},P.\u0275mod=w.oAB({type:P}),P.\u0275inj=w.cJS({imports:[Zs]}),P})(),Qe=(()=>{class P{static withConfig(x){return{ngModule:P,providers:[{provide:Pr,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:gr,useValue:x.callSetDisabledState??Ue}]}}}return P.\u0275fac=function(x){return new(x||P)},P.\u0275mod=w.oAB({type:P}),P.\u0275inj=w.cJS({imports:[Zs]}),P})()},1481:(_n,lt,Y)=>{Y.d(lt,{Dx:()=>Cn,b2:()=>vr,q6:()=>or});var w=Y(6895),g=Y(8256);class we extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends we{static makeCurrent(){(0,w.HT)(new ne)}onAndCancel(ue,te,Ee){return ue.addEventListener(te,Ee,!1),()=>{ue.removeEventListener(te,Ee,!1)}}dispatchEvent(ue,te){ue.dispatchEvent(te)}remove(ue){ue.parentNode&&ue.parentNode.removeChild(ue)}createElement(ue,te){return(te=te||this.getDefaultDocument()).createElement(ue)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ue){return ue.nodeType===Node.ELEMENT_NODE}isShadowRoot(ue){return ue instanceof DocumentFragment}getGlobalEventTarget(ue,te){return"window"===te?window:"document"===te?ue:"body"===te?ue.body:null}getBaseHref(ue){const te=function le(){return xe=xe||document.querySelector("base"),xe?xe.getAttribute("href"):null}();return null==te?null:function ut(oe){_e=_e||document.createElement("a"),_e.setAttribute("href",oe);const ue=_e.pathname;return"/"===ue.charAt(0)?ue:`/${ue}`}(te)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(ue){return(0,w.Mx)(document.cookie,ue)}}let _e,xe=null;const Ge=new g.OlP("TRANSITION_ID"),ge=[{provide:g.ip1,useFactory:function fe(oe,ue,te){return()=>{te.get(g.CZH).donePromise.then(()=>{const Ee=(0,w.q)(),Be=ue.querySelectorAll(`style[ng-transition="${oe}"]`);for(let nt=0;nt<Be.length;nt++)Ee.remove(Be[nt])})}},deps:[Ge,w.K0,g.zs3],multi:!0}];let at=(()=>{class oe{build(){return new XMLHttpRequest}}return oe.\u0275fac=function(te){return new(te||oe)},oe.\u0275prov=g.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const pe=new g.OlP("EventManagerPlugins");let wt=(()=>{class oe{constructor(te,Ee){this._zone=Ee,this._eventNameToPlugin=new Map,te.forEach(Be=>{Be.manager=this}),this._plugins=te.slice().reverse()}addEventListener(te,Ee,Be){return this._findPluginFor(Ee).addEventListener(te,Ee,Be)}addGlobalEventListener(te,Ee,Be){return this._findPluginFor(Ee).addGlobalEventListener(te,Ee,Be)}getZone(){return this._zone}_findPluginFor(te){const Ee=this._eventNameToPlugin.get(te);if(Ee)return Ee;const Be=this._plugins;for(let nt=0;nt<Be.length;nt++){const Rt=Be[nt];if(Rt.supports(te))return this._eventNameToPlugin.set(te,Rt),Rt}throw new Error(`No event manager plugin found for event ${te}`)}}return oe.\u0275fac=function(te){return new(te||oe)(g.LFG(pe),g.LFG(g.R0b))},oe.\u0275prov=g.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class ke{constructor(ue){this._doc=ue}addGlobalEventListener(ue,te,Ee){const Be=(0,w.q)().getGlobalEventTarget(this._doc,ue);if(!Be)throw new Error(`Unsupported event target ${Be} for event ${te}`);return this.addEventListener(Be,te,Ee)}}let It=(()=>{class oe{constructor(){this.usageCount=new Map}addStyles(te){for(const Ee of te)1===this.changeUsageCount(Ee,1)&&this.onStyleAdded(Ee)}removeStyles(te){for(const Ee of te)0===this.changeUsageCount(Ee,-1)&&this.onStyleRemoved(Ee)}onStyleRemoved(te){}onStyleAdded(te){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(te,Ee){const Be=this.usageCount;let nt=Be.get(te)??0;return nt+=Ee,nt>0?Be.set(te,nt):Be.delete(te),nt}ngOnDestroy(){for(const te of this.getAllStyles())this.onStyleRemoved(te);this.usageCount.clear()}}return oe.\u0275fac=function(te){return new(te||oe)},oe.\u0275prov=g.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),Tt=(()=>{class oe extends It{constructor(te){super(),this.doc=te,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(te){for(const Ee of this.hostNodes)this.addStyleToHost(Ee,te)}onStyleRemoved(te){const Ee=this.styleRef;Ee.get(te)?.forEach(nt=>nt.remove()),Ee.delete(te)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(te){this.hostNodes.add(te);for(const Ee of this.getAllStyles())this.addStyleToHost(te,Ee)}removeHost(te){this.hostNodes.delete(te)}addStyleToHost(te,Ee){const Be=this.doc.createElement("style");Be.textContent=Ee,te.appendChild(Be);const nt=this.styleRef.get(Ee);nt?nt.push(Be):this.styleRef.set(Ee,[Be])}resetHostNodes(){const te=this.hostNodes;te.clear(),te.add(this.doc.head)}}return oe.\u0275fac=function(te){return new(te||oe)(g.LFG(w.K0))},oe.\u0275prov=g.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const vn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ct=/%COMP%/g,gt=new g.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Lt(oe,ue){return ue.flat(100).map(te=>te.replace(Ct,oe))}function wn(oe){return ue=>{if("__ngUnwrap__"===ue)return oe;!1===oe(ue)&&(ue.preventDefault(),ue.returnValue=!1)}}let Ve=(()=>{class oe{constructor(te,Ee,Be,nt){this.eventManager=te,this.sharedStylesHost=Ee,this.appId=Be,this.removeStylesOnCompDestory=nt,this.rendererByCompId=new Map,this.defaultRenderer=new mn(te)}createRenderer(te,Ee){if(!te||!Ee)return this.defaultRenderer;const Be=this.getOrCreateRenderer(te,Ee);return Be instanceof je?Be.applyToHost(te):Be instanceof Me&&Be.applyStyles(),Be}getOrCreateRenderer(te,Ee){const Be=this.rendererByCompId;let nt=Be.get(Ee.id);if(!nt){const Rt=this.eventManager,Ut=this.sharedStylesHost,Un=this.removeStylesOnCompDestory;switch(Ee.encapsulation){case g.ifc.Emulated:nt=new je(Rt,Ut,Ee,this.appId,Un);break;case g.ifc.ShadowDom:return new Ne(Rt,Ut,te,Ee);default:nt=new Me(Rt,Ut,Ee,Un)}nt.onDestroy=()=>Be.delete(Ee.id),Be.set(Ee.id,nt)}return nt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return oe.\u0275fac=function(te){return new(te||oe)(g.LFG(wt),g.LFG(Tt),g.LFG(g.AFp),g.LFG(gt))},oe.\u0275prov=g.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class mn{constructor(ue){this.eventManager=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ue,te){return te?document.createElementNS(vn[te]||te,ue):document.createElement(ue)}createComment(ue){return document.createComment(ue)}createText(ue){return document.createTextNode(ue)}appendChild(ue,te){(tn(ue)?ue.content:ue).appendChild(te)}insertBefore(ue,te,Ee){ue&&(tn(ue)?ue.content:ue).insertBefore(te,Ee)}removeChild(ue,te){ue&&ue.removeChild(te)}selectRootElement(ue,te){let Ee="string"==typeof ue?document.querySelector(ue):ue;if(!Ee)throw new Error(`The selector "${ue}" did not match any elements`);return te||(Ee.textContent=""),Ee}parentNode(ue){return ue.parentNode}nextSibling(ue){return ue.nextSibling}setAttribute(ue,te,Ee,Be){if(Be){te=Be+":"+te;const nt=vn[Be];nt?ue.setAttributeNS(nt,te,Ee):ue.setAttribute(te,Ee)}else ue.setAttribute(te,Ee)}removeAttribute(ue,te,Ee){if(Ee){const Be=vn[Ee];Be?ue.removeAttributeNS(Be,te):ue.removeAttribute(`${Ee}:${te}`)}else ue.removeAttribute(te)}addClass(ue,te){ue.classList.add(te)}removeClass(ue,te){ue.classList.remove(te)}setStyle(ue,te,Ee,Be){Be&(g.JOm.DashCase|g.JOm.Important)?ue.style.setProperty(te,Ee,Be&g.JOm.Important?"important":""):ue.style[te]=Ee}removeStyle(ue,te,Ee){Ee&g.JOm.DashCase?ue.style.removeProperty(te):ue.style[te]=""}setProperty(ue,te,Ee){ue[te]=Ee}setValue(ue,te){ue.nodeValue=te}listen(ue,te,Ee){return"string"==typeof ue?this.eventManager.addGlobalEventListener(ue,te,wn(Ee)):this.eventManager.addEventListener(ue,te,wn(Ee))}}function tn(oe){return"TEMPLATE"===oe.tagName&&void 0!==oe.content}class Ne extends mn{constructor(ue,te,Ee,Be){super(ue),this.sharedStylesHost=te,this.hostEl=Ee,this.shadowRoot=Ee.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nt=Lt(Be.id,Be.styles);for(const Rt of nt){const Ut=document.createElement("style");Ut.textContent=Rt,this.shadowRoot.appendChild(Ut)}}nodeOrShadowRoot(ue){return ue===this.hostEl?this.shadowRoot:ue}appendChild(ue,te){return super.appendChild(this.nodeOrShadowRoot(ue),te)}insertBefore(ue,te,Ee){return super.insertBefore(this.nodeOrShadowRoot(ue),te,Ee)}removeChild(ue,te){return super.removeChild(this.nodeOrShadowRoot(ue),te)}parentNode(ue){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ue)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Me extends mn{constructor(ue,te,Ee,Be,nt=Ee.id){super(ue),this.sharedStylesHost=te,this.removeStylesOnCompDestory=Be,this.rendererUsageCount=0,this.styles=Lt(nt,Ee.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class je extends Me{constructor(ue,te,Ee,Be,nt){const Rt=Be+"-"+Ee.id;super(ue,te,Ee,nt,Rt),this.contentAttr=function dt(oe){return"_ngcontent-%COMP%".replace(Ct,oe)}(Rt),this.hostAttr=function Ht(oe){return"_nghost-%COMP%".replace(Ct,oe)}(Rt)}applyToHost(ue){this.applyStyles(),this.setAttribute(ue,this.hostAttr,"")}createElement(ue,te){const Ee=super.createElement(ue,te);return super.setAttribute(Ee,this.contentAttr,""),Ee}}let $e=(()=>{class oe extends ke{constructor(te){super(te)}supports(te){return!0}addEventListener(te,Ee,Be){return te.addEventListener(Ee,Be,!1),()=>this.removeEventListener(te,Ee,Be)}removeEventListener(te,Ee,Be){return te.removeEventListener(Ee,Be)}}return oe.\u0275fac=function(te){return new(te||oe)(g.LFG(w.K0))},oe.\u0275prov=g.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const mt=["alt","control","meta","shift"],vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ot={alt:oe=>oe.altKey,control:oe=>oe.ctrlKey,meta:oe=>oe.metaKey,shift:oe=>oe.shiftKey};let an=(()=>{class oe extends ke{constructor(te){super(te)}supports(te){return null!=oe.parseEventName(te)}addEventListener(te,Ee,Be){const nt=oe.parseEventName(Ee),Rt=oe.eventCallback(nt.fullKey,Be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(te,nt.domEventName,Rt))}static parseEventName(te){const Ee=te.toLowerCase().split("."),Be=Ee.shift();if(0===Ee.length||"keydown"!==Be&&"keyup"!==Be)return null;const nt=oe._normalizeKey(Ee.pop());let Rt="",Ut=Ee.indexOf("code");if(Ut>-1&&(Ee.splice(Ut,1),Rt="code."),mt.forEach(gr=>{const Ue=Ee.indexOf(gr);Ue>-1&&(Ee.splice(Ue,1),Rt+=gr+".")}),Rt+=nt,0!=Ee.length||0===nt.length)return null;const Un={};return Un.domEventName=Be,Un.fullKey=Rt,Un}static matchEventFullKeyCode(te,Ee){let Be=vt[te.key]||te.key,nt="";return Ee.indexOf("code.")>-1&&(Be=te.code,nt="code."),!(null==Be||!Be)&&(Be=Be.toLowerCase()," "===Be?Be="space":"."===Be&&(Be="dot"),mt.forEach(Rt=>{Rt!==Be&&(0,Ot[Rt])(te)&&(nt+=Rt+".")}),nt+=Be,nt===Ee)}static eventCallback(te,Ee,Be){return nt=>{oe.matchEventFullKeyCode(nt,te)&&Be.runGuarded(()=>Ee(nt))}}static _normalizeKey(te){return"esc"===te?"escape":te}}return oe.\u0275fac=function(te){return new(te||oe)(g.LFG(w.K0))},oe.\u0275prov=g.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const or=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:w.bD},{provide:g.g9A,useValue:function zn(){ne.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function Mn(){return(0,g.RDi)(document),document},deps:[]}]),qt=new g.OlP(""),Jn=[{provide:g.rWj,useClass:class Ke{addToWindow(ue){g.dqk.getAngularTestability=(Ee,Be=!0)=>{const nt=ue.findTestabilityInTree(Ee,Be);if(null==nt)throw new Error("Could not find testability for element.");return nt},g.dqk.getAllAngularTestabilities=()=>ue.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>ue.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(Ee=>{const Be=g.dqk.getAllAngularTestabilities();let nt=Be.length,Rt=!1;const Ut=function(Un){Rt=Rt||Un,nt--,0==nt&&Ee(Rt)};Be.forEach(function(Un){Un.whenStable(Ut)})})}findTestabilityInTree(ue,te,Ee){return null==te?null:ue.getTestability(te)??(Ee?(0,w.q)().isShadowRoot(te)?this.findTestabilityInTree(ue,te.host,!0):this.findTestabilityInTree(ue,te.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],ar=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Hn(){return new g.qLn},deps:[]},{provide:pe,useClass:$e,multi:!0,deps:[w.K0,g.R0b,g.Lbi]},{provide:pe,useClass:an,multi:!0,deps:[w.K0]},{provide:Ve,useClass:Ve,deps:[wt,Tt,g.AFp,gt]},{provide:g.FYo,useExisting:Ve},{provide:It,useExisting:Tt},{provide:Tt,useClass:Tt,deps:[w.K0]},{provide:wt,useClass:wt,deps:[pe,g.R0b]},{provide:w.JF,useClass:at,deps:[]},[]];let vr=(()=>{class oe{constructor(te){}static withServerTransition(te){return{ngModule:oe,providers:[{provide:g.AFp,useValue:te.appId},{provide:Ge,useExisting:g.AFp},ge]}}}return oe.\u0275fac=function(te){return new(te||oe)(g.LFG(qt,12))},oe.\u0275mod=g.oAB({type:oe}),oe.\u0275inj=g.cJS({providers:[...ar,...Jn],imports:[w.ez,g.hGG]}),oe})(),Cn=(()=>{class oe{constructor(te){this._doc=te}getTitle(){return this._doc.title}setTitle(te){this._doc.title=te||""}}return oe.\u0275fac=function(te){return new(te||oe)(g.LFG(w.K0))},oe.\u0275prov=g.Yz7({token:oe,factory:function(te){let Ee=null;return Ee=te?new te:function Zr(){return new Cn((0,g.LFG)(w.K0))}(),Ee},providedIn:"root"}),oe})();typeof window<"u"&&window},6557:(_n,lt,Y)=>{Y.d(lt,{gz:()=>us,F0:()=>Ni,rH:()=>Jo,Od:()=>hi,Bz:()=>Pa,lC:()=>po});var w=Y(8256),g=Y(8996),we=Y(7669);function ne(..._){const v=(0,we.yG)(_);return(0,g.D)(_,v)}var xe=Y(7579);class le extends xe.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const m=super._subscribe(v);return!m.closed&&v.next(this._value),m}getValue(){const{hasError:v,thrownError:m,_value:T}=this;if(v)throw m;return this._throwIfClosed(),T}next(v){super.next(this._value=v)}}const ut=(0,Y(3888).d)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var Ge=Y(9751),fe=Y(4742),ge=Y(4671),Ke=Y(3268),at=Y(1810),pe=Y(5403),wt=Y(9672);function ke(..._){const v=(0,we.yG)(_),m=(0,we.jO)(_),{args:T,keys:N}=(0,fe.D)(_);if(0===T.length)return(0,g.D)([],v);const z=new Ge.y(function It(_,v,m=ge.y){return T=>{Tt(v,()=>{const{length:N}=_,z=new Array(N);let Q=N,Ce=N;for(let tt=0;tt<N;tt++)Tt(v,()=>{const $t=(0,g.D)(_[tt],v);let jt=!1;$t.subscribe((0,pe.x)(T,Zn=>{z[tt]=Zn,jt||(jt=!0,Ce--),Ce||T.next(m(z.slice()))},()=>{--Q||T.complete()}))},T)},T)}}(T,v,N?Q=>(0,at.n)(N,Q):ge.y));return m?z.pipe((0,Ke.Z)(m)):z}function Tt(_,v,m){_?(0,wt.f)(m,_,v):v()}var vn=Y(8189);function ft(..._){return function Ct(){return(0,vn.J)(1)}()((0,g.D)(_,(0,we.yG)(_)))}var _t=Y(8421);function et(_){return new Ge.y(v=>{(0,_t.Xf)(_()).subscribe(v)})}var Et=Y(9635),Ze=Y(576);function gt(_,v){const m=(0,Ze.m)(_)?_:()=>_,T=N=>N.error(m());return new Ge.y(v?N=>v.schedule(T,0,N):T)}var dt=Y(515),Ht=Y(727),Lt=Y(4482);function wn(){return(0,Lt.e)((_,v)=>{let m=null;_._refCount++;const T=(0,pe.x)(v,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(m=null);const N=_._connection,z=m;m=null,N&&(!z||N===z)&&N.unsubscribe(),v.unsubscribe()});_.subscribe(T),T.closed||(m=_.connect())})}class Ve extends Ge.y{constructor(v,m){super(),this.source=v,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Lt.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new Ht.w0;const m=this.getSubject();v.add(this.source.subscribe((0,pe.x)(m,void 0,()=>{this._teardown(),m.complete()},T=>{this._teardown(),m.error(T)},()=>this._teardown()))),v.closed&&(this._connection=null,v=Ht.w0.EMPTY)}return v}refCount(){return wn()(this)}}var mn=Y(6895),Vt=Y(4004);function qn(_,v){return(0,Lt.e)((m,T)=>{let N=null,z=0,Q=!1;const Ce=()=>Q&&!N&&T.complete();m.subscribe((0,pe.x)(T,tt=>{N?.unsubscribe();let $t=0;const jt=z++;(0,_t.Xf)(_(tt,jt)).subscribe(N=(0,pe.x)(T,Zn=>T.next(v?v(tt,Zn,jt,$t++):Zn),()=>{N=null,Ce()}))},()=>{Q=!0,Ce()}))})}function tn(_){return _<=0?()=>dt.E:(0,Lt.e)((v,m)=>{let T=0;v.subscribe((0,pe.x)(m,N=>{++T<=_&&(m.next(N),_<=T&&m.complete())}))})}function Me(_,v){return(0,Lt.e)((m,T)=>{let N=0;m.subscribe((0,pe.x)(T,z=>_.call(v,z,N++)&&T.next(z)))})}var je=Y(5577);function $e(_){return(0,Lt.e)((v,m)=>{let T=!1;v.subscribe((0,pe.x)(m,N=>{T=!0,m.next(N)},()=>{T||m.next(_),m.complete()}))})}function mt(_=vt){return(0,Lt.e)((v,m)=>{let T=!1;v.subscribe((0,pe.x)(m,N=>{T=!0,m.next(N)},()=>T?m.complete():m.error(_())))})}function vt(){return new ut}function Ot(_,v){const m=arguments.length>=2;return T=>T.pipe(_?Me((N,z)=>_(N,z,T)):ge.y,tn(1),m?$e(v):mt(()=>new ut))}function an(_,v){return(0,Ze.m)(v)?(0,je.z)(_,v,1):(0,je.z)(_,1)}var Gt=Y(8505);function xt(_){return(0,Lt.e)((v,m)=>{let z,T=null,N=!1;T=v.subscribe((0,pe.x)(m,void 0,void 0,Q=>{z=(0,_t.Xf)(_(Q,xt(_)(v))),T?(T.unsubscribe(),T=null,z.subscribe(m)):N=!0})),N&&(T.unsubscribe(),T=null,z.subscribe(m))})}function Yt(_,v){return(0,Lt.e)(function ln(_,v,m,T,N){return(z,Q)=>{let Ce=m,tt=v,$t=0;z.subscribe((0,pe.x)(Q,jt=>{const Zn=$t++;tt=Ce?_(tt,jt,Zn):(Ce=!0,jt),T&&Q.next(tt)},N&&(()=>{Ce&&Q.next(tt),Q.complete()})))}}(_,v,arguments.length>=2,!0))}function Vn(_){return _<=0?()=>dt.E:(0,Lt.e)((v,m)=>{let T=[];v.subscribe((0,pe.x)(m,N=>{T.push(N),_<T.length&&T.shift()},()=>{for(const N of T)m.next(N);m.complete()},void 0,()=>{T=null}))})}function zn(_,v){const m=arguments.length>=2;return T=>T.pipe(_?Me((N,z)=>_(N,z,T)):ge.y,Vn(1),m?$e(v):mt(()=>new ut))}function nr(_){return(0,Lt.e)((v,m)=>{try{v.subscribe(m)}finally{m.add(_)}})}var or=Y(1481);const qt="primary",Jn=Symbol("RouteTitle");class ar{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const m=this.params[v];return Array.isArray(m)?m[0]:m}return null}getAll(v){if(this.has(v)){const m=this.params[v];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function vr(_){return new ar(_)}function ri(_,v,m){const T=m.path.split("/");if(T.length>_.length||"full"===m.pathMatch&&(v.hasChildren()||T.length<_.length))return null;const N={};for(let z=0;z<T.length;z++){const Q=T[z],Ce=_[z];if(Q.startsWith(":"))N[Q.substring(1)]=Ce;else if(Q!==Ce.path)return null}return{consumed:_.slice(0,T.length),posParams:N}}function hr(_,v){const m=_?Object.keys(_):void 0,T=v?Object.keys(v):void 0;if(!m||!T||m.length!=T.length)return!1;let N;for(let z=0;z<m.length;z++)if(N=m[z],!Zr(_[N],v[N]))return!1;return!0}function Zr(_,v){if(Array.isArray(_)&&Array.isArray(v)){if(_.length!==v.length)return!1;const m=[..._].sort(),T=[...v].sort();return m.every((N,z)=>T[z]===N)}return _===v}function Cn(_){return Array.prototype.concat.apply([],_)}function st(_){return _.length>0?_[_.length-1]:null}function In(_,v){for(const m in _)_.hasOwnProperty(m)&&v(_[m],m)}function Tn(_){return(0,w.CqO)(_)?_:(0,w.QGY)(_)?(0,g.D)(Promise.resolve(_)):ne(_)}const Gn=!1,Gr={exact:function pi(_,v,m){if(!zt(_.segments,v.segments)||!ii(_.segments,v.segments,m)||_.numberOfChildren!==v.numberOfChildren)return!1;for(const T in v.children)if(!_.children[T]||!pi(_.children[T],v.children[T],m))return!1;return!0},subset:Yr},Sn={exact:function Yn(_,v){return hr(_,v)},subset:function Nn(_,v){return Object.keys(v).length<=Object.keys(_).length&&Object.keys(v).every(m=>Zr(_[m],v[m]))},ignored:()=>!0};function zr(_,v,m){return Gr[m.paths](_.root,v.root,m.matrixParams)&&Sn[m.queryParams](_.queryParams,v.queryParams)&&!("exact"===m.fragment&&_.fragment!==v.fragment)}function Yr(_,v,m){return cr(_,v,v.segments,m)}function cr(_,v,m,T){if(_.segments.length>m.length){const N=_.segments.slice(0,m.length);return!(!zt(N,m)||v.hasChildren()||!ii(N,m,T))}if(_.segments.length===m.length){if(!zt(_.segments,m)||!ii(_.segments,m,T))return!1;for(const N in v.children)if(!_.children[N]||!Yr(_.children[N],v.children[N],T))return!1;return!0}{const N=m.slice(0,_.segments.length),z=m.slice(_.segments.length);return!!(zt(_.segments,N)&&ii(_.segments,N,T)&&_.children[qt])&&cr(_.children[qt],v,z,T)}}function ii(_,v,m){return v.every((T,N)=>Sn[m](_[N].parameters,T.parameters))}class _r{constructor(v=new hn([],{}),m={},T=null){this.root=v,this.queryParams=m,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return re.serialize(this)}}class hn{constructor(v,m){this.segments=v,this.children=m,this.parent=null,In(m,(T,N)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return H(this)}}class Vr{constructor(v,m){this.path=v,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=vr(this.parameters)),this._parameterMap}toString(){return nt(this)}}function zt(_,v){return _.length===v.length&&_.every((m,T)=>m.path===v[T].path)}let ce=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=w.Yz7({token:_,factory:function(){return new L},providedIn:"root"}),_})();class L{parse(v){const m=new fn(v);return new _r(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(v){const m=`/${ee(v.root,!0)}`,T=function Ut(_){const v=Object.keys(_).map(m=>{const T=_[m];return Array.isArray(T)?T.map(N=>`${oe(m)}=${oe(N)}`).join("&"):`${oe(m)}=${oe(T)}`}).filter(m=>!!m);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${m}${T}${"string"==typeof v.fragment?`#${function ue(_){return encodeURI(_)}(v.fragment)}`:""}`}}const re=new L;function H(_){return _.segments.map(v=>nt(v)).join("/")}function ee(_,v){if(!_.hasChildren())return H(_);if(v){const m=_.children[qt]?ee(_.children[qt],!1):"",T=[];return In(_.children,(N,z)=>{z!==qt&&T.push(`${z}:${ee(N,!1)}`)}),T.length>0?`${m}(${T.join("//")})`:m}{const m=function rr(_,v){let m=[];return In(_.children,(T,N)=>{N===qt&&(m=m.concat(v(T,N)))}),In(_.children,(T,N)=>{N!==qt&&(m=m.concat(v(T,N)))}),m}(_,(T,N)=>N===qt?[ee(_.children[qt],!1)]:[`${N}:${ee(T,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[qt]?`${H(_)}/${m[0]}`:`${H(_)}/(${m.join("//")})`}}function Ie(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oe(_){return Ie(_).replace(/%3B/gi,";")}function te(_){return Ie(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ee(_){return decodeURIComponent(_)}function Be(_){return Ee(_.replace(/\+/g,"%20"))}function nt(_){return`${te(_.path)}${function Rt(_){return Object.keys(_).map(v=>`;${te(v)}=${te(_[v])}`).join("")}(_.parameters)}`}const Un=/^[^\/()?;=#]+/;function gr(_){const v=_.match(Un);return v?v[0]:""}const Ue=/^[^=?&#]+/,ot=/^[^&#]+/;class fn{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(v.length>0||Object.keys(m).length>0)&&(T[qt]=new hn(v,m)),T}parseSegment(){const v=gr(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new w.vHH(4009,Gn);return this.capture(v),new Vr(Ee(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const m=gr(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const N=gr(this.remaining);N&&(T=N,this.capture(T))}v[Ee(m)]=Ee(T)}parseQueryParam(v){const m=function Pe(_){const v=_.match(Ue);return v?v[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const Q=function Wt(_){const v=_.match(ot);return v?v[0]:""}(this.remaining);Q&&(T=Q,this.capture(T))}const N=Be(m),z=Be(T);if(v.hasOwnProperty(N)){let Q=v[N];Array.isArray(Q)||(Q=[Q],v[N]=Q),Q.push(z)}else v[N]=z}parseParens(v){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=gr(this.remaining),N=this.remaining[T.length];if("/"!==N&&")"!==N&&";"!==N)throw new w.vHH(4010,Gn);let z;T.indexOf(":")>-1?(z=T.slice(0,T.indexOf(":")),this.capture(z),this.capture(":")):v&&(z=qt);const Q=this.parseChildren();m[z]=1===Object.keys(Q).length?Q[qt]:new hn([],Q),this.consumeOptional("//")}return m}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new w.vHH(4011,Gn)}}function bn(_){return _.segments.length>0?new hn([],{[qt]:_}):_}function Rn(_){const v={};for(const T of Object.keys(_.children)){const z=Rn(_.children[T]);(z.segments.length>0||z.hasChildren())&&(v[T]=z)}return function Rr(_){if(1===_.numberOfChildren&&_.children[qt]){const v=_.children[qt];return new hn(_.segments.concat(v.segments),v.children)}return _}(new hn(_.segments,v))}function lr(_){return _ instanceof _r}const Cr=!1;function _s(_,v,m,T,N){if(0===m.length)return Ir(v.root,v.root,v.root,T,N);const z=function gi(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new xn(!0,0,_);let v=0,m=!1;const T=_.reduce((N,z,Q)=>{if("object"==typeof z&&null!=z){if(z.outlets){const Ce={};return In(z.outlets,(tt,$t)=>{Ce[$t]="string"==typeof tt?tt.split("/"):tt}),[...N,{outlets:Ce}]}if(z.segmentPath)return[...N,z.segmentPath]}return"string"!=typeof z?[...N,z]:0===Q?(z.split("/").forEach((Ce,tt)=>{0==tt&&"."===Ce||(0==tt&&""===Ce?m=!0:".."===Ce?v++:""!=Ce&&N.push(Ce))}),N):[...N,z]},[]);return new xn(m,v,T)}(m);return z.toRoot()?Ir(v.root,v.root,new hn([],{}),T,N):function Q(tt){const $t=function bi(_,v,m,T){if(_.isAbsolute)return new mi(v.root,!0,0);if(-1===T)return new mi(m,m===v.root,0);return function se(_,v,m){let T=_,N=v,z=m;for(;z>N;){if(z-=N,T=T.parent,!T)throw new w.vHH(4005,Cr&&"Invalid number of '../'");N=T.segments.length}return new mi(T,!1,N-z)}(m,T+(On(_.commands[0])?0:1),_.numberOfDoubleDots)}(z,v,_.snapshot?._urlSegment,tt),jt=$t.processChildren?We($t.segmentGroup,$t.index,z.commands):be($t.segmentGroup,$t.index,z.commands);return Ir(v.root,$t.segmentGroup,jt,T,N)}(_.snapshot?._lastPathIndex)}function On(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function wr(_){return"object"==typeof _&&null!=_&&_.outlets}function Ir(_,v,m,T,N){let Q,z={};T&&In(T,(tt,$t)=>{z[$t]=Array.isArray(tt)?tt.map(jt=>`${jt}`):`${tt}`}),Q=_===v?m:as(_,v,m);const Ce=bn(Rn(Q));return new _r(Ce,z,N)}function as(_,v,m){const T={};return In(_.children,(N,z)=>{T[z]=N===v?m:as(N,v,m)}),new hn(_.segments,T)}class xn{constructor(v,m,T){if(this.isAbsolute=v,this.numberOfDoubleDots=m,this.commands=T,v&&T.length>0&&On(T[0]))throw new w.vHH(4003,Cr&&"Root segment cannot have matrix parameters");const N=T.find(wr);if(N&&N!==st(T))throw new w.vHH(4004,Cr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mi{constructor(v,m,T){this.segmentGroup=v,this.processChildren=m,this.index=T}}function be(_,v,m){if(_||(_=new hn([],{})),0===_.segments.length&&_.hasChildren())return We(_,v,m);const T=function yt(_,v,m){let T=0,N=v;const z={match:!1,pathIndex:0,commandIndex:0};for(;N<_.segments.length;){if(T>=m.length)return z;const Q=_.segments[N],Ce=m[T];if(wr(Ce))break;const tt=`${Ce}`,$t=T<m.length-1?m[T+1]:null;if(N>0&&void 0===tt)break;if(tt&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!Pn(tt,$t,Q))return z;T+=2}else{if(!Pn(tt,{},Q))return z;T++}N++}return{match:!0,pathIndex:N,commandIndex:T}}(_,v,m),N=m.slice(T.commandIndex);if(T.match&&T.pathIndex<_.segments.length){const z=new hn(_.segments.slice(0,T.pathIndex),{});return z.children[qt]=new hn(_.segments.slice(T.pathIndex),_.children),We(z,0,N)}return T.match&&0===N.length?new hn(_.segments,{}):T.match&&!_.hasChildren()?Bt(_,v,m):T.match?We(_,0,N):Bt(_,v,m)}function We(_,v,m){if(0===m.length)return new hn(_.segments,{});{const T=function me(_){return wr(_[0])?_[0].outlets:{[qt]:_}}(m),N={};if(!T[qt]&&_.children[qt]&&1===_.numberOfChildren&&0===_.children[qt].segments.length){const z=We(_.children[qt],v,m);return new hn(_.segments,z.children)}return In(T,(z,Q)=>{"string"==typeof z&&(z=[z]),null!==z&&(N[Q]=be(_.children[Q],v,z))}),In(_.children,(z,Q)=>{void 0===T[Q]&&(N[Q]=z)}),new hn(_.segments,N)}}function Bt(_,v,m){const T=_.segments.slice(0,v);let N=0;for(;N<m.length;){const z=m[N];if(wr(z)){const tt=Fn(z.outlets);return new hn(T,tt)}if(0===N&&On(m[0])){T.push(new Vr(_.segments[v].path,nn(m[0]))),N++;continue}const Q=wr(z)?z.outlets[qt]:`${z}`,Ce=N<m.length-1?m[N+1]:null;Q&&Ce&&On(Ce)?(T.push(new Vr(Q,nn(Ce))),N+=2):(T.push(new Vr(Q,{})),N++)}return new hn(T,{})}function Fn(_){const v={};return In(_,(m,T)=>{"string"==typeof m&&(m=[m]),null!==m&&(v[T]=Bt(new hn([],{}),0,m))}),v}function nn(_){const v={};return In(_,(m,T)=>v[T]=`${m}`),v}function Pn(_,v,m){return _==m.path&&hr(v,m.parameters)}const si="imperative";class yn{constructor(v,m){this.id=v,this.url=m}}class Qr extends yn{constructor(v,m,T="imperative",N=null){super(v,m),this.type=0,this.navigationTrigger=T,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Er extends yn{constructor(v,m,T){super(v,m),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gs extends yn{constructor(v,m,T,N){super(v,m),this.reason=T,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jr extends yn{constructor(v,m,T,N){super(v,m),this.reason=T,this.code=N,this.type=16}}class Nr extends yn{constructor(v,m,T,N){super(v,m),this.error=T,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ki extends yn{constructor(v,m,T,N){super(v,m),this.urlAfterRedirects=T,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vs extends yn{constructor(v,m,T,N){super(v,m),this.urlAfterRedirects=T,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qr extends yn{constructor(v,m,T,N,z){super(v,m),this.urlAfterRedirects=T,this.state=N,this.shouldActivate=z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ws extends yn{constructor(v,m,T,N){super(v,m),this.urlAfterRedirects=T,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ro extends yn{constructor(v,m,T,N){super(v,m),this.urlAfterRedirects=T,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ns{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zs{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ho{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rs{constructor(v,m,T){this.routerEvent=v,this.position=m,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Pr=(()=>{class _{createUrlTree(m,T,N,z,Q,Ce){return _s(m||T.root,N,z,Q,Ce)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac}),_})(),Zi=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=w.Yz7({token:_,factory:function(v){return Pr.\u0275fac(v)},providedIn:"root"}),_})();class Si{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const m=this.pathFromRoot(v);return m.length>1?m[m.length-2]:null}children(v){const m=Wn(v,this._root);return m?m.children.map(T=>T.value):[]}firstChild(v){const m=Wn(v,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(v){const m=yi(v,this._root);return m.length<2?[]:m[m.length-2].children.map(N=>N.value).filter(N=>N!==v)}pathFromRoot(v){return yi(v,this._root).map(m=>m.value)}}function Wn(_,v){if(_===v.value)return v;for(const m of v.children){const T=Wn(_,m);if(T)return T}return null}function yi(_,v){if(_===v.value)return[v];for(const m of v.children){const T=yi(_,m);if(T.length)return T.unshift(v),T}return[]}class Xr{constructor(v,m){this.value=v,this.children=m}toString(){return`TreeNode(${this.value})`}}function Ps(_){const v={};return _&&_.children.forEach(m=>v[m.value.outlet]=m),v}class Ws extends Si{constructor(v,m){super(v),this.snapshot=m,Ks(this,v)}toString(){return this.snapshot.toString()}}function fo(_,v){const m=function zo(_,v){const Q=new io([],{},{},"",{},qt,v,null,_.root,-1,{});return new Yi("",new Xr(Q,[]))}(_,v),T=new le([new Vr("",{})]),N=new le({}),z=new le({}),Q=new le({}),Ce=new le(""),tt=new us(T,N,Q,Ce,z,qt,v,m.root);return tt.snapshot=m.root,new Ws(new Xr(tt,[]),m)}class us{constructor(v,m,T,N,z,Q,Ce,tt){this.url=v,this.params=m,this.queryParams=T,this.fragment=N,this.data=z,this.outlet=Q,this.component=Ce,this.title=this.data?.pipe((0,Vt.U)($t=>$t[Jn]))??ne(void 0),this._futureSnapshot=tt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)(v=>vr(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)(v=>vr(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ks(_,v="emptyOnly"){const m=_.pathFromRoot;let T=0;if("always"!==v)for(T=m.length-1;T>=1;){const N=m[T],z=m[T-1];if(N.routeConfig&&""===N.routeConfig.path)T--;else{if(z.component)break;T--}}return function qo(_){return _.reduce((v,m)=>({params:{...v.params,...m.params},data:{...v.data,...m.data},resolve:{...m.data,...v.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(T))}class io{get title(){return this.data?.[Jn]}constructor(v,m,T,N,z,Q,Ce,tt,$t,jt,Zn){this.url=v,this.params=m,this.queryParams=T,this.fragment=N,this.data=z,this.outlet=Q,this.component=Ce,this.routeConfig=tt,this._urlSegment=$t,this._lastPathIndex=jt,this._resolve=Zn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yi extends Si{constructor(v,m){super(m),this.url=v,Ks(this,m)}toString(){return Aa(this._root)}}function Ks(_,v){v.value._routerState=_,v.children.forEach(m=>Ks(_,m))}function Aa(_){const v=_.children.length>0?` { ${_.children.map(Aa).join(", ")} } `:"";return`${_.value}${v}`}function Wo(_){if(_.snapshot){const v=_.snapshot,m=_._futureSnapshot;_.snapshot=m,hr(v.queryParams,m.queryParams)||_.queryParams.next(m.queryParams),v.fragment!==m.fragment&&_.fragment.next(m.fragment),hr(v.params,m.params)||_.params.next(m.params),function kr(_,v){if(_.length!==v.length)return!1;for(let m=0;m<_.length;++m)if(!hr(_[m],v[m]))return!1;return!0}(v.url,m.url)||_.url.next(m.url),hr(v.data,m.data)||_.data.next(m.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function Is(_,v){const m=hr(_.params,v.params)&&function Bn(_,v){return zt(_,v)&&_.every((m,T)=>hr(m.parameters,v[T].parameters))}(_.url,v.url);return m&&!(!_.parent!=!v.parent)&&(!_.parent||Is(_.parent,v.parent))}function Es(_,v,m){if(m&&_.shouldReuseRoute(v.value,m.value.snapshot)){const T=m.value;T._futureSnapshot=v.value;const N=function Ui(_,v,m){return v.children.map(T=>{for(const N of m.children)if(_.shouldReuseRoute(T.value,N.value.snapshot))return Es(_,T,N);return Es(_,T)})}(_,v,m);return new Xr(T,N)}{if(_.shouldAttach(v.value)){const z=_.retrieve(v.value);if(null!==z){const Q=z.route;return Q.value._futureSnapshot=v.value,Q.children=v.children.map(Ce=>Es(_,Ce)),Q}}const T=function Oo(_){return new us(new le(_.url),new le(_.params),new le(_.queryParams),new le(_.fragment),new le(_.data),_.outlet,_.component,_)}(v.value),N=v.children.map(z=>Es(_,z));return new Xr(T,N)}}const Ns="ngNavigationCancelingError";function cs(_,v){const{redirectTo:m,navigationBehaviorOptions:T}=lr(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,N=ca(!1,0,v);return N.url=m,N.navigationBehaviorOptions=T,N}function ca(_,v,m){const T=new Error("NavigationCancelingError: "+(_||""));return T[Ns]=!0,T.cancellationCode=v,m&&(T.url=m),T}function is(_){return Fo(_)&&lr(_.url)}function Fo(_){return _&&_[Ns]}class Ai{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new so,this.attachRef=null}}let so=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(m,T){const N=this.getOrCreateContext(m);N.outlet=T,this.contexts.set(m,N)}onChildOutletDestroyed(m){const T=this.getContext(m);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let T=this.getContext(m);return T||(T=new Ai,this.contexts.set(m,T)),T}getContext(m){return this.contexts.get(m)||null}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Os=!1;let po=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=qt,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(so),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb)}ngOnChanges(m){if(m.name){const{firstChange:T,previousValue:N}=m.name;if(T)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,Os);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,Os);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,Os);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,T){this.activated=m,this._activatedRoute=T,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,T){if(this.isActivated)throw new w.vHH(4013,Os);this._activatedRoute=m;const N=this.location,Q=m.snapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,tt=new go(m,Ce,N.injector);if(T&&function Ds(_){return!!_.resolveComponentFactory}(T)){const $t=T.resolveComponentFactory(Q);this.activated=N.createComponent($t,N.length,tt)}else this.activated=N.createComponent(Q,{index:N.length,injector:tt,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275dir=w.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]}),_})();class go{constructor(v,m,T){this.route=v,this.childContexts=m,this.parent=T}get(v,m){return v===us?this.route:v===so?this.childContexts:this.parent.get(v,m)}}let Wr=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275cmp=w.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(m,T){1&m&&w._UZ(0,"router-outlet")},dependencies:[po],encapsulation:2}),_})();function ls(_,v){return _.providers&&!_._injector&&(_._injector=(0,w.MMx)(_.providers,v,`Route: ${_.path}`)),_._injector??v}function Zs(_){const v=_.children&&_.children.map(Zs),m=v?{..._,children:v}:{..._};return!m.component&&!m.loadComponent&&(v||m.loadChildren)&&m.outlet&&m.outlet!==qt&&(m.component=Wr),m}function ai(_){return _.outlet||qt}function bs(_,v){const m=_.filter(T=>ai(T)===v);return m.push(..._.filter(T=>ai(T)!==v)),m}function ei(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let v=_.parent;v;v=v.parent){const m=v.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class ${constructor(v,m,T,N){this.routeReuseStrategy=v,this.futureState=m,this.currState=T,this.forwardEvent=N}activate(v){const m=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,T,v),Wo(this.futureState.root),this.activateChildRoutes(m,T,v)}deactivateChildRoutes(v,m,T){const N=Ps(m);v.children.forEach(z=>{const Q=z.value.outlet;this.deactivateRoutes(z,N[Q],T),delete N[Q]}),In(N,(z,Q)=>{this.deactivateRouteAndItsChildren(z,T)})}deactivateRoutes(v,m,T){const N=v.value,z=m?m.value:null;if(N===z)if(N.component){const Q=T.getContext(N.outlet);Q&&this.deactivateChildRoutes(v,m,Q.children)}else this.deactivateChildRoutes(v,m,T);else z&&this.deactivateRouteAndItsChildren(m,T)}deactivateRouteAndItsChildren(v,m){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,m):this.deactivateRouteAndOutlet(v,m)}detachAndStoreRouteSubtree(v,m){const T=m.getContext(v.value.outlet),N=T&&v.value.component?T.children:m,z=Ps(v);for(const Q of Object.keys(z))this.deactivateRouteAndItsChildren(z[Q],N);if(T&&T.outlet){const Q=T.outlet.detach(),Ce=T.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:Q,route:v,contexts:Ce})}}deactivateRouteAndOutlet(v,m){const T=m.getContext(v.value.outlet),N=T&&v.value.component?T.children:m,z=Ps(v);for(const Q of Object.keys(z))this.deactivateRouteAndItsChildren(z[Q],N);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(v,m,T){const N=Ps(m);v.children.forEach(z=>{this.activateRoutes(z,N[z.value.outlet],T),this.forwardEvent(new To(z.value.snapshot))}),v.children.length&&this.forwardEvent(new ho(v.value.snapshot))}activateRoutes(v,m,T){const N=v.value,z=m?m.value:null;if(Wo(N),N===z)if(N.component){const Q=T.getOrCreateContext(N.outlet);this.activateChildRoutes(v,m,Q.children)}else this.activateChildRoutes(v,m,T);else if(N.component){const Q=T.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Ce=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),Q.children.onOutletReAttached(Ce.contexts),Q.attachRef=Ce.componentRef,Q.route=Ce.route.value,Q.outlet&&Q.outlet.attach(Ce.componentRef,Ce.route.value),Wo(Ce.route.value),this.activateChildRoutes(v,null,Q.children)}else{const Ce=ei(N.snapshot),tt=Ce?.get(w._Vd)??null;Q.attachRef=null,Q.route=N,Q.resolver=tt,Q.injector=Ce,Q.outlet&&Q.outlet.activateWith(N,Q.injector),this.activateChildRoutes(v,null,Q.children)}}else this.activateChildRoutes(v,null,T)}}class ae{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class he{constructor(v,m){this.component=v,this.route=m}}function Ae(_,v,m){const T=_._root;return P(T,v?v._root:null,m,[T.value])}function Qe(_,v){const m=Symbol(),T=v.get(_,m);return T===m?"function"!=typeof _||(0,w.Z0I)(_)?v.get(_):_:T}function P(_,v,m,T,N={canDeactivateChecks:[],canActivateChecks:[]}){const z=Ps(v);return _.children.forEach(Q=>{(function M(_,v,m,T,N={canDeactivateChecks:[],canActivateChecks:[]}){const z=_.value,Q=v?v.value:null,Ce=m?m.getContext(_.value.outlet):null;if(Q&&z.routeConfig===Q.routeConfig){const tt=function x(_,v,m){if("function"==typeof m)return m(_,v);switch(m){case"pathParamsChange":return!zt(_.url,v.url);case"pathParamsOrQueryParamsChange":return!zt(_.url,v.url)||!hr(_.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Is(_,v)||!hr(_.queryParams,v.queryParams);default:return!Is(_,v)}}(Q,z,z.routeConfig.runGuardsAndResolvers);tt?N.canActivateChecks.push(new ae(T)):(z.data=Q.data,z._resolvedData=Q._resolvedData),P(_,v,z.component?Ce?Ce.children:null:m,T,N),tt&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&N.canDeactivateChecks.push(new he(Ce.outlet.component,Q))}else Q&&q(v,Ce,N),N.canActivateChecks.push(new ae(T)),P(_,null,z.component?Ce?Ce.children:null:m,T,N)})(Q,z[Q.value.outlet],m,T.concat([Q.value]),N),delete z[Q.value.outlet]}),In(z,(Q,Ce)=>q(Q,m.getContext(Ce),N)),N}function q(_,v,m){const T=Ps(_),N=_.value;In(T,(z,Q)=>{q(z,N.component?v?v.children.getContext(Q):null:v,m)}),m.canDeactivateChecks.push(new he(N.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,N))}function Re(_){return"function"==typeof _}function Ar(_){return _ instanceof ut||"EmptyError"===_?.name}const Mi=Symbol("INITIAL_VALUE");function fr(){return qn(_=>ke(_.map(v=>v.pipe(tn(1),function Ne(..._){const v=(0,we.yG)(_);return(0,Lt.e)((m,T)=>{(v?ft(_,m,v):ft(_,m)).subscribe(T)})}(Mi)))).pipe((0,Vt.U)(v=>{for(const m of v)if(!0!==m){if(m===Mi)return Mi;if(!1===m||m instanceof _r)return m}return!0}),Me(v=>v!==Mi),tn(1)))}function _o(_){return(0,Et.z)((0,Gt.b)(v=>{if(lr(v))throw cs(0,v)}),(0,Vt.U)(v=>!0===v))}const Qs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qa(_,v,m,T,N){const z=Ji(_,v,m);return z.matched?function lu(_,v,m,T){const N=v.canMatch;return N&&0!==N.length?ne(N.map(Q=>{const Ce=Qe(Q,_);return Tn(function Qi(_){return _&&Re(_.canMatch)}(Ce)?Ce.canMatch(v,m):_.runInContext(()=>Ce(v,m)))})).pipe(fr(),_o()):ne(!0)}(T=ls(v,T),v,m).pipe((0,Vt.U)(Q=>!0===Q?z:{...Qs})):ne(z)}function Ji(_,v,m){if(""===v.path)return"full"===v.pathMatch&&(_.hasChildren()||m.length>0)?{...Qs}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const N=(v.matcher||ri)(m,_,v);if(!N)return{...Qs};const z={};In(N.posParams,(Ce,tt)=>{z[tt]=Ce.path});const Q=N.consumed.length>0?{...z,...N.consumed[N.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:N.consumed,remainingSegments:m.slice(N.consumed.length),parameters:Q,positionalParamSegments:N.posParams??{}}}function So(_,v,m,T){if(m.length>0&&function Yo(_,v,m){return m.some(T=>wo(_,v,T)&&ai(T)!==qt)}(_,m,T)){const z=new hn(v,function xu(_,v,m,T){const N={};N[qt]=T,T._sourceSegment=_,T._segmentIndexShift=v.length;for(const z of m)if(""===z.path&&ai(z)!==qt){const Q=new hn([],{});Q._sourceSegment=_,Q._segmentIndexShift=v.length,N[ai(z)]=Q}return N}(_,v,T,new hn(m,_.children)));return z._sourceSegment=_,z._segmentIndexShift=v.length,{segmentGroup:z,slicedSegments:[]}}if(0===m.length&&function vo(_,v,m){return m.some(T=>wo(_,v,T))}(_,m,T)){const z=new hn(_.segments,function dr(_,v,m,T,N){const z={};for(const Q of T)if(wo(_,m,Q)&&!N[ai(Q)]){const Ce=new hn([],{});Ce._sourceSegment=_,Ce._segmentIndexShift=v.length,z[ai(Q)]=Ce}return{...N,...z}}(_,v,m,T,_.children));return z._sourceSegment=_,z._segmentIndexShift=v.length,{segmentGroup:z,slicedSegments:m}}const N=new hn(_.segments,_.children);return N._sourceSegment=_,N._segmentIndexShift=v.length,{segmentGroup:N,slicedSegments:m}}function wo(_,v,m){return(!(_.hasChildren()||v.length>0)||"full"!==m.pathMatch)&&""===m.path}function Lo(_,v,m,T){return!!(ai(_)===T||T!==qt&&wo(v,m,_))&&("**"===_.path||Ji(v,_,m).matched)}function Ls(_,v,m){return 0===v.length&&!_.children[m]}const da=!1;class Io{constructor(v){this.segmentGroup=v||null}}class oo{constructor(v){this.urlTree=v}}function Ri(_){return gt(new Io(_))}function Pi(_){return gt(new oo(_))}class Kr{constructor(v,m,T,N,z){this.injector=v,this.configLoader=m,this.urlSerializer=T,this.urlTree=N,this.config=z,this.allowRedirects=!0}apply(){const v=So(this.urlTree.root,[],[],this.config).segmentGroup,m=new hn(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,m,qt).pipe((0,Vt.U)(z=>this.createUrlTree(Rn(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xt(z=>{if(z instanceof oo)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof Io?this.noMatchError(z):z}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,qt).pipe((0,Vt.U)(N=>this.createUrlTree(Rn(N),v.queryParams,v.fragment))).pipe(xt(N=>{throw N instanceof Io?this.noMatchError(N):N}))}noMatchError(v){return new w.vHH(4002,da)}createUrlTree(v,m,T){const N=bn(v);return new _r(N,m,T)}expandSegmentGroup(v,m,T,N){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(v,m,T).pipe((0,Vt.U)(z=>new hn([],z))):this.expandSegment(v,T,m,T.segments,N,!0)}expandChildren(v,m,T){const N=[];for(const z of Object.keys(T.children))"primary"===z?N.unshift(z):N.push(z);return(0,g.D)(N).pipe(an(z=>{const Q=T.children[z],Ce=bs(m,z);return this.expandSegmentGroup(v,Ce,Q,z).pipe((0,Vt.U)(tt=>({segment:tt,outlet:z})))}),Yt((z,Q)=>(z[Q.outlet]=Q.segment,z),{}),zn())}expandSegment(v,m,T,N,z,Q){return(0,g.D)(T).pipe(an(Ce=>this.expandSegmentAgainstRoute(v,m,T,Ce,N,z,Q).pipe(xt($t=>{if($t instanceof Io)return ne(null);throw $t}))),Ot(Ce=>!!Ce),xt((Ce,tt)=>{if(Ar(Ce))return Ls(m,N,z)?ne(new hn([],{})):Ri(m);throw Ce}))}expandSegmentAgainstRoute(v,m,T,N,z,Q,Ce){return Lo(N,m,z,Q)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(v,m,N,z,Q):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,m,T,N,z,Q):Ri(m):Ri(m)}expandSegmentAgainstRouteUsingRedirect(v,m,T,N,z,Q){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,T,N,Q):this.expandRegularSegmentAgainstRouteUsingRedirect(v,m,T,N,z,Q)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,m,T,N){const z=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Pi(z):this.lineralizeSegments(T,z).pipe((0,je.z)(Q=>{const Ce=new hn(Q,{});return this.expandSegment(v,Ce,m,Q,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,m,T,N,z,Q){const{matched:Ce,consumedSegments:tt,remainingSegments:$t,positionalParamSegments:jt}=Ji(m,N,z);if(!Ce)return Ri(m);const Zn=this.applyRedirectCommands(tt,N.redirectTo,jt);return N.redirectTo.startsWith("/")?Pi(Zn):this.lineralizeSegments(N,Zn).pipe((0,je.z)(Xi=>this.expandSegment(v,m,T,Xi.concat($t),Q,!1)))}matchSegmentAgainstRoute(v,m,T,N,z){return"**"===T.path?(v=ls(T,v),T.loadChildren?(T._loadedRoutes?ne({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(v,T)).pipe((0,Vt.U)(Ce=>(T._loadedRoutes=Ce.routes,T._loadedInjector=Ce.injector,new hn(N,{})))):ne(new hn(N,{}))):qa(m,T,N,v).pipe(qn(({matched:Q,consumedSegments:Ce,remainingSegments:tt})=>Q?this.getChildConfig(v=T._injector??v,T,N).pipe((0,je.z)(jt=>{const Zn=jt.injector??v,Xi=jt.routes,{segmentGroup:Bs,slicedSegments:Do}=So(m,Ce,tt,Xi),bo=new hn(Bs.segments,Bs.children);if(0===Do.length&&bo.hasChildren())return this.expandChildren(Zn,Xi,bo).pipe((0,Vt.U)(Oc=>new hn(Ce,Oc)));if(0===Xi.length&&0===Do.length)return ne(new hn(Ce,{}));const Gi=ai(T)===z;return this.expandSegment(Zn,bo,Xi,Do,Gi?qt:z,!0).pipe((0,Vt.U)(Hr=>new hn(Ce.concat(Hr.segments),Hr.children)))})):Ri(m)))}getChildConfig(v,m,T){return m.children?ne({routes:m.children,injector:v}):m.loadChildren?void 0!==m._loadedRoutes?ne({routes:m._loadedRoutes,injector:m._loadedInjector}):function ui(_,v,m,T){const N=v.canLoad;return void 0===N||0===N.length?ne(!0):ne(N.map(Q=>{const Ce=Qe(Q,_);return Tn(function En(_){return _&&Re(_.canLoad)}(Ce)?Ce.canLoad(v,m):_.runInContext(()=>Ce(v,m)))})).pipe(fr(),_o())}(v,m,T).pipe((0,je.z)(N=>N?this.configLoader.loadChildren(v,m).pipe((0,Gt.b)(z=>{m._loadedRoutes=z.routes,m._loadedInjector=z.injector})):function ji(_){return gt(ca(da,3))}())):ne({routes:[],injector:v})}lineralizeSegments(v,m){let T=[],N=m.root;for(;;){if(T=T.concat(N.segments),0===N.numberOfChildren)return ne(T);if(N.numberOfChildren>1||!N.children[qt])return v.redirectTo,gt(new w.vHH(4e3,da));N=N.children[qt]}}applyRedirectCommands(v,m,T){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),v,T)}applyRedirectCreateUrlTree(v,m,T,N){const z=this.createSegmentGroup(v,m.root,T,N);return new _r(z,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(v,m){const T={};return In(v,(N,z)=>{if("string"==typeof N&&N.startsWith(":")){const Ce=N.substring(1);T[z]=m[Ce]}else T[z]=N}),T}createSegmentGroup(v,m,T,N){const z=this.createSegments(v,m.segments,T,N);let Q={};return In(m.children,(Ce,tt)=>{Q[tt]=this.createSegmentGroup(v,Ce,T,N)}),new hn(z,Q)}createSegments(v,m,T,N){return m.map(z=>z.path.startsWith(":")?this.findPosParam(v,z,N):this.findOrReturn(z,T))}findPosParam(v,m,T){const N=T[m.path.substring(1)];if(!N)throw new w.vHH(4001,da);return N}findOrReturn(v,m){let T=0;for(const N of m){if(N.path===v.path)return m.splice(T),N;T++}return v}}class B{}class de{constructor(v,m,T,N,z,Q,Ce){this.injector=v,this.rootComponentType=m,this.config=T,this.urlTree=N,this.url=z,this.paramsInheritanceStrategy=Q,this.urlSerializer=Ce}recognize(){const v=So(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,qt).pipe((0,Vt.U)(m=>{if(null===m)return null;const T=new io([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),N=new Xr(T,m),z=new Yi(this.url,N);return this.inheritParamsAndData(z._root),z}))}inheritParamsAndData(v){const m=v.value,T=ks(m,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data),v.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(v,m,T,N){return 0===T.segments.length&&T.hasChildren()?this.processChildren(v,m,T):this.processSegment(v,m,T,T.segments,N)}processChildren(v,m,T){return(0,g.D)(Object.keys(T.children)).pipe(an(N=>{const z=T.children[N],Q=bs(m,N);return this.processSegmentGroup(v,Q,z,N)}),Yt((N,z)=>N&&z?(N.push(...z),N):null),function Hn(_,v=!1){return(0,Lt.e)((m,T)=>{let N=0;m.subscribe((0,pe.x)(T,z=>{const Q=_(z,N++);(Q||v)&&T.next(z),!Q&&T.complete()}))})}(N=>null!==N),$e(null),zn(),(0,Vt.U)(N=>{if(null===N)return null;const z=mr(N);return function ze(_){_.sort((v,m)=>v.value.outlet===qt?-1:m.value.outlet===qt?1:v.value.outlet.localeCompare(m.value.outlet))}(z),z}))}processSegment(v,m,T,N,z){return(0,g.D)(m).pipe(an(Q=>this.processSegmentAgainstRoute(Q._injector??v,Q,T,N,z)),Ot(Q=>!!Q),xt(Q=>{if(Ar(Q))return Ls(T,N,z)?ne([]):ne(null);throw Q}))}processSegmentAgainstRoute(v,m,T,N,z){if(m.redirectTo||!Lo(m,T,N,z))return ne(null);let Q;if("**"===m.path){const Ce=N.length>0?st(N).parameters:{},tt=Dn(T)+N.length;Q=ne({snapshot:new io(N,Ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,An(m),ai(m),m.component??m._loadedComponent??null,m,Dr(T),tt,Sr(m)),consumedSegments:[],remainingSegments:[]})}else Q=qa(T,m,N,v).pipe((0,Vt.U)(({matched:Ce,consumedSegments:tt,remainingSegments:$t,parameters:jt})=>{if(!Ce)return null;const Zn=Dn(T)+tt.length;return{snapshot:new io(tt,jt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,An(m),ai(m),m.component??m._loadedComponent??null,m,Dr(T),Zn,Sr(m)),consumedSegments:tt,remainingSegments:$t}}));return Q.pipe(qn(Ce=>{if(null===Ce)return ne(null);const{snapshot:tt,consumedSegments:$t,remainingSegments:jt}=Ce;v=m._injector??v;const Zn=m._loadedInjector??v,Xi=function it(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(m),{segmentGroup:Bs,slicedSegments:Do}=So(T,$t,jt,Xi.filter(Gi=>void 0===Gi.redirectTo));if(0===Do.length&&Bs.hasChildren())return this.processChildren(Zn,Xi,Bs).pipe((0,Vt.U)(Gi=>null===Gi?null:[new Xr(tt,Gi)]));if(0===Xi.length&&0===Do.length)return ne([new Xr(tt,[])]);const bo=ai(m)===z;return this.processSegment(Zn,Xi,Bs,Do,bo?qt:z).pipe((0,Vt.U)(Gi=>null===Gi?null:[new Xr(tt,Gi)]))}))}}function rn(_){const v=_.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function mr(_){const v=[],m=new Set;for(const T of _){if(!rn(T)){v.push(T);continue}const N=v.find(z=>T.value.routeConfig===z.value.routeConfig);void 0!==N?(N.children.push(...T.children),m.add(N)):v.push(T)}for(const T of m){const N=mr(T.children);v.push(new Xr(T.value,N))}return v.filter(T=>!m.has(T))}function Dr(_){let v=_;for(;v._sourceSegment;)v=v._sourceSegment;return v}function Dn(_){let v=_,m=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,m+=v._segmentIndexShift??0;return m-1}function An(_){return _.data||{}}function Sr(_){return _.resolve||{}}function Js(_){return"string"==typeof _.title||null===_.title}function Jt(_){return qn(v=>{const m=_(v);return m?(0,g.D)(m).pipe((0,Vt.U)(()=>v)):ne(v)})}const Uo=new w.OlP("ROUTES");let Pt=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return ne(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const T=Tn(m.loadComponent()).pipe((0,Vt.U)(pt),(0,Gt.b)(z=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=z}),nr(()=>{this.componentLoaders.delete(m)})),N=new Ve(T,()=>new xe.x).pipe(wn());return this.componentLoaders.set(m,N),N}loadChildren(m,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return ne({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const z=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,Vt.U)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(T);let tt,$t,jt=!1;Array.isArray(Ce)?$t=Ce:(tt=Ce.create(m).injector,$t=Cn(tt.get(Uo,[],w.XFs.Self|w.XFs.Optional)));return{routes:$t.map(Zs),injector:tt}}),nr(()=>{this.childrenLoaders.delete(T)})),Q=new Ve(z,()=>new xe.x).pipe(wn());return this.childrenLoaders.set(T,Q),Q}loadModuleFactoryOrRoutes(m){return Tn(m()).pipe((0,Vt.U)(pt),(0,je.z)(T=>T instanceof w.YKP||Array.isArray(T)?ne(T):(0,g.D)(this.compiler.compileModuleAsync(T))))}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function pt(_){return function qe(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let fa=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new xe.x,this.configLoader=(0,w.f3M)(Pt),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(ce),this.rootContexts=(0,w.f3M)(so),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new ns(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new Xn(N))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const T=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:T})}setupNavigations(m){return this.transitions=new le({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:si,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Me(T=>0!==T.id),(0,Vt.U)(T=>({...T,extractedUrl:m.urlHandlingStrategy.extract(T.rawUrl)})),qn(T=>{let N=!1,z=!1;return ne(T).pipe((0,Gt.b)(Q=>{this.currentNavigation={id:Q.id,initialUrl:Q.rawUrl,extractedUrl:Q.extractedUrl,trigger:Q.source,extras:Q.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qn(Q=>{const Ce=m.browserUrlTree.toString(),tt=!m.navigated||Q.extractedUrl.toString()!==Ce||Ce!==m.currentUrlTree.toString();if(!tt&&"reload"!==(Q.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const jt="";return this.events.next(new Jr(Q.id,m.serializeUrl(T.rawUrl),jt,0)),m.rawUrlTree=Q.rawUrl,Q.resolve(null),dt.E}if(m.urlHandlingStrategy.shouldProcessUrl(Q.rawUrl))return tc(Q.source)&&(m.browserUrlTree=Q.extractedUrl),ne(Q).pipe(qn(jt=>{const Zn=this.transitions?.getValue();return this.events.next(new Qr(jt.id,this.urlSerializer.serialize(jt.extractedUrl),jt.source,jt.restoredState)),Zn!==this.transitions?.getValue()?dt.E:Promise.resolve(jt)}),function Mu(_,v,m,T){return qn(N=>function Ts(_,v,m,T,N){return new Kr(_,v,m,T,N).apply()}(_,v,m,N.extractedUrl,T).pipe((0,Vt.U)(z=>({...N,urlAfterRedirects:z}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,Gt.b)(jt=>{this.currentNavigation={...this.currentNavigation,finalUrl:jt.urlAfterRedirects},T.urlAfterRedirects=jt.urlAfterRedirects}),function ci(_,v,m,T,N){return(0,je.z)(z=>function W(_,v,m,T,N,z,Q="emptyOnly"){return new de(_,v,m,T,N,Q,z).recognize().pipe(qn(Ce=>null===Ce?function k(_){return new Ge.y(v=>v.error(_))}(new B):ne(Ce)))}(_,v,m,z.urlAfterRedirects,T.serialize(z.urlAfterRedirects),T,N).pipe((0,Vt.U)(Q=>({...z,targetSnapshot:Q}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,Gt.b)(jt=>{if(T.targetSnapshot=jt.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!jt.extras.skipLocationChange){const Xi=m.urlHandlingStrategy.merge(jt.urlAfterRedirects,jt.rawUrl);m.setBrowserUrl(Xi,jt)}m.browserUrlTree=jt.urlAfterRedirects}const Zn=new Ki(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(Zn)}));if(tt&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:jt,extractedUrl:Zn,source:Xi,restoredState:Bs,extras:Do}=Q,bo=new Qr(jt,this.urlSerializer.serialize(Zn),Xi,Bs);this.events.next(bo);const Gi=fo(Zn,this.rootComponentType).snapshot;return ne(T={...Q,targetSnapshot:Gi,urlAfterRedirects:Zn,extras:{...Do,skipLocationChange:!1,replaceUrl:!1}})}{const jt="";return this.events.next(new Jr(Q.id,m.serializeUrl(T.extractedUrl),jt,1)),m.rawUrlTree=Q.rawUrl,Q.resolve(null),dt.E}}),(0,Gt.b)(Q=>{const Ce=new vs(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot);this.events.next(Ce)}),(0,Vt.U)(Q=>T={...Q,guards:Ae(Q.targetSnapshot,Q.currentSnapshot,this.rootContexts)}),function yo(_,v){return(0,je.z)(m=>{const{targetSnapshot:T,currentSnapshot:N,guards:{canActivateChecks:z,canDeactivateChecks:Q}}=m;return 0===Q.length&&0===z.length?ne({...m,guardsResult:!0}):function Cs(_,v,m,T){return(0,g.D)(_).pipe((0,je.z)(N=>function la(_,v,m,T,N){const z=v&&v.routeConfig?v.routeConfig.canDeactivate:null;return z&&0!==z.length?ne(z.map(Ce=>{const tt=ei(v)??N,$t=Qe(Ce,tt);return Tn(function Qt(_){return _&&Re(_.canDeactivate)}($t)?$t.canDeactivate(_,v,m,T):tt.runInContext(()=>$t(_,v,m,T))).pipe(Ot())})).pipe(fr()):ne(!0)}(N.component,N.route,m,v,T)),Ot(N=>!0!==N,!0))}(Q,T,N,_).pipe((0,je.z)(Ce=>Ce&&function Dt(_){return"boolean"==typeof _}(Ce)?function Ys(_,v,m,T){return(0,g.D)(v).pipe(an(N=>ft(function xa(_,v){return null!==_&&v&&v(new zs(_)),ne(!0)}(N.route.parent,T),function Zo(_,v){return null!==_&&v&&v(new qs(_)),ne(!0)}(N.route,T),function Or(_,v,m){const T=v[v.length-1],z=v.slice(0,v.length-1).reverse().map(Q=>function Xe(_){const v=_.routeConfig?_.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:_,guards:v}:null}(Q)).filter(Q=>null!==Q).map(Q=>et(()=>ne(Q.guards.map(tt=>{const $t=ei(Q.node)??m,jt=Qe(tt,$t);return Tn(function Je(_){return _&&Re(_.canActivateChild)}(jt)?jt.canActivateChild(T,_):$t.runInContext(()=>jt(T,_))).pipe(Ot())})).pipe(fr())));return ne(z).pipe(fr())}(_,N.path,m),function $i(_,v,m){const T=v.routeConfig?v.routeConfig.canActivate:null;if(!T||0===T.length)return ne(!0);const N=T.map(z=>et(()=>{const Q=ei(v)??m,Ce=Qe(z,Q);return Tn(function Qn(_){return _&&Re(_.canActivate)}(Ce)?Ce.canActivate(v,_):Q.runInContext(()=>Ce(v,_))).pipe(Ot())}));return ne(N).pipe(fr())}(_,N.route,m))),Ot(N=>!0!==N,!0))}(T,z,_,v):ne(Ce)),(0,Vt.U)(Ce=>({...m,guardsResult:Ce})))})}(this.environmentInjector,Q=>this.events.next(Q)),(0,Gt.b)(Q=>{if(T.guardsResult=Q.guardsResult,lr(Q.guardsResult))throw cs(0,Q.guardsResult);const Ce=new qr(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot,!!Q.guardsResult);this.events.next(Ce)}),Me(Q=>!!Q.guardsResult||(m.restoreHistory(Q),this.cancelNavigationTransition(Q,"",3),!1)),Jt(Q=>{if(Q.guards.canActivateChecks.length)return ne(Q).pipe((0,Gt.b)(Ce=>{const tt=new ws(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(tt)}),qn(Ce=>{let tt=!1;return ne(Ce).pipe(function Eo(_,v){return(0,je.z)(m=>{const{targetSnapshot:T,guards:{canActivateChecks:N}}=m;if(!N.length)return ne(m);let z=0;return(0,g.D)(N).pipe(an(Q=>function ha(_,v,m,T){const N=_.routeConfig,z=_._resolve;return void 0!==N?.title&&!Js(N)&&(z[Jn]=N.title),function ht(_,v,m,T){const N=function Fr(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===N.length)return ne({});const z={};return(0,g.D)(N).pipe((0,je.z)(Q=>function Hi(_,v,m,T){const N=ei(v)??T,z=Qe(_,N);return Tn(z.resolve?z.resolve(v,m):N.runInContext(()=>z(v,m)))}(_[Q],v,m,T).pipe(Ot(),(0,Gt.b)(Ce=>{z[Q]=Ce}))),Vn(1),function Mn(_){return(0,Vt.U)(()=>_)}(z),xt(Q=>Ar(Q)?dt.E:gt(Q)))}(z,_,v,T).pipe((0,Vt.U)(Q=>(_._resolvedData=Q,_.data=ks(_,m).resolve,N&&Js(N)&&(_.data[Jn]=N.title),null)))}(Q.route,T,_,v)),(0,Gt.b)(()=>z++),Vn(1),(0,je.z)(Q=>z===N.length?ne(m):dt.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,Gt.b)({next:()=>tt=!0,complete:()=>{tt||(m.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"",2))}}))}),(0,Gt.b)(Ce=>{const tt=new ro(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(tt)}))}),Jt(Q=>{const Ce=tt=>{const $t=[];tt.routeConfig?.loadComponent&&!tt.routeConfig._loadedComponent&&$t.push(this.configLoader.loadComponent(tt.routeConfig).pipe((0,Gt.b)(jt=>{tt.component=jt}),(0,Vt.U)(()=>{})));for(const jt of tt.children)$t.push(...Ce(jt));return $t};return ke(Ce(Q.targetSnapshot.root)).pipe($e(),tn(1))}),Jt(()=>this.afterPreactivation()),(0,Vt.U)(Q=>{const Ce=function za(_,v,m){const T=Es(_,v._root,m?m._root:void 0);return new Ws(T,v)}(m.routeReuseStrategy,Q.targetSnapshot,Q.currentRouterState);return T={...Q,targetRouterState:Ce}}),(0,Gt.b)(Q=>{m.currentUrlTree=Q.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(Q.urlAfterRedirects,Q.rawUrl),m.routerState=Q.targetRouterState,"deferred"===m.urlUpdateStrategy&&(Q.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,Q),m.browserUrlTree=Q.urlAfterRedirects)}),((_,v,m)=>(0,Vt.U)(T=>(new $(v,T.targetRouterState,T.currentRouterState,m).activate(_),T)))(this.rootContexts,m.routeReuseStrategy,Q=>this.events.next(Q)),tn(1),(0,Gt.b)({next:Q=>{N=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new Er(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(Q.targetRouterState.snapshot),Q.resolve(!0)},complete:()=>{N=!0}}),nr(()=>{N||z||this.cancelNavigationTransition(T,"",1),this.currentNavigation?.id===T.id&&(this.currentNavigation=null)}),xt(Q=>{if(z=!0,Fo(Q)){is(Q)||(m.navigated=!0,m.restoreHistory(T,!0));const Ce=new Gs(T.id,this.urlSerializer.serialize(T.extractedUrl),Q.message,Q.cancellationCode);if(this.events.next(Ce),is(Q)){const tt=m.urlHandlingStrategy.merge(Q.url,m.rawUrlTree),$t={skipLocationChange:T.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||tc(T.source)};m.scheduleNavigation(tt,si,null,$t,{resolve:T.resolve,reject:T.reject,promise:T.promise})}else T.resolve(!1)}else{m.restoreHistory(T,!0);const Ce=new Nr(T.id,this.urlSerializer.serialize(T.extractedUrl),Q,T.targetSnapshot??void 0);this.events.next(Ce);try{T.resolve(m.errorHandler(Q))}catch(tt){T.reject(tt)}}return dt.E}))}))}cancelNavigationTransition(m,T,N){const z=new Gs(m.id,this.urlSerializer.serialize(m.extractedUrl),T,N);this.events.next(z),m.resolve(!1)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function tc(_){return _!==si}let pa=(()=>{class _{buildTitle(m){let T,N=m.root;for(;void 0!==N;)T=this.getResolvedTitleForRoute(N)??T,N=N.children.find(z=>z.outlet===qt);return T}getResolvedTitleForRoute(m){return m.data[Jn]}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=w.Yz7({token:_,factory:function(){return(0,w.f3M)(Eh)},providedIn:"root"}),_})(),Eh=(()=>{class _ extends pa{constructor(m){super(),this.title=m}updateTitle(m){const T=this.buildTitle(m);void 0!==T&&this.title.setTitle(T)}}return _.\u0275fac=function(m){return new(m||_)(w.LFG(or.Dx))},_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),nc=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=w.Yz7({token:_,factory:function(){return(0,w.f3M)(rc)},providedIn:"root"}),_})();class Wa{shouldDetach(v){return!1}store(v,m){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,m){return v.routeConfig===m.routeConfig}}let rc=(()=>{class _ extends Wa{}return _.\u0275fac=function(){let v;return function(T){return(v||(v=w.n5z(_)))(T||_)}}(),_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Ru=new w.OlP("",{providedIn:"root",factory:()=>({})});let li=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=w.Yz7({token:_,factory:function(){return(0,w.f3M)(Ma)},providedIn:"root"}),_})(),Ma=(()=>{class _{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,T){return m}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Qo(_){throw _}function ki(_,v,m){return v.parse("/")}const di={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ni=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this.options=(0,w.f3M)(Ru,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Qo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ki,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(li),this.routeReuseStrategy=(0,w.f3M)(nc),this.urlCreationStrategy=(0,w.f3M)(Zi),this.titleStrategy=(0,w.f3M)(pa),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Cn((0,w.f3M)(Uo,{optional:!0})??[]),this.navigationTransitions=(0,w.f3M)(fa),this.urlSerializer=(0,w.f3M)(ce),this.location=(0,w.f3M)(mn.Ye),this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _r,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),si,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const T="popstate"===m.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,T,m.state)},0)}))}navigateToSyncWithBrowser(m,T,N){const z={replaceUrl:!0},Q=N?.navigationId?N:null;if(N){const tt={...N};delete tt.navigationId,delete tt.\u0275routerPageId,0!==Object.keys(tt).length&&(z.state=tt)}const Ce=this.parseUrl(m);this.scheduleNavigation(Ce,T,Q,z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(Zs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,T={}){const{relativeTo:N,queryParams:z,fragment:Q,queryParamsHandling:Ce,preserveFragment:tt}=T,$t=tt?this.currentUrlTree.fragment:Q;let jt=null;switch(Ce){case"merge":jt={...this.currentUrlTree.queryParams,...z};break;case"preserve":jt=this.currentUrlTree.queryParams;break;default:jt=z||null}return null!==jt&&(jt=this.removeEmptyProps(jt)),this.urlCreationStrategy.createUrlTree(N,this.routerState,this.currentUrlTree,m,jt,$t??null)}navigateByUrl(m,T={skipLocationChange:!1}){const N=lr(m)?m:this.parseUrl(m),z=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(z,si,null,T)}navigate(m,T={skipLocationChange:!1}){return function pr(_){for(let v=0;v<_.length;v++){const m=_[v];if(null==m)throw new w.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,T),T)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let T;try{T=this.urlSerializer.parse(m)}catch(N){T=this.malformedUriErrorHandler(N,this.urlSerializer,m)}return T}isActive(m,T){let N;if(N=!0===T?{...di}:!1===T?{...gn}:T,lr(m))return zr(this.currentUrlTree,m,N);const z=this.parseUrl(m);return zr(this.currentUrlTree,z,N)}removeEmptyProps(m){return Object.keys(m).reduce((T,N)=>{const z=m[N];return null!=z&&(T[N]=z),T},{})}scheduleNavigation(m,T,N,z,Q){if(this.disposed)return Promise.resolve(!1);let Ce,tt,$t,jt;return Q?(Ce=Q.resolve,tt=Q.reject,$t=Q.promise):$t=new Promise((Zn,Xi)=>{Ce=Zn,tt=Xi}),jt="computed"===this.canceledNavigationResolution?N&&N.\u0275routerPageId?N.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:jt,source:T,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:z,resolve:Ce,reject:tt,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(Zn=>Promise.reject(Zn))}setBrowserUrl(m,T){const N=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(N)||T.extras.replaceUrl){const Q={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId)};this.location.replaceState(N,"",Q)}else{const z={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.go(N,"",z)}}restoreHistory(m,T=!1){if("computed"===this.canceledNavigationResolution){const z=this.currentPageId-(this.browserPageId??this.currentPageId);0!==z?this.location.historyGo(z):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===z&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,T){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:T}:{navigationId:m}}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Jo=(()=>{class _{constructor(m,T,N,z,Q,Ce){this.router=m,this.route=T,this.tabIndexAttribute=N,this.renderer=z,this.el=Q,this.locationStrategy=Ce,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new xe.x;const tt=Q.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===tt||"area"===tt,this.isAnchorElement?this.subscription=m.events.subscribe($t=>{$t instanceof Er&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,w.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,w.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,w.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,T,N,z,Q){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||T||N||z||Q||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,T){const N=this.renderer,z=this.el.nativeElement;null!==T?N.setAttribute(z,m,T):N.removeAttribute(z,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(m){return new(m||_)(w.Y36(Ni),w.Y36(us),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(mn.S$))},_.\u0275dir=w.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,T){1&m&&w.NdJ("click",function(z){return T.onClick(z.button,z.ctrlKey,z.shiftKey,z.altKey,z.metaKey)}),2&m&&w.uIk("target",T.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),_})(),hi=(()=>{class _{get isActive(){return this._isActive}constructor(m,T,N,z,Q){this.router=m,this.element=T,this.renderer=N,this.cdr=z,this.link=Q,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new w.vpe,this.routerEventsSubscription=m.events.subscribe(Ce=>{Ce instanceof Er&&this.update()})}ngAfterContentInit(){ne(this.links.changes,ne(null)).pipe((0,vn.J)()).subscribe(m=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const m=[...this.links.toArray(),this.link].filter(T=>!!T).map(T=>T.onChanges);this.linkInputChangesSubscription=(0,g.D)(m).pipe((0,vn.J)()).subscribe(T=>{this._isActive!==this.isLinkActive(this.router)(T)&&this.update()})}set routerLinkActive(m){const T=Array.isArray(m)?m:m.split(" ");this.classes=T.filter(N=>!!N)}ngOnChanges(m){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const m=this.hasActiveLinks();this._isActive!==m&&(this._isActive=m,this.cdr.markForCheck(),this.classes.forEach(T=>{m?this.renderer.addClass(this.element.nativeElement,T):this.renderer.removeClass(this.element.nativeElement,T)}),m&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(m))})}isLinkActive(m){const T=function Mt(_){return!!_.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return N=>!!N.urlTree&&m.isActive(N.urlTree,T)}hasActiveLinks(){const m=this.isLinkActive(this.router);return this.link&&m(this.link)||this.links.some(m)}}return _.\u0275fac=function(m){return new(m||_)(w.Y36(Ni),w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(w.sBO),w.Y36(Jo,8))},_.\u0275dir=w.lG2({type:_,selectors:[["","routerLinkActive",""]],contentQueries:function(m,T,N){if(1&m&&w.Suo(N,Jo,5),2&m){let z;w.iGM(z=w.CRH())&&(T.links=z)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[w.TTD]}),_})();class Vs{}let Pu=(()=>{class _{constructor(m,T,N,z,Q){this.router=m,this.injector=N,this.preloadingStrategy=z,this.loader=Q}setUpPreloading(){this.subscription=this.router.events.pipe(Me(m=>m instanceof Er),an(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,T){const N=[];for(const z of T){z.providers&&!z._injector&&(z._injector=(0,w.MMx)(z.providers,m,`Route: ${z.path}`));const Q=z._injector??m,Ce=z._loadedInjector??Q;(z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent)&&N.push(this.preloadConfig(Q,z)),(z.children||z._loadedRoutes)&&N.push(this.processRoutes(Ce,z.children??z._loadedRoutes))}return(0,g.D)(N).pipe((0,vn.J)())}preloadConfig(m,T){return this.preloadingStrategy.preload(T,()=>{let N;N=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(m,T):ne(null);const z=N.pipe((0,je.z)(Q=>null===Q?ne(void 0):(T._loadedRoutes=Q.routes,T._loadedInjector=Q.injector,this.processRoutes(Q.injector??m,Q.routes))));if(T.loadComponent&&!T._loadedComponent){const Q=this.loader.loadComponent(T);return(0,g.D)([z,Q]).pipe((0,vn.J)())}return z})}}return _.\u0275fac=function(m){return new(m||_)(w.LFG(Ni),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Vs),w.LFG(Pt))},_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Xs=new w.OlP("");let ic=(()=>{class _{constructor(m,T,N,z,Q={}){this.urlSerializer=m,this.transitions=T,this.viewportScroller=N,this.zone=z,this.options=Q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Q.scrollPositionRestoration=Q.scrollPositionRestoration||"disabled",Q.anchorScrolling=Q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Qr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Er&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof rs&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rs(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return _.\u0275fac=function(m){w.$Z()},_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac}),_})();var Oi=(()=>((Oi=Oi||{})[Oi.COMPLETE=0]="COMPLETE",Oi[Oi.FAILED=1]="FAILED",Oi[Oi.REDIRECTING=2]="REDIRECTING",Oi))();const Xo=!1;function ds(_,v){return{\u0275kind:_,\u0275providers:v}}const ea=new w.OlP("",{providedIn:"root",factory:()=>!1});function Ao(){const _=(0,w.f3M)(w.zs3);return v=>{const m=_.get(w.z2F);if(v!==m.components[0])return;const T=_.get(Ni),N=_.get(Us);1===_.get(ku)&&T.initialNavigation(),_.get(ma,null,w.XFs.Optional)?.setUpPreloading(),_.get(Xs,null,w.XFs.Optional)?.init(),T.resetRootComponentType(m.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const Us=new w.OlP(Xo?"bootstrap done indicator":"",{factory:()=>new xe.x}),ku=new w.OlP(Xo?"initial navigation":"",{providedIn:"root",factory:()=>1});function fu(){let _=[];return _=Xo?[{provide:w.Xts,multi:!0,useFactory:()=>{const v=(0,w.f3M)(Ni);return()=>v.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function Ci(_){if(!("type"in _))return`Unknown Router Event: ${_.constructor.name}`;switch(_.type){case 14:return`ActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state}, shouldActivate: ${_.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 2:return`NavigationCancel(id: ${_.id}, url: '${_.url}')`;case 16:return`NavigationSkipped(id: ${_.id}, url: '${_.url}')`;case 1:return`NavigationEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${_.id}, url: '${_.url}', error: ${_.error})`;case 0:return`NavigationStart(id: ${_.id}, url: '${_.url}')`;case 6:return`ResolveEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 5:return`ResolveStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 10:return`RouteConfigLoadEnd(path: ${_.route.path})`;case 9:return`RouteConfigLoadStart(path: ${_.route.path})`;case 4:return`RoutesRecognized(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 15:return`Scroll(anchor: '${_.anchor}', position: '${_.position?`${_.position[0]}, ${_.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],ds(1,_)}const ma=new w.OlP(Xo?"router preloader":"");function Nu(_){return ds(0,[{provide:ma,useExisting:Pu},{provide:Vs,useExisting:_}])}const ti=!1,Ra=new w.OlP(ti?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Fi=[mn.Ye,{provide:ce,useClass:L},Ni,so,{provide:us,useFactory:function Za(_){return _.routerState.root},deps:[Ni]},Pt,ti?{provide:ea,useValue:!0}:[]];function vi(){return new w.PXZ("Router",Ni)}let Pa=(()=>{class _{constructor(m){}static forRoot(m,T){return{ngModule:_,providers:[Fi,ti&&T?.enableTracing?fu().\u0275providers:[],{provide:Uo,multi:!0,useValue:m},{provide:Ra,useFactory:ka,deps:[[Ni,new w.FiY,new w.tp0]]},{provide:Ru,useValue:T||{}},T?.useHash?{provide:mn.S$,useClass:mn.Do}:{provide:mn.S$,useClass:mn.b0},{provide:Xs,useFactory:()=>{const _=(0,w.f3M)(mn.EM),v=(0,w.f3M)(w.R0b),m=(0,w.f3M)(Ru),T=(0,w.f3M)(fa),N=(0,w.f3M)(ce);return m.scrollOffset&&_.setOffset(m.scrollOffset),new ic(N,T,_,v,m)}},T?.preloadingStrategy?Nu(T.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:vi},T?.initialNavigation?ya(T):[],[{provide:Mo,useFactory:Ao},{provide:w.tb,multi:!0,useExisting:Mo}]]}}static forChild(m){return{ngModule:_,providers:[{provide:Uo,multi:!0,useValue:m}]}}}return _.\u0275fac=function(m){return new(m||_)(w.LFG(Ra,8))},_.\u0275mod=w.oAB({type:_}),_.\u0275inj=w.cJS({imports:[Wr]}),_})();function ka(_){if(ti&&_)throw new w.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ya(_){return["disabled"===_.initialNavigation?ds(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const v=(0,w.f3M)(Ni);return()=>{v.setUpLocationChangeListener()}}},{provide:ku,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?ds(2,[{provide:ku,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:v=>{const m=v.get(mn.V_,Promise.resolve());return()=>m.then(()=>new Promise(T=>{const N=v.get(Ni),z=v.get(Us);(function Ka(_,v){_.events.pipe(Me(m=>m instanceof Er||m instanceof Gs||m instanceof Nr||m instanceof Jr),(0,Vt.U)(m=>m instanceof Er||m instanceof Jr?Oi.COMPLETE:m instanceof Gs&&(0===m.code||1===m.code)?Oi.REDIRECTING:Oi.FAILED),Me(m=>m!==Oi.REDIRECTING),tn(1)).subscribe(()=>{v()})})(N,()=>{T(!0)}),v.get(fa).afterPreactivation=()=>(T(!0),z.closed?ne(void 0):z),N.initialNavigation()}))}}]).\u0275providers:[]]}const Mo=new w.OlP(ti?"Router Initializer":"")},6881:(_n,lt,Y)=>{Y.d(lt,{Jn:()=>pi,qX:()=>Tn,Xd:()=>In,Mq:()=>Yr,C6:()=>cr,ZF:()=>Nn,KN:()=>hn});var w=Y(5861),g=Y(4859),we=Y(1877),ne=Y(2090);const xe=(Ue,Pe)=>Pe.some(ot=>Ue instanceof ot);let le,_e;const fe=new WeakMap,ge=new WeakMap,Ke=new WeakMap,at=new WeakMap,pe=new WeakMap;let It={get(Ue,Pe,ot){if(Ue instanceof IDBTransaction){if("done"===Pe)return ge.get(Ue);if("objectStoreNames"===Pe)return Ue.objectStoreNames||Ke.get(Ue);if("store"===Pe)return ot.objectStoreNames[1]?void 0:ot.objectStore(ot.objectStoreNames[0])}return ft(Ue[Pe])},set:(Ue,Pe,ot)=>(Ue[Pe]=ot,!0),has:(Ue,Pe)=>Ue instanceof IDBTransaction&&("done"===Pe||"store"===Pe)||Pe in Ue};function Ct(Ue){return"function"==typeof Ue?function vn(Ue){return Ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ge(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ue)?function(...Pe){return Ue.apply(_t(this),Pe),ft(fe.get(this))}:function(...Pe){return ft(Ue.apply(_t(this),Pe))}:function(Pe,...ot){const Wt=Ue.call(_t(this),Pe,...ot);return Ke.set(Wt,Pe.sort?Pe.sort():[Pe]),ft(Wt)}}(Ue):(Ue instanceof IDBTransaction&&function ke(Ue){if(ge.has(Ue))return;const Pe=new Promise((ot,Wt)=>{const fn=()=>{Ue.removeEventListener("complete",bn),Ue.removeEventListener("error",Rn),Ue.removeEventListener("abort",Rn)},bn=()=>{ot(),fn()},Rn=()=>{Wt(Ue.error||new DOMException("AbortError","AbortError")),fn()};Ue.addEventListener("complete",bn),Ue.addEventListener("error",Rn),Ue.addEventListener("abort",Rn)});ge.set(Ue,Pe)}(Ue),xe(Ue,function ut(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ue,It):Ue)}function ft(Ue){if(Ue instanceof IDBRequest)return function wt(Ue){const Pe=new Promise((ot,Wt)=>{const fn=()=>{Ue.removeEventListener("success",bn),Ue.removeEventListener("error",Rn)},bn=()=>{ot(ft(Ue.result)),fn()},Rn=()=>{Wt(Ue.error),fn()};Ue.addEventListener("success",bn),Ue.addEventListener("error",Rn)});return Pe.then(ot=>{ot instanceof IDBCursor&&fe.set(ot,Ue)}).catch(()=>{}),pe.set(Pe,Ue),Pe}(Ue);if(at.has(Ue))return at.get(Ue);const Pe=Ct(Ue);return Pe!==Ue&&(at.set(Ue,Pe),pe.set(Pe,Ue)),Pe}const _t=Ue=>pe.get(Ue),Ze=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],dt=new Map;function Ht(Ue,Pe){if(!(Ue instanceof IDBDatabase)||Pe in Ue||"string"!=typeof Pe)return;if(dt.get(Pe))return dt.get(Pe);const ot=Pe.replace(/FromIndex$/,""),Wt=Pe!==ot,fn=gt.includes(ot);if(!(ot in(Wt?IDBIndex:IDBObjectStore).prototype)||!fn&&!Ze.includes(ot))return;const bn=function(){var Rn=(0,w.Z)(function*(Rr,...lr){const Cr=this.transaction(Rr,fn?"readwrite":"readonly");let ys=Cr.store;return Wt&&(ys=ys.index(lr.shift())),(yield Promise.all([ys[ot](...lr),fn&&Cr.done]))[0]});return function(lr){return Rn.apply(this,arguments)}}();return dt.set(Pe,bn),bn}!function Tt(Ue){It=Ue(It)}(Ue=>({...Ue,get:(Pe,ot,Wt)=>Ht(Pe,ot)||Ue.get(Pe,ot,Wt),has:(Pe,ot)=>!!Ht(Pe,ot)||Ue.has(Pe,ot)}));class Lt{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function wn(Ue){return"VERSION"===Ue.getComponent()?.type}(ot)){const Wt=ot.getImmediate();return`${Wt.library}/${Wt.version}`}return null}).filter(ot=>ot).join(" ")}}const Ve="@firebase/app",Vt=new we.Yd("@firebase/app"),kr="[DEFAULT]",hr={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zr=new Map,Cn=new Map;function st(Ue,Pe){try{Ue.container.addComponent(Pe)}catch(ot){Vt.debug(`Component ${Pe.name} failed to register with FirebaseApp ${Ue.name}`,ot)}}function In(Ue){const Pe=Ue.name;if(Cn.has(Pe))return Vt.debug(`There were multiple attempts to register component ${Pe}.`),!1;Cn.set(Pe,Ue);for(const ot of Zr.values())st(ot,Ue);return!0}function Tn(Ue,Pe){const ot=Ue.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),Ue.container.getProvider(Pe)}const zr=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yn{constructor(Pe,ot,Wt){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=Wt,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}const pi="9.23.0";function Nn(Ue,Pe={}){let ot=Ue;"object"!=typeof Pe&&(Pe={name:Pe});const Wt=Object.assign({name:kr,automaticDataCollectionEnabled:!1},Pe),fn=Wt.name;if("string"!=typeof fn||!fn)throw zr.create("bad-app-name",{appName:String(fn)});if(ot||(ot=(0,ne.aH)()),!ot)throw zr.create("no-options");const bn=Zr.get(fn);if(bn){if((0,ne.vZ)(ot,bn.options)&&(0,ne.vZ)(Wt,bn.config))return bn;throw zr.create("duplicate-app",{appName:fn})}const Rn=new g.H0(fn);for(const lr of Cn.values())Rn.addComponent(lr);const Rr=new Yn(ot,Wt,Rn);return Zr.set(fn,Rr),Rr}function Yr(Ue=kr){const Pe=Zr.get(Ue);if(!Pe&&Ue===kr&&(0,ne.aH)())return Nn();if(!Pe)throw zr.create("no-app",{appName:Ue});return Pe}function cr(){return Array.from(Zr.values())}function hn(Ue,Pe,ot){var Wt;let fn=null!==(Wt=hr[Ue])&&void 0!==Wt?Wt:Ue;ot&&(fn+=`-${ot}`);const bn=fn.match(/\s|\//),Rn=Pe.match(/\s|\//);if(bn||Rn){const Rr=[`Unable to register library "${fn}" with version "${Pe}":`];return bn&&Rr.push(`library name "${fn}" contains illegal characters (whitespace or "/")`),bn&&Rn&&Rr.push("and"),Rn&&Rr.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void Vt.warn(Rr.join(" "))}In(new g.wA(`${fn}-version`,()=>({library:fn,version:Pe}),"VERSION"))}const zt="firebase-heartbeat-database",rr=1,ce="firebase-heartbeat-store";let L=null;function re(){return L||(L=function et(Ue,Pe,{blocked:ot,upgrade:Wt,blocking:fn,terminated:bn}={}){const Rn=indexedDB.open(Ue,Pe),Rr=ft(Rn);return Wt&&Rn.addEventListener("upgradeneeded",lr=>{Wt(ft(Rn.result),lr.oldVersion,lr.newVersion,ft(Rn.transaction),lr)}),ot&&Rn.addEventListener("blocked",lr=>ot(lr.oldVersion,lr.newVersion,lr)),Rr.then(lr=>{bn&&lr.addEventListener("close",()=>bn()),fn&&lr.addEventListener("versionchange",Cr=>fn(Cr.oldVersion,Cr.newVersion,Cr))}).catch(()=>{}),Rr}(zt,rr,{upgrade:(Ue,Pe)=>{0===Pe&&Ue.createObjectStore(ce)}}).catch(Ue=>{throw zr.create("idb-open",{originalErrorMessage:Ue.message})})),L}function ee(){return(ee=(0,w.Z)(function*(Ue){try{return yield(yield re()).transaction(ce).objectStore(ce).get(ue(Ue))}catch(Pe){if(Pe instanceof ne.ZR)Vt.warn(Pe.message);else{const ot=zr.create("idb-get",{originalErrorMessage:Pe?.message});Vt.warn(ot.message)}}})).apply(this,arguments)}function Ie(Ue,Pe){return oe.apply(this,arguments)}function oe(){return(oe=(0,w.Z)(function*(Ue,Pe){try{const Wt=(yield re()).transaction(ce,"readwrite");yield Wt.objectStore(ce).put(Pe,ue(Ue)),yield Wt.done}catch(ot){if(ot instanceof ne.ZR)Vt.warn(ot.message);else{const Wt=zr.create("idb-set",{originalErrorMessage:ot?.message});Vt.warn(Wt.message)}}})).apply(this,arguments)}function ue(Ue){return`${Ue.name}!${Ue.options.appId}`}class Be{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new Ut(ot),this._heartbeatsCachePromise=this._storage.read().then(Wt=>(this._heartbeatsCache=Wt,Wt))}triggerHeartbeat(){var Pe=this;return(0,w.Z)(function*(){const Wt=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fn=nt();if(null===Pe._heartbeatsCache&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise),Pe._heartbeatsCache.lastSentHeartbeatDate!==fn&&!Pe._heartbeatsCache.heartbeats.some(bn=>bn.date===fn))return Pe._heartbeatsCache.heartbeats.push({date:fn,agent:Wt}),Pe._heartbeatsCache.heartbeats=Pe._heartbeatsCache.heartbeats.filter(bn=>{const Rn=new Date(bn.date).valueOf();return Date.now()-Rn<=2592e6}),Pe._storage.overwrite(Pe._heartbeatsCache)})()}getHeartbeatsHeader(){var Pe=this;return(0,w.Z)(function*(){if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null===Pe._heartbeatsCache||0===Pe._heartbeatsCache.heartbeats.length)return"";const ot=nt(),{heartbeatsToSend:Wt,unsentEntries:fn}=function Rt(Ue,Pe=1024){const ot=[];let Wt=Ue.slice();for(const fn of Ue){const bn=ot.find(Rn=>Rn.agent===fn.agent);if(bn){if(bn.dates.push(fn.date),Un(ot)>Pe){bn.dates.pop();break}}else if(ot.push({agent:fn.agent,dates:[fn.date]}),Un(ot)>Pe){ot.pop();break}Wt=Wt.slice(1)}return{heartbeatsToSend:ot,unsentEntries:Wt}}(Pe._heartbeatsCache.heartbeats),bn=(0,ne.L)(JSON.stringify({version:2,heartbeats:Wt}));return Pe._heartbeatsCache.lastSentHeartbeatDate=ot,fn.length>0?(Pe._heartbeatsCache.heartbeats=fn,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),bn})()}}function nt(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,w.Z)(function*(){return(yield Pe._canUseIndexedDBPromise)&&(yield function H(Ue){return ee.apply(this,arguments)}(Pe.app))||{heartbeats:[]}})()}overwrite(Pe){var ot=this;return(0,w.Z)(function*(){var Wt;if(yield ot._canUseIndexedDBPromise){const bn=yield ot.read();return Ie(ot.app,{lastSentHeartbeatDate:null!==(Wt=Pe.lastSentHeartbeatDate)&&void 0!==Wt?Wt:bn.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var ot=this;return(0,w.Z)(function*(){var Wt;if(yield ot._canUseIndexedDBPromise){const bn=yield ot.read();return Ie(ot.app,{lastSentHeartbeatDate:null!==(Wt=Pe.lastSentHeartbeatDate)&&void 0!==Wt?Wt:bn.lastSentHeartbeatDate,heartbeats:[...bn.heartbeats,...Pe.heartbeats]})}})()}}function Un(Ue){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Ue})).length}!function gr(Ue){In(new g.wA("platform-logger",Pe=>new Lt(Pe),"PRIVATE")),In(new g.wA("heartbeat",Pe=>new Be(Pe),"PRIVATE")),hn(Ve,"0.9.13",Ue),hn(Ve,"0.9.13","esm2017"),hn("fire-js","")}("")},4859:(_n,lt,Y)=>{Y.d(lt,{H0:()=>ut,wA:()=>we});var w=Y(5861),g=Y(2090);class we{constructor(fe,ge,Ke){this.name=fe,this.instanceFactory=ge,this.type=Ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const ne="[DEFAULT]";class xe{constructor(fe,ge){this.name=fe,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const ge=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(ge)){const Ke=new g.BH;if(this.instancesDeferred.set(ge,Ke),this.isInitialized(ge)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:ge});at&&Ke.resolve(at)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(fe){var ge;const Ke=this.normalizeInstanceIdentifier(fe?.identifier),at=null!==(ge=fe?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(Ke)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ke})}catch(pe){if(at)return null;throw pe}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function _e(Ge){return"EAGER"===Ge.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[ge,Ke]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(ge);try{const pe=this.getOrInitializeService({instanceIdentifier:at});Ke.resolve(pe)}catch{}}}}clearInstance(fe=ne){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,w.Z)(function*(){const ge=Array.from(fe.instances.values());yield Promise.all([...ge.filter(Ke=>"INTERNAL"in Ke).map(Ke=>Ke.INTERNAL.delete()),...ge.filter(Ke=>"_delete"in Ke).map(Ke=>Ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=ne){return this.instances.has(fe)}getOptions(fe=ne){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:ge={}}=fe,Ke=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(Ke))throw Error(`${this.name}(${Ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:Ke,options:ge});for(const[pe,wt]of this.instancesDeferred.entries())Ke===this.normalizeInstanceIdentifier(pe)&&wt.resolve(at);return at}onInit(fe,ge){var Ke;const at=this.normalizeInstanceIdentifier(ge),pe=null!==(Ke=this.onInitCallbacks.get(at))&&void 0!==Ke?Ke:new Set;pe.add(fe),this.onInitCallbacks.set(at,pe);const wt=this.instances.get(at);return wt&&fe(wt,at),()=>{pe.delete(fe)}}invokeOnInitCallbacks(fe,ge){const Ke=this.onInitCallbacks.get(ge);if(Ke)for(const at of Ke)try{at(fe,ge)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:ge={}}){let Ke=this.instances.get(fe);if(!Ke&&this.component&&(Ke=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=fe,Ge===ne?void 0:Ge),options:ge}),this.instances.set(fe,Ke),this.instancesOptions.set(fe,ge),this.invokeOnInitCallbacks(Ke,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,Ke)}catch{}var Ge;return Ke||null}normalizeInstanceIdentifier(fe=ne){return this.component?this.component.multipleInstances?fe:ne:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const ge=this.getProvider(fe.name);if(ge.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);ge.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const ge=new xe(fe,this);return this.providers.set(fe,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(_n,lt,Y)=>{Y.d(lt,{Yd:()=>_e,in:()=>g});const w=[];var g=(()=>{return(fe=g||(g={}))[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",g;var fe})();const we={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},ne=g.INFO,xe={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},le=(fe,ge,...Ke)=>{if(ge<fe.logLevel)return;const at=(new Date).toISOString(),pe=xe[ge];if(!pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[pe](`[${at}]  ${fe.name}:`,...Ke)};class _e{constructor(ge){this.name=ge,this._logLevel=ne,this._logHandler=le,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in g))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?we[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...ge),this._logHandler(this,g.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...ge),this._logHandler(this,g.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,g.INFO,...ge),this._logHandler(this,g.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,g.WARN,...ge),this._logHandler(this,g.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...ge),this._logHandler(this,g.ERROR,...ge)}}},259:(_n,lt,Y)=>{Y.d(lt,{C6:()=>w.C6,KN:()=>w.KN,Mq:()=>w.Mq,ZF:()=>w.ZF});var w=Y(6881);(0,w.KN)("firebase","9.23.0","app")},5861:(_n,lt,Y)=>{function w(we,ne,xe,le,_e,ut,Ge){try{var fe=we[ut](Ge),ge=fe.value}catch(Ke){return void xe(Ke)}fe.done?ne(ge):Promise.resolve(ge).then(le,_e)}function g(we){return function(){var ne=this,xe=arguments;return new Promise(function(le,_e){var ut=we.apply(ne,xe);function Ge(ge){w(ut,le,_e,Ge,fe,"next",ge)}function fe(ge){w(ut,le,_e,Ge,fe,"throw",ge)}Ge(void 0)})}}Y.d(lt,{Z:()=>g})},7582:(_n,lt,Y)=>{function ne(Ne,Me){var je={};for(var $e in Ne)Object.prototype.hasOwnProperty.call(Ne,$e)&&Me.indexOf($e)<0&&(je[$e]=Ne[$e]);if(null!=Ne&&"function"==typeof Object.getOwnPropertySymbols){var mt=0;for($e=Object.getOwnPropertySymbols(Ne);mt<$e.length;mt++)Me.indexOf($e[mt])<0&&Object.prototype.propertyIsEnumerable.call(Ne,$e[mt])&&(je[$e[mt]]=Ne[$e[mt]])}return je}function Ke(Ne,Me,je,$e){return new(je||(je=Promise))(function(vt,Ot){function an(ln){try{xt($e.next(ln))}catch(Yt){Ot(Yt)}}function Gt(ln){try{xt($e.throw(ln))}catch(Yt){Ot(Yt)}}function xt(ln){ln.done?vt(ln.value):function mt(vt){return vt instanceof je?vt:new je(function(Ot){Ot(vt)})}(ln.value).then(an,Gt)}xt(($e=$e.apply(Ne,Me||[])).next())})}function ft(Ne){return this instanceof ft?(this.v=Ne,this):new ft(Ne)}function _t(Ne,Me,je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt,$e=je.apply(Ne,Me||[]),vt=[];return mt={},Ot("next"),Ot("throw"),Ot("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function Ot(Vn){$e[Vn]&&(mt[Vn]=function(zn){return new Promise(function(Hn,Mn){vt.push([Vn,zn,Hn,Mn])>1||an(Vn,zn)})})}function an(Vn,zn){try{!function Gt(Vn){Vn.value instanceof ft?Promise.resolve(Vn.value.v).then(xt,ln):Yt(vt[0][2],Vn)}($e[Vn](zn))}catch(Hn){Yt(vt[0][3],Hn)}}function xt(Vn){an("next",Vn)}function ln(Vn){an("throw",Vn)}function Yt(Vn,zn){Vn(zn),vt.shift(),vt.length&&an(vt[0][0],vt[0][1])}}function Et(Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Me=Ne[Symbol.asyncIterator];return Me?Me.call(Ne):(Ne=function ke(Ne){var Me="function"==typeof Symbol&&Symbol.iterator,je=Me&&Ne[Me],$e=0;if(je)return je.call(Ne);if(Ne&&"number"==typeof Ne.length)return{next:function(){return Ne&&$e>=Ne.length&&(Ne=void 0),{value:Ne&&Ne[$e++],done:!Ne}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ne),je={},$e("next"),$e("throw"),$e("return"),je[Symbol.asyncIterator]=function(){return this},je);function $e(vt){je[vt]=Ne[vt]&&function(Ot){return new Promise(function(an,Gt){!function mt(vt,Ot,an,Gt){Promise.resolve(Gt).then(function(xt){vt({value:xt,done:an})},Ot)}(an,Gt,(Ot=Ne[vt](Ot)).done,Ot.value)})}}}Y.d(lt,{FC:()=>_t,KL:()=>Et,_T:()=>ne,mG:()=>Ke,qq:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},_n=>{_n(_n.s=2932)}]);